{"version":3,"file":"js/256.322ce087.js","mappings":"kLAAA,MAMyCA,MAAM,c,GACnCA,MAAM,mB,GAPlB,MA4JkBA,MAAM,iB,GACRA,MAAM,iB,GAiBRA,MAAM,gB,GAMHA,MAAM,oB,GAE2BA,MAAM,qC,GACxCA,MAAM,gB,GAvLtB,MA0L8CC,QAAQ,a,GA1LtD,MA6L4BA,QAAQ,a,GAKpBD,MAAM,gB,GAO6BA,MAAM,qC,GACzCA,MAAM,gB,GAINA,MAAM,4B,GAINA,MAAM,gB,EAlNtB,Q,GA6NgBA,MAAM,gB,GAO+BA,MAAM,qC,GAC3CA,MAAM,gB,GAU6BA,MAAM,qC,GACzCA,MAAM,gB,GAUsCA,MAAM,qC,GAUlDA,MAAM,gB,GAiBTA,MAAM,gB,GACPA,MAAM,Y,GAoFHA,MAAM,oB,GAELA,MAAM,yB,GAK0BA,MAAM,qC,GACxCA,MAAM,gB,GAlXpB,MAqX4CC,QAAQ,a,GArXpD,MAwX0BA,QAAQ,a,GAKpBD,MAAM,gB,GAO6BA,MAAM,qC,GACzCA,MAAM,gB,GAINA,MAAM,4B,GAINA,MAAM,gB,EA7YpB,Q,GAwZcA,MAAM,gB,GAO+BA,MAAM,qC,GAC3CA,MAAM,gB,GAU6BA,MAAM,qC,GACzCA,MAAM,gB,GAUsCA,MAAM,qC,GAUlDA,MAAM,gB,GAgBPA,MAAM,MAAME,MAAA,2C,GAGVA,MAAA,0B,GAOAA,MAAA,8E,GAULF,MAAM,gB,IACJA,MAAM,gB,IAEDA,MAAM,c,IAUXA,MAAM,gB,IAUNA,MAAM,gB,IAUNA,MAAM,gB,8JAlgBhB,QA4gBU,WA5gBDG,GAAG,WAAYH,OAF1B,sCAEkE,GAAAI,a,CAE9C,GAAQ,W,WAAxB,QA4QW,MAhRf,QAMmC,OAAlB,GAAAC,gB,WAAX,QAmJM,MAnJN,EAmJM,EAlJJ,QAiJK,KAjJL,EAiJK,EAhJH,QA0BK,MAzBHL,OATZ,SASkB,WAAU,QACoB,WAAlB,GAAAK,iBACjB,QAAK,eAAE,GAAAC,cAAc,Y,gBAXlC,uhB,IAoCU,QAyBK,MAxBHN,OArCZ,SAqCkB,WAAU,QACoB,YAAlB,GAAAK,iBACjB,QAAK,eAAE,GAAAC,cAAc,a,gBAvClC,kgB,IA+DU,QAwBK,MAvBHN,OAhEZ,SAgEkB,WAAU,QACoB,cAAlB,GAAAK,iBACjB,QAAK,eAAE,GAAAC,cAAc,e,gBAlElC,8b,IAyFU,QAiCK,MAhCHN,OA1FZ,SA0FkB,WAAU,QACoB,YAAlB,GAAAK,iBACjB,QAAK,eAAE,GAAAC,cAAc,a,gBA5FlC,mkB,GA6HkB,GAAO,U,WADf,QA2BK,MAvJf,MA8HYN,OA9HZ,SA8HkB,WAAU,QACoB,UAAlB,GAAAK,iBACjB,QAAK,eAAE,GAAAC,cAAc,W,gBAhIlC,wd,KAAA,sB,WA4JM,QAmHM,MAnHN,EAmHM,EAlHJ,QAqBS,SArBT,EAqBS,EAnBP,QAYS,UAZDN,MAAM,WAAY,QAAK,eAAE,GAAAK,cAAgB,MAAM,aAAW,M,gBAChE,QAUM,OATJL,MAAM,YACNC,QAAQ,YACRM,KAAK,OACLC,OAAO,OACP,eAAa,OACb,iBAAe,QACf,kBAAgB,S,EAEhB,QAA4B,QAAtBC,EAAE,sB,OAKZ,QAAkE,KAAlE,GAAkE,QAAtC,GAAAC,gBAAgB,GAAAL,gBAAa,G,eAGzD,QAAmC,QAA7BL,MAAM,iBAAe,aAG7B,QA0FU,UA1FV,EA0FU,E,SAxFR,QAgBK,KAhBL,EAgBK,EAfH,QAUK,KAVL,EAUK,C,eATH,QAAiB,YAAX,QAAI,KACV,QAOW,IAPDW,SAAA,GAASC,MAAM,Y,CAzLvC,kBAsCotJ,IAA4H,CAoJ3yJ,UAAV,EAAAC,Q,WAAX,QAEM,MAFN,EAEM,gBADJ,QAAgC,UAAxBC,GAAG,KAAKC,GAAG,KAAKC,EAAE,K,0BAE5B,QAEM,MAFN,EAEM,gBADJ,QAAqD,QAA/CP,EAAE,4CAA0C,gBA9LpE,SAkMY,QAGK,KAHL,EAGK,C,eAFH,QAAiB,YAAX,QAAI,KACV,QAAmD,IAAxC,QAAK,eAAE,GAAAQ,aAAc,I,CApM9C,kBAoMoD,IAAE,gBApMtD,QAoMoD,UApMpD,S,YAsLwC,WAAlB,GAAAZ,kB,SAmBZ,QAwBK,KAxBL,EAwBK,EAvBH,QAGK,KAHL,EAGK,C,eAFH,QAAoB,YAAd,WAAO,KACb,QAA+D,IAApD,QAAK,eAAEa,EAAAA,MAAM,yB,CA5MtC,kBA4M8D,IAAI,gBA5MlE,QA4M8D,YA5M9D,SA8MY,QAGK,KAHL,EAGK,C,eAFH,QAAiB,YAAX,QAAI,KACV,QAAqF,IAA1E,QAAK,eAAE,GAAAC,iBAAkB,I,CAhNlD,kBAgNwD,IAAgC,EAhNxF,iBAgN2D,EAAAC,kBAAoB,QAAJ,MAhN3E,SAkNY,QAUK,KAVL,EAUK,C,eATH,QAAgB,YAAV,OAAG,KACT,QAA+D,SAAxDC,KAAK,OAAOC,OAAO,UAAW,SAAM,oBAAE,GAAAC,gBAAA,GAAAA,kBAAA,K,SAGrC,GAAAC,WAAa,GAAAA,UAAUC,WAAa,GAAAD,UAAUC,UAAU,EAAAC,e,WADhE,QAKE,OA3NhB,MAwNiBC,IAAK,GAAAH,UAAUC,UAAU,EAAAC,aAC1BE,IAAI,OACJ1B,MAAA,wE,OA1NhB,uBA6NY,QAGK,KAHL,EAGK,C,eAFH,QAAiB,YAAX,QAAI,KACV,QAA4D,IAAjD,QAAK,iBAAEgB,EAAAA,MAAM,sB,CA/NtC,kBA+N2D,IAAI,gBA/N/D,QA+N2D,YA/N3D,S,YAyMwC,YAAlB,GAAAb,kB,SA2BZ,QAQK,KARL,EAQK,EAPH,QAMK,KANL,EAMK,C,eALH,QAAe,YAAT,MAAE,KACR,QAGE,IAFCwB,WAAY,EAAAC,WACZ,sBAAiB,iBAAEZ,EAAAA,MAAM,oBAAqBa,K,sCALvB,cAAlB,GAAA1B,kB,SAWZ,QAQK,KARL,EAQK,EAPH,QAMK,KANL,EAMK,C,eALH,QAAmB,YAAb,UAAM,KACZ,QAGE,IAFCwB,WAAgC,WAApB,EAAAG,gBACZ,sBAAiB,cAAEC,GAAOf,EAAAA,MAAM,yBAA0Be,EAAM,SAAW,a,sCALpD,YAAlB,GAAA5B,kB,SAWZ,QAmBK,KAnBL,EAmBK,G,aAlBH,QAQK,WAnQjB,QA2PmD,EAAA6B,aAAPC,K,WAAhC,QAQK,MARDnC,MAAM,eAA2CoC,IAAKD,G,EACxD,QAAsB,qBAAbA,GAAG,IACZ,QAKE,IAJCA,IAAKA,EACL,gBAAgBA,GAAOjB,EAAAA,MAAM,iBAAkBiB,GAC/C,mBAAoBA,GAAOjB,EAAAA,MAAM,qBAAsBiB,GACvD,oBAAsBA,GAAOjB,EAAAA,MAAM,uBAAwBiB,I,yFAGhE,QAQK,KARL,EAQK,E,SAPH,QAKE,SA1QhB,uCAsQyB,GAAW,eACpBE,YAAY,QACZrC,MAAM,eACNE,MAAA,oH,iBAHS,GAAAoC,gBAKX,QAA2C,IAAhC,QAAO,GAAAC,YAAU,CA3Q1C,kBA2Q4C,IAAE,gBA3Q9C,QA2Q4C,UA3Q5C,K,8BA0PwC,UAAlB,GAAAlC,eAA6B,GAAAmC,iB,kBAyB/C,QAuLW,MA1cf,SAqRM,QAkFQ,QAlFR,EAkFQ,EAjFN,QAgFK,KAhFL,EAgFK,EA/EH,QAaK,MAbDxC,OAvRd,SAuRoB,WAAU,QAAqC,WAAlB,GAAAK,iBAA+B,QAAK,iBAAE,GAAAC,cAAc,Y,gBAvRrG,iX,IAqSU,QAYK,MAZDN,OArSd,SAqSoB,WAAU,QAAqC,YAAlB,GAAAK,iBAAgC,QAAK,iBAAE,GAAAC,cAAc,a,gBAC1F,QASM,OARJN,MAAM,WACNC,QAAQ,YACRO,OAAO,eACPD,KAAK,OACL,eAAa,K,EAEb,QAAwE,QAAlEE,EAAE,iEACR,QAAoD,QAA9CA,EAAE,8C,IAEV,QAAmC,QAA7BT,MAAM,aAAY,QAAI,K,IAE9B,QAWK,MAXDA,OAlTd,SAkToB,WAAU,QAAqC,cAAlB,GAAAK,iBAAkC,QAAK,iBAAE,GAAAC,cAAc,e,gBAC5F,QAQM,OAPJN,MAAM,WACNC,QAAQ,YACRO,OAAO,eACPD,KAAK,OACL,eAAa,K,EAEb,QAA6E,QAAvEE,EAAE,uE,IAEV,QAAmC,QAA7BT,MAAM,aAAY,QAAI,K,IAE9B,QAoBK,MApBDA,OA9Td,SA8ToB,WAAU,QAAqC,YAAlB,GAAAK,iBAAgC,QAAK,iBAAE,GAAAC,cAAc,a,gBAC1F,QAiBM,OAhBJN,MAAM,WACNC,QAAQ,YACRO,OAAO,eACPD,KAAK,OACL,eAAa,K,EAEb,QAIE,QAHA,iBAAe,QACf,kBAAgB,QAChBE,EAAE,+CAEJ,QAIE,QAHA,iBAAe,QACf,kBAAgB,QAChBA,EAAE,gC,IAGN,QAAsC,QAAhCT,MAAM,aAAY,WAAO,K,GAGzB,GAAO,U,WADf,QAkBK,MArWf,MAqVYA,OArVZ,SAqVkB,WAAU,QACoB,UAAlB,GAAAK,iBACjB,QAAK,iBAAE,GAAAC,cAAc,W,gBAEtB,QAUM,OATJN,MAAM,WACNC,QAAQ,YACRO,OAAO,eACPD,KAAK,OACL,eAAa,K,EAEb,QAEE,QADAE,EAAE,kG,IAGN,QAAkC,QAA5BT,MAAM,aAAY,OAAG,K,KApWvC,oBA0WM,QA+FU,UA/FV,EA+FU,EA7FR,QAES,SAFT,GAES,QADJ,GAAAU,gBAAgB,GAAAL,gBAAa,I,SAIlC,QAgBK,KAhBL,EAgBK,EAfH,QAUK,KAVL,EAUK,C,eATH,QAAiB,YAAX,QAAI,KACV,QAOW,IAPDM,SAAA,GAASC,MAAM,Y,CApXrC,kBAsCwrX,IAAwH,CA+U7wX,UAAV,EAAAC,Q,WAAX,QAEM,MAFN,EAEM,gBADJ,QAAgC,UAAxBC,GAAG,KAAKC,GAAG,KAAKC,EAAE,K,0BAE5B,QAEM,MAFN,EAEM,gBADJ,QAAqD,QAA/CP,EAAE,4CAA0C,gBAzXlE,SA6XU,QAGK,KAHL,EAGK,C,eAFH,QAAiB,YAAX,QAAI,KACV,QAAmD,IAAxC,QAAK,iBAAE,GAAAQ,aAAc,I,CA/X5C,kBA+XkD,IAAE,gBA/XpD,QA+XkD,UA/XlD,S,YAiXsC,WAAlB,GAAAZ,kB,SAmBZ,QAwBK,KAxBL,EAwBK,EAvBH,QAGK,KAHL,EAGK,C,eAFH,QAAoB,YAAd,WAAO,KACb,QAA+D,IAApD,QAAK,iBAAEa,EAAAA,MAAM,yB,CAvYpC,kBAuY4D,IAAI,gBAvYhE,QAuY4D,YAvY5D,SAyYU,QAGK,KAHL,EAGK,C,eAFH,QAAiB,YAAX,QAAI,KACV,QAAqF,IAA1E,QAAK,iBAAE,GAAAC,iBAAkB,I,CA3YhD,kBA2YsD,IAAgC,EA3YtF,iBA2YyD,EAAAC,kBAAoB,QAAJ,MA3YzE,SA6YU,QAUK,KAVL,EAUK,C,eATH,QAAgB,YAAV,OAAG,KACT,QAA+D,SAAxDC,KAAK,OAAOC,OAAO,UAAW,SAAM,sBAAE,GAAAC,gBAAA,GAAAA,kBAAA,K,SAGrC,GAAAC,WAAa,GAAAA,UAAUC,WAAa,GAAAD,UAAUC,UAAU,EAAAC,e,WADhE,QAKE,OAtZd,MAmZeC,IAAK,GAAAH,UAAUC,UAAU,EAAAC,aAC1BE,IAAI,OACJ1B,MAAA,wE,OArZd,uBAwZU,QAGK,KAHL,EAGK,C,eAFH,QAAiB,YAAX,QAAI,KACV,QAA4D,IAAjD,QAAK,iBAAEgB,EAAAA,MAAM,sB,CA1ZpC,kBA0ZyD,IAAI,gBA1Z7D,QA0ZyD,YA1ZzD,S,YAoYsC,YAAlB,GAAAb,kB,SA2BZ,QAQK,KARL,EAQK,EAPH,QAMK,KANL,EAMK,C,eALH,QAAe,YAAT,MAAE,KACR,QAGE,IAFCwB,WAAY,EAAAC,WACZ,sBAAiB,iBAAEZ,EAAAA,MAAM,oBAAqBa,K,sCALvB,cAAlB,GAAA1B,kB,SAWZ,QAQK,KARL,EAQK,EAPH,QAMK,KANL,EAMK,C,eALH,QAAmB,YAAb,UAAM,KACZ,QAGE,IAFCwB,WAAgC,WAApB,EAAAG,gBACZ,sBAAiB,cAAEC,GAAOf,EAAAA,MAAM,yBAA0Be,EAAM,SAAW,a,sCALpD,YAAlB,GAAA5B,kB,SAWZ,QAmBK,KAnBL,EAmBK,G,aAlBH,QAQK,WA9bf,QAsbiD,EAAA6B,aAAPC,K,WAAhC,QAQK,MARDnC,MAAM,eAA2CoC,IAAKD,G,EACxD,QAAsB,qBAAbA,GAAG,IACZ,QAKE,IAJCA,IAAKA,EACL,gBAAgBA,GAAOjB,EAAAA,MAAM,iBAAkBiB,GAC/C,mBAAoBA,GAAOjB,EAAAA,MAAM,qBAAsBiB,GACvD,oBAAsBA,GAAOjB,EAAAA,MAAM,uBAAwBiB,I,yFAGhE,QAQK,KARL,EAQK,E,SAPH,QAKE,SArcd,uCAicuB,GAAW,eACpBE,YAAY,QACZrC,MAAM,eACNE,MAAA,oH,iBAHS,GAAAoC,gBAKX,QAA2C,IAAhC,QAAO,GAAAC,YAAU,CAtcxC,kBAsc0C,IAAE,gBAtc5C,QAsc0C,UAtc1C,K,8BAqbsC,UAAlB,GAAAlC,eAA6B,GAAAmC,c,kBAwB7C,QAkBW,MAlBDC,GAAG,QAAM,CACN,GAAe,kB,WAA1B,QAgBM,OA9dZ,MA8ckCzC,MAAM,aAAc,QAAK,eA9c3D,YA8ckE,GAAAmB,iBAAkB,GAAH,Y,EACzE,QAcM,MAdN,EAcM,EAbJ,QAA6D,QAAvDnB,MAAM,QAAS,QAAK,iBAAE,GAAAmB,iBAAkB,IAAO,K,eACrD,QAA0C,MAAtCjB,MAAA,0BAA6B,QAAI,KACrC,QAMM,MANN,EAMM,E,SALJ,QAIE,SAvdd,uCAoduB,GAAW,eACpBmC,YAAY,UACZnC,MAAA,iH,iBAFS,GAAAwC,kBAKb,QAGM,MAHN,EAGM,EAFJ,QAAwD,IAA7C,QAAK,iBAAE,GAAAvB,iBAAkB,I,CA1dhD,kBA0duD,IAAE,gBA1dzD,QA0duD,UA1dvD,OA2dY,QAA8C,IAAnC,QAAO,GAAAwB,eAAa,CA3d3C,kBA2d6C,IAAE,gBA3d/C,QA2d6C,UA3d7C,K,uBAAA,mBAkeI,QA2CY,IA7gBhB,WAkewB,GAAA1B,YAlexB,uCAkewB,GAAW,eAAEL,MAAM,OAAOgC,SAAS,S,CAuC1CC,QAAM,SACf,EADmBC,WAAK,EACxB,QAAyC,IAA9B,QAAO,GAAAC,UAAQ,CA1gBlC,kBA0gBoC,IAAE,gBA1gBtC,QA0gBoC,UA1gBpC,K,gBA2gBQ,QAA0C,IAA/B,QAAO,GAAAC,WAAS,CA3gBnC,kBA2gBqC,IAAE,gBA3gBvC,QA2gBqC,UA3gBrC,K,kBAAA,kBAmeM,IAqCK,EArCL,QAqCK,KArCL,EAqCK,EApCH,QAWK,KAXL,GAWK,C,eAVH,QAAiB,YAAX,QAAI,KACV,QAQQ,QARR,GAQQ,EAPN,QAAyB,SAverC,kBAuesB,IAAI,gBAve1B,QAuesB,YAvetB,OAweY,QAKE,SAJA3B,KAAK,OACLC,OAAO,UACN,SAAM,sBAAE,GAAA2B,YAAA,GAAAA,cAAA,IACT/C,MAAA,kB,cAIN,QASK,KATL,GASK,C,eARH,QAAkB,YAAZ,SAAK,K,SACX,QAME,SALAmB,KAAK,QACL6B,IAAI,IACJC,IAAI,IACJC,KAAK,OAtfjB,uCAuf4B,GAAY,iB,iBAAZ,GAAAC,kB,GAARC,QAAR,SAGJ,QASK,KATL,GASK,C,eARH,QAAiB,YAAX,QAAI,K,SACV,QAME,SALAjC,KAAK,QACL6B,IAAI,IACJC,IAAI,KACJC,KAAK,IAhgBjB,uCAigB4B,GAAS,c,iBAAT,GAAAG,e,GAARD,QAAR,SAGJ,QAGK,KAHL,GAGK,C,eAFH,QAAiB,YAAX,QAAI,KACV,QAA0C,IAA/B,QAAO,GAAAE,SAAO,CAtgBnC,kBAsgBqC,IAAI,gBAtgBzC,QAsgBqC,YAtgBrC,K,sBAAA,K,+ICSA,MAAMC,EAAQ,EAGRC,EAAO,EAEb,SAASC,EAAQC,GACVH,EAAM9C,UACT+C,EAAK,QAASE,EAElB,C,mJCZA,MAAMC,IAA2B,QAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,M,+JCMA,MAGMH,EAAO,EAEb,SAASI,EAASF,GAChBF,EAAK,oBAAqBE,EAAEG,OAAOC,QACrC,C,yLCfM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,M,qOCWE,MAAMP,EAAQ,EAKRC,EAAO,EACPO,GAAO,QAAS,CACpBC,IAAM,IAAMT,EAAM5B,WAClBsC,IAAMC,GAAKV,EAAK,oBAAqBU,KAEjCtB,EAAQ,IAAMmB,EAAKI,OAAQ,EAE3BC,GAAW,SAAS,KAAM,CAC9BC,MAAS,OACT3B,SAAUa,EAAMb,SAChB4B,QAAS,OACTC,SAAU,e,ycC9BR,GAAc,GAEpB,M,ICLOzE,MAAM,kB,wEAAX,QAeM,MAfN,GAeM,EAbJ,QAEW,GAFA,QAAK,eAAEkB,EAAAA,MAAM,iBAAkB,EAAAiB,O,CAJ9C,kBAIoD,IAEhD,cANJ,QAIoD,cAJpD,OASI,QAEW,GAFA,QAAK,eAAEjB,EAAAA,MAAM,qBAAsB,EAAAiB,O,CATlD,kBASwD,IAEpD,cAXJ,QASwD,eATxD,OAcI,QAEW,GAFA,QAAK,eAAEjB,EAAAA,MAAM,uBAAwB,EAAAiB,O,CAdpD,kBAc0D,IAEtD,cAhBJ,QAc0D,cAd1D,O,CAuBA,UACEuC,KAAM,gBACNC,WAAY,CAAEC,SAAQ,IACtBnB,MAAO,CAELtB,IAAK,CACHd,KAAM,CAACwD,OAAQC,QACfC,UAAU,KCvBV,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,M,cR+gBA,UACEL,KAAM,gBACNC,WAAY,CAAEC,SAAQ,GAAEI,aAAY,GAAEC,cAAa,GAAEC,UAAS,IAC9DC,MAAO,CACL,eACA,eACA,mBACA,gBACA,yBACA,oBACA,0BACA,sBACA,mBACA,iBACA,kBACA,qBACA,wBAEF1B,MAAO,CACL5C,MAAOgE,OACPO,UAAWN,OACXO,OAAQP,OACRQ,MAAOT,OACP7C,gBAAiB6C,OACjB/C,WAAYyD,QACZnE,iBAAkByD,OAClB3C,YAAasD,MACb9D,YAAa,CAACmD,OAAQC,QACtBW,SAAU,CAACZ,OAAQC,SAErB,IAAAY,GACE,MAAO,CACLrF,cAAe,SACfD,UAAU,EACVkC,YAAa,GACbnB,iBAAiB,EACjBuB,YAAaiD,KAAKvE,kBAAoB,GACtCH,aAAa,EACb2E,UAAWD,KAAKL,MAChBO,YAAaF,KAAKP,UAClBU,SAAUH,KAAKN,OACfU,WAAYJ,KAAKL,MACjBjC,aAAcsC,KAAKP,UACnB7B,UAAWoC,KAAKN,OAChB7D,UAAW,KAEf,EACAwE,SAAU,CACR,OAAAxD,GACE,OAAOqC,OAAOc,KAAKjE,eAAiBmD,OAAOc,KAAKF,SAClD,EACA,eAAA/E,GACE,MAAO,CACLuF,OAAQ,UACRC,QAAS,OACTC,UAAW,OACXC,QAAS,UACTC,MAAO,MAEX,GAEFC,MAAO,CACL,WAAArF,CAAYgB,GACNA,IACF0D,KAAKC,UAAYD,KAAKL,MACtBK,KAAKE,YAAcF,KAAKP,UACxBO,KAAKG,SAAWH,KAAKN,OACrBM,KAAKI,WAAaJ,KAAKL,MACvBK,KAAKtC,aAAesC,KAAKP,UACzBO,KAAKpC,UAAYoC,KAAKN,OAE1B,EACA,UAAAU,CAAW9D,GACL0D,KAAK1E,aACP0E,KAAKzE,MAAM,eAAgBe,EAE/B,EACA,YAAAoB,CAAapB,GACP0D,KAAK1E,aACP0E,KAAKzE,MAAM,mBAAoBe,EAEnC,EACA,SAAAsB,CAAUtB,GACJ0D,KAAK1E,aACP0E,KAAKzE,MAAM,gBAAiBe,EAEhC,GAEF,OAAAsE,GACEC,OAAOC,iBAAiB,SAAUd,KAAKe,aAAc,CAAEC,SAAS,IAChEhB,KAAKe,eACLf,KAAKnE,WAAY,SACnB,EACA,aAAAoF,GACEJ,OAAOK,oBAAoB,SAAUlB,KAAKe,aAC5C,EACAI,QAAS,CACP,YAAAJ,GACEf,KAAKvF,SAAWoG,OAAOO,WAAa,IAChCpB,KAAKvF,UAAmC,KAAvBuF,KAAKtF,gBACxBsF,KAAKtF,cAAgB,KAEzB,EACA,aAAAC,CAAc8B,GACZuD,KAAKtF,cAAgB+B,CACvB,EACA,cAAAb,CAAeqC,GACb,MAAMoD,EAAOpD,EAAEG,OAAOkD,MAAM,GAC5B,IAAKD,EAAM,OACX,MAAME,EAAS,IAAIC,WACnBD,EAAOE,OAAS,KACdzB,KAAKnE,UAAU6F,UAAU1B,KAAKjE,YAAawF,EAAOI,OAAM,EAE1DJ,EAAOK,cAAcP,EACvB,EACA,OAAAxD,GACEmC,KAAKzE,MAAM,eAAgB,IAC3ByE,KAAKzE,MAAM,mBAAoB,GAC/ByE,KAAKzE,MAAM,gBAAiB,GAC5ByE,KAAKI,WAAa,GAClBJ,KAAKtC,aAAe,EACpBsC,KAAKpC,UAAY,CACnB,EACA,QAAAR,GACE4C,KAAKzE,MAAM,eAAgByE,KAAKC,WAChCD,KAAKzE,MAAM,mBAAoByE,KAAKE,aACpCF,KAAKzE,MAAM,gBAAiByE,KAAKG,UACjCH,KAAK1E,aAAc,CACrB,EACA,SAAA+B,GACE2C,KAAK1E,aAAc,CACrB,EACA,aAAA0B,GACEgD,KAAKzE,MAAM,0BAA2ByE,KAAKjD,YAAY8E,QACvD7B,KAAKxE,iBAAkB,CACzB,EACA,UAAAoB,GACE,MAAMkF,GAAK9B,KAAKrD,aAAe,IAAIkF,OAC9BC,EAIA9B,KAAKzD,YAAYwF,SAASD,GAI7BE,MAAM,OAAOF,aAHb9B,KAAKzE,MAAM,kBAAmBuG,GAC9B9B,KAAKrD,YAAc,IALnBqF,MAAM,YASV,EACA,UAAA1E,CAAWW,GACT,MAAMoD,EAAOpD,EAAEG,OAAOkD,MAAM,GAC5B,IAAKD,EAAM,OACX,MAAME,EAAS,IAAIC,WACnBD,EAAOE,OAASQ,IACdjC,KAAKI,WAAa6B,EAAG7D,OAAOuD,QAE9BJ,EAAOK,cAAcP,EACvB,IS9qBE,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASa,IAAQ,CAAC,YAAY,qBAEzF,M,wBCsBA,MAAMC,GAAY,Y,mCAClB,MAAMC,EAAS,CACb,CAAE5H,GAAI,OAAWuE,KAAM,OACvB,CAAEvE,GAAI,OAAWuE,KAAM,SACvB,CAAEvE,GAAI,UAAWuE,KAAM,UAInBlD,GAAc,UACdE,GAAc,SAAS,IAAMF,EAAUE,cAGvCsG,GAAc,SAClBC,aAAaC,QAAQ,gBAAkBxG,EAAY2C,OAAS,MAAQ,IAIhExD,GAAkB,SAAIoH,aAAaC,QAAQ,UAAY,QACvD5C,GAAkB,SAAI2C,aAAaC,QAAQ,UAAY,IACvD9C,GAAkB,SAAI+C,WAAWF,aAAaC,QAAQ,cAAgB,SACtE7C,GAAkB,SAAI+C,SAASH,aAAaC,QAAQ,WAAa,IAAK,KACtElG,GAAkB,SAAIiG,aAAaC,QAAQ,oBAAsB,WACjEpG,GAAkB,SAAIuG,KAAKC,MAAML,aAAaC,QAAQ,eAAiB,SACvEK,GAAkB,SACtBN,aAAaC,QAAQ,SAAWxG,EAAY2C,OAAS,MAAQ,QAEzDnC,GAAc,SAClBmG,KAAKC,MAAML,aAAaC,QAAQ,mBAAqB,QAEnC,SAAI,IA0CxBM,eAAeC,IACb,IAAK/G,EAAY2C,MAEf,YADAsD,MAAM,kBAGR,MAAMxF,EAAMT,EAAY2C,MAClBqE,EAAU,QAAQvG,IAClBwG,EAAMV,aAAaC,QAAQQ,GACjC,IAAKC,EAEH,YADAhB,MAAM,aAGR,MAAMiB,EAASpC,OAAOqC,OAAO,WAC7B,GAAe,OAAXD,EAAiB,OACrB,MAAQE,KAAMC,EAAU,KAAEC,EAAI,KAAEC,GAASZ,KAAKC,MAAMK,GAC9CO,QAAgB,SAAWN,EAAQI,EAAMC,GAC/C,GAAIC,IAAYH,EAEd,YADApB,MAAM,WAGR,MAAMwB,EAAS3C,OAAOqC,OAAO,iBAC7B,GAAe,OAAXM,EAAiB,OACrB,GAAIA,EAAOC,OAAS,EAElB,YADAzB,MAAM,cAGR,MAAM0B,EAAa7C,OAAOqC,OAAO,aACjC,GAAmB,OAAfQ,EAAqB,OACzB,GAAIA,IAAeF,EAEjB,YADAxB,MAAM,gBAGR,MAAM2B,QAAgB,SAAWH,EAAQH,EAAMC,GAC/ChB,aAAasB,QAAQb,EAASL,KAAKmB,UAAU,CAAEV,KAAMQ,EAASN,OAAMC,UACpEtB,MAAM,UACR,CAEA,SAAS8B,IACP,MAAMC,EAAM3B,EAAO4B,KAAKC,GAAMA,EAAEzJ,KAAI0J,KAAK,OACnCC,EAAStD,OAAOqC,OAAO,mBAAmBa,MAASnB,EAAclE,OACxD,OAAXyF,IACC/B,EAAOgC,MAAMH,GAAMA,EAAEzJ,KAAO2J,KAIjCvB,EAAclE,MAAQyF,EACtBnC,MAAM,WAAWmC,MAJfnC,MAAM,YAKV,CAGA,SAASqC,EAAc7H,GAChBK,QAAQ6B,MAIRlC,GACAqE,OAAOyD,QAAQ,WAAW9H,sBAC/B8F,aAAaiC,WAAW,QAAQ/H,KAChC8F,aAAaiC,WAAW,QAAQ/H,KAChCwF,MAAM,WAAWxF,YAPfwF,MAAM,cAQV,C,OAnGA,QAAM9G,GAAQoB,IACZkI,SAASC,KAAKC,UAAUC,OAAO,OAAgB,SAARrI,GACvCgG,aAAasB,QAAQ,QAAStH,EAAG,KAEnC,QAAMqD,GAAQrD,IACZgG,aAAasB,QAAQ,QAAStH,EAAG,KAEnC,QAAMmD,GAAYnD,IAChBgG,aAAasB,QAAQ,YAAatH,EAAIsI,WAAU,KAElD,QAAMlF,GAASpD,IACbgG,aAAasB,QAAQ,SAAUtH,EAAIsI,WAAU,KAE/C,QAAMvI,GAAkBC,IACtBgG,aAAasB,QAAQ,kBAAmBtH,EAAG,KAE7C,QAAMH,GAAaG,IACjBgG,aAAasB,QAAQ,aAAclB,KAAKmB,UAAUvH,GAAI,KAExD,QAAM+F,GAAc/F,IACdP,EAAY2C,QACd4D,aAAasB,QAAQ,eAAiB7H,EAAY2C,MAAOpC,EAAIuF,QAE7DhG,EAAUgJ,eAAe9I,EAAY2C,MAAOpC,EAAIuF,QAClD,KAEF,QAAMe,GAAgBtG,IAChBP,EAAY2C,QACd4D,aAAasB,QAAQ,QAAU7H,EAAY2C,MAAOpC,GAElDT,EAAUiJ,SAAS/I,EAAY2C,MAAOpC,GACxC,KAEF,QAAMC,GAAcD,IAClBgG,aAAasB,QAAQ,iBAAkBlB,KAAKmB,UAAUvH,GAAI,I,i/BC3FtD,IAA2B,QAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,K","sources":["webpack://my-vue-app/./src/components/organisms/SettingsPanel.vue","webpack://my-vue-app/./src/components/atoms/GhostBtn.vue","webpack://my-vue-app/./src/components/atoms/GhostBtn.vue?420a","webpack://my-vue-app/./src/components/atoms/ToggleSwitch.vue","webpack://my-vue-app/./src/components/atoms/ToggleSwitch.vue?2610","webpack://my-vue-app/./src/components/common/BaseModal.vue","webpack://my-vue-app/./src/components/common/BaseModal.vue?c31c","webpack://my-vue-app/./src/components/molecules/AdminControls.vue","webpack://my-vue-app/./src/components/molecules/AdminControls.vue?205c","webpack://my-vue-app/./src/components/organisms/SettingsPanel.vue?52e2","webpack://my-vue-app/./src/views/SettingsPage.vue","webpack://my-vue-app/./src/views/SettingsPage.vue?3715"],"sourcesContent":["<!-- src/components/organisms/SettingsPanel.vue -->\n<template>\n  <section id=\"settings\" :class=\"['settings-container', { mobile: isMobile }]\">\n    <!-- ====================== 📱 Mobile ====================== -->\n    <template v-if=\"isMobile\">\n      <!-- ▶ 主导航列表（Mobile） -->\n      <div v-if=\"activeSection === null\" class=\"mobile-nav\">\n        <ul class=\"nav-list mobile\">\n          <li\n            class=\"nav-item\"\n            :class=\"{ active: activeSection === 'visual' }\"\n            @click=\"toggleSection('visual')\"\n          >\n            <svg\n              class=\"nav-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path d=\"M2.5 21.5l2-2 4-4L6 15l-4 4v2.5h2.5z\" />\n              <path d=\"M6 15l9-9 3 3-9 9\" />\n              <path d=\"M14.5 5.5l3.5-3.5 3 3-3.5 3.5\" />\n            </svg>\n            <span class=\"nav-label\">视觉 / 界面</span>\n            <svg\n              class=\"chevron-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path d=\"M9 18l6-6-6-6\" />\n            </svg>\n          </li>\n\n          <li\n            class=\"nav-item\"\n            :class=\"{ active: activeSection === 'profile' }\"\n            @click=\"toggleSection('profile')\"\n          >\n            <svg\n              class=\"nav-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z\" />\n              <path d=\"M4 20v-2c0-2.21 3.58-4 8-4s8 1.79 8 4v2\" />\n            </svg>\n            <span class=\"nav-label\">个人资料</span>\n            <svg\n              class=\"chevron-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path d=\"M9 18l6-6-6-6\" />\n            </svg>\n          </li>\n\n          <li\n            class=\"nav-item\"\n            :class=\"{ active: activeSection === 'assistant' }\"\n            @click=\"toggleSection('assistant')\"\n          >\n            <svg\n              class=\"nav-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10z\" />\n            </svg>\n            <span class=\"nav-label\">交互助手</span>\n            <svg\n              class=\"chevron-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path d=\"M9 18l6-6-6-6\" />\n            </svg>\n          </li>\n\n          <li\n            class=\"nav-item\"\n            :class=\"{ active: activeSection === 'publish' }\"\n            @click=\"toggleSection('publish')\"\n          >\n            <svg\n              class=\"nav-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                d=\"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2\"\n              />\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                d=\"M7 10l5-5m0 0l5 5m-5-5v12\"\n              />\n            </svg>\n            <span class=\"nav-label\">发布 与 上传</span>\n            <svg\n              class=\"chevron-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path d=\"M9 18l6-6-6-6\" />\n            </svg>\n          </li>\n\n          <li\n            v-if=\"isAdmin\"\n            class=\"nav-item\"\n            :class=\"{ active: activeSection === 'admin' }\"\n            @click=\"toggleSection('admin')\"\n          >\n            <svg\n              class=\"nav-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path\n                d=\"M9.4 11c.2-.7.6-1.4 1.1-2.1 1-1.4 2.5-2.4 4.2-2.8M12 2a10 10 0 1 0 10 10c0-2-.6-3.9-1.7-5.5\"\n              />\n            </svg>\n            <span class=\"nav-label\">管理员</span>\n            <svg\n              class=\"chevron-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path d=\"M9 18l6-6-6-6\" />\n            </svg>\n          </li>\n        </ul>\n      </div>\n\n      <!-- ▶ Mobile → Detail (二级内容) -->\n      <div v-else class=\"mobile-detail\">\n        <header class=\"detail-header\">\n          <!-- 返回按钮 -->\n          <button class=\"back-btn\" @click=\"activeSection = null\" aria-label=\"返回\">\n            <svg\n              class=\"icon-back\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"#fff\"\n              stroke-width=\"2.75\"\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n            >\n              <path d=\"M15 18l-6-6 6-6\" />\n            </svg>\n          </button>\n\n          <!-- 二级标题 -->\n          <h2 class=\"detail-title\">{{ sectionTitleMap[activeSection] }}</h2>\n\n          <!-- 占位符：为了让标题始终水平居中 -->\n          <span class=\"header-spacer\"></span>\n        </header>\n\n        <section class=\"settings-content\">\n          <!-- —— “视觉 / 界面” 部分 —— -->\n          <ul v-show=\"activeSection === 'visual'\" class=\"settings-group setting-group-card\">\n            <li class=\"setting-item\">\n              <span>主题模式</span>\n              <GhostBtn disabled title=\"已锁定为深色模式\">\n                <svg v-if=\"theme === 'light'\" viewBox=\"0 0 24 24\">\n                  <circle cx=\"12\" cy=\"12\" r=\"5\" />\n                </svg>\n                <svg v-else viewBox=\"0 0 24 24\">\n                  <path d=\"M21 12.8A9 9 0 1111.2 3 7 7 0 0021 12.8z\" />\n                </svg>\n              </GhostBtn>\n            </li>\n            <li class=\"setting-item\">\n              <span>背景设置</span>\n              <GhostBtn @click=\"showBgModal = true\">打开</GhostBtn>\n            </li>\n          </ul>\n\n          <!-- —— “个人资料” 部分 —— -->\n          <ul v-show=\"activeSection === 'profile'\" class=\"settings-group setting-group-card\">\n            <li class=\"setting-item\">\n              <span>账号 / 安全</span>\n              <GhostBtn @click=\"$emit('open-password-modal')\">更改密码</GhostBtn>\n            </li>\n            <li class=\"setting-item rename-item\">\n              <span>我的昵称</span>\n              <GhostBtn @click=\"showRenameModal = true\">{{ localDisplayName || '设置昵称' }}</GhostBtn>\n            </li>\n            <li class=\"setting-item\">\n              <span>头像：</span>\n              <input type=\"file\" accept=\"image/*\" @change=\"onAvatarChange\" />\n              <!-- ★ 在显示头像前先做判空检查 -->\n              <img\n                v-if=\"userStore && userStore.avatarMap && userStore.avatarMap[currentUser]\"\n                :src=\"userStore.avatarMap[currentUser]\"\n                alt=\"头像预览\"\n                style=\"width: 60px; height: 60px; border-radius: 50%; margin-left: 8px;\"\n              />\n            </li>\n            <li class=\"setting-item\">\n              <span>勋章中心</span>\n              <GhostBtn @click=\"$emit('open-badge-modal')\">更换勋章</GhostBtn>\n            </li>\n          </ul>\n\n          <!-- —— “交互助手” 部分 —— -->\n          <ul v-show=\"activeSection === 'assistant'\" class=\"settings-group setting-group-card\">\n            <li class=\"setting-item\">\n              <span>AI</span>\n              <ToggleSwitch\n                :modelValue=\"llmEnabled\"\n                @update:modelValue=\"$emit('update:llmEnabled', $event)\"\n              />\n            </li>\n          </ul>\n\n          <!-- —— “发布 与 上传” 部分 —— -->\n          <ul v-show=\"activeSection === 'publish'\" class=\"settings-group setting-group-card\">\n            <li class=\"setting-item\">\n              <span>图片嵌入正文</span>\n              <ToggleSwitch\n                :modelValue=\"imageInsertMode === 'inline'\"\n                @update:modelValue=\"val => $emit('update:imageInsertMode', val ? 'inline' : 'preview')\"\n              />\n            </li>\n          </ul>\n\n          <!-- —— “管理员” 部分 —— -->\n          <ul v-show=\"activeSection === 'admin' && isAdmin\" class=\"settings-group setting-group-card\">\n            <li class=\"setting-item\" v-for=\"uid in allowedUids\" :key=\"uid\">\n              <span>{{ uid }}</span>\n              <AdminControls\n                :uid=\"uid\"\n                @reset-password=\"uid => $emit('reset-password', uid)\"\n                @remove-allowed-uid=\"uid => $emit('remove-allowed-uid', uid)\"\n                @open-admin-pwd-modal=\"uid => $emit('open-admin-pwd-modal', uid)\"\n              />\n            </li>\n            <li class=\"setting-item\">\n              <input\n                v-model=\"newAdminUid\"\n                placeholder=\"新 UID\"\n                class=\"rename-input\"\n                style=\"background: #1f1f1f; color: #e0e0e0; border: 1px solid #444; border-radius: 4px; padding: 6px 8px; width: 60%;\"\n              />\n              <GhostBtn @click=\"emitAddUid\">新增</GhostBtn>\n            </li>\n          </ul>\n        </section>\n      </div>\n    </template>\n\n    <!-- ====================== 💻 Desktop ====================== -->\n    <template v-else>\n      <!-- ▶ 左侧 Desktop 一级导航 -->\n      <aside class=\"settings-nav\">\n        <ul class=\"nav-list\">\n          <li class=\"nav-item\" :class=\"{ active: activeSection === 'visual' }\" @click=\"toggleSection('visual')\">\n            <svg\n              class=\"nav-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path d=\"M2.5 21.5l2-2 4-4L6 15l-4 4v2.5h2.5z\" />\n              <path d=\"M6 15l9-9 3 3-9 9\" />\n              <path d=\"M14.5 5.5l3.5-3.5 3 3-3.5 3.5\" />\n            </svg>\n            <span class=\"nav-label\">视觉 / 界面</span>\n          </li>\n          <li class=\"nav-item\" :class=\"{ active: activeSection === 'profile' }\" @click=\"toggleSection('profile')\">\n            <svg\n              class=\"nav-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z\" />\n              <path d=\"M4 20v-2c0-2.21 3.58-4 8-4s8 1.79 8 4v2\" />\n            </svg>\n            <span class=\"nav-label\">个人资料</span>\n          </li>\n          <li class=\"nav-item\" :class=\"{ active: activeSection === 'assistant' }\" @click=\"toggleSection('assistant')\">\n            <svg\n              class=\"nav-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10z\" />\n            </svg>\n            <span class=\"nav-label\">交互助手</span>\n          </li>\n          <li class=\"nav-item\" :class=\"{ active: activeSection === 'publish' }\" @click=\"toggleSection('publish')\">\n            <svg\n              class=\"nav-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                d=\"M4 16v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2\"\n              />\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                d=\"M7 10l5-5m0 0l5 5m-5-5v12\"\n              />\n            </svg>\n            <span class=\"nav-label\">发布 与 上传</span>\n          </li>\n          <li\n            v-if=\"isAdmin\"\n            class=\"nav-item\"\n            :class=\"{ active: activeSection === 'admin' }\"\n            @click=\"toggleSection('admin')\"\n          >\n            <svg\n              class=\"nav-icon\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              stroke-width=\"2\"\n            >\n              <path\n                d=\"M9.4 11c.2-.7.6-1.4 1.1-2.1 1-1.4 2.5-2.4 4.2-2.8M12 2a10 10 0 1 0 10 10c0-2-.6-3.9-1.7-5.5\"\n              />\n            </svg>\n            <span class=\"nav-label\">管理员</span>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- ▶ 右侧 Desktop 详细内容 -->\n      <section class=\"settings-content\">\n        <!-- Desktop 标题栏 -->\n        <header class=\"desktop-detail-header\">\n          {{ sectionTitleMap[activeSection] }}\n        </header>\n\n        <!-- —— “视觉 / 界面” —— -->\n        <ul v-show=\"activeSection === 'visual'\" class=\"settings-group setting-group-card\">\n          <li class=\"setting-item\">\n            <span>主题模式</span>\n            <GhostBtn disabled title=\"已锁定为深色模式\">\n              <svg v-if=\"theme === 'light'\" viewBox=\"0 0 24 24\">\n                <circle cx=\"12\" cy=\"12\" r=\"5\" />\n              </svg>\n              <svg v-else viewBox=\"0 0 24 24\">\n                <path d=\"M21 12.8A9 9 0 1111.2 3 7 7 0 0021 12.8z\" />\n              </svg>\n            </GhostBtn>\n          </li>\n          <li class=\"setting-item\">\n            <span>背景设置</span>\n            <GhostBtn @click=\"showBgModal = true\">打开</GhostBtn>\n          </li>\n        </ul>\n\n        <!-- —— “个人资料” —— -->\n        <ul v-show=\"activeSection === 'profile'\" class=\"settings-group setting-group-card\">\n          <li class=\"setting-item\">\n            <span>账号 / 安全</span>\n            <GhostBtn @click=\"$emit('open-password-modal')\">更改密码</GhostBtn>\n          </li>\n          <li class=\"setting-item rename-item\">\n            <span>我的昵称</span>\n            <GhostBtn @click=\"showRenameModal = true\">{{ localDisplayName || '设置昵称' }}</GhostBtn>\n          </li>\n          <li class=\"setting-item\">\n            <span>头像：</span>\n            <input type=\"file\" accept=\"image/*\" @change=\"onAvatarChange\" />\n            <!-- ★ 加上空值检查 -->\n            <img\n              v-if=\"userStore && userStore.avatarMap && userStore.avatarMap[currentUser]\"\n              :src=\"userStore.avatarMap[currentUser]\"\n              alt=\"头像预览\"\n              style=\"width: 60px; height: 60px; border-radius: 50%; margin-left: 8px;\"\n            />\n          </li>\n          <li class=\"setting-item\">\n            <span>勋章中心</span>\n            <GhostBtn @click=\"$emit('open-badge-modal')\">更换勋章</GhostBtn>\n          </li>\n        </ul>\n\n        <!-- —— “交互助手” —— -->\n        <ul v-show=\"activeSection === 'assistant'\" class=\"settings-group setting-group-card\">\n          <li class=\"setting-item\">\n            <span>AI</span>\n            <ToggleSwitch\n              :modelValue=\"llmEnabled\"\n              @update:modelValue=\"$emit('update:llmEnabled', $event)\"\n            />\n          </li>\n        </ul>\n\n        <!-- —— “发布 与 上传” —— -->\n        <ul v-show=\"activeSection === 'publish'\" class=\"settings-group setting-group-card\">\n          <li class=\"setting-item\">\n            <span>图片嵌入正文</span>\n            <ToggleSwitch\n              :modelValue=\"imageInsertMode === 'inline'\"\n              @update:modelValue=\"val => $emit('update:imageInsertMode', val ? 'inline' : 'preview')\"\n            />\n          </li>\n        </ul>\n\n        <!-- —— “管理员” —— -->\n        <ul v-show=\"activeSection === 'admin' && isAdmin\" class=\"settings-group setting-group-card\">\n          <li class=\"setting-item\" v-for=\"uid in allowedUids\" :key=\"uid\">\n            <span>{{ uid }}</span>\n            <AdminControls\n              :uid=\"uid\"\n              @reset-password=\"uid => $emit('reset-password', uid)\"\n              @remove-allowed-uid=\"uid => $emit('remove-allowed-uid', uid)\"\n              @open-admin-pwd-modal=\"uid => $emit('open-admin-pwd-modal', uid)\"\n            />\n          </li>\n          <li class=\"setting-item\">\n            <input\n              v-model=\"newAdminUid\"\n              placeholder=\"新 UID\"\n              class=\"rename-input\"\n              style=\"background: #1f1f1f; color: #e0e0e0; border: 1px solid #444; border-radius: 4px; padding: 6px 8px; width: 60%;\"\n            />\n            <GhostBtn @click=\"emitAddUid\">新增</GhostBtn>\n          </li>\n        </ul>\n      </section>\n    </template>\n\n    <!-- ===== 昵称修改弹窗 ===== -->\n    <Teleport to=\"body\">\n      <div v-if=\"showRenameModal\" class=\"modal show\" @click.self=\"showRenameModal = false\">\n        <div class=\"box\" style=\"min-width: 360px; max-width: 480px;\">\n          <span class=\"close\" @click=\"showRenameModal = false\">×</span>\n          <h3 style=\"margin-bottom: 16px;\">修改昵称</h3>\n          <div style=\"margin-bottom: 24px;\">\n            <input\n              v-model=\"renameDraft\"\n              placeholder=\"输入新的 昵称\"\n              style=\"width: 100%; padding: 8px; border: 1px solid #444; border-radius: 4px; background: #1f1f1f; color: #e0e0e0;\"\n            />\n          </div>\n          <div style=\"text-align: right; gap: 8px; display: flex; justify-content: flex-end;\">\n            <GhostBtn @click=\"showRenameModal = false\">取消</GhostBtn>\n            <GhostBtn @click=\"confirmRename\">确定</GhostBtn>\n          </div>\n        </div>\n      </div>\n    </Teleport>\n\n    <!-- ===== 背景设置弹窗 ===== -->\n    <BaseModal v-model=\"showBgModal\" title=\"背景设置\" maxWidth=\"480px\">\n      <ul class=\"setting-list\">\n        <li class=\"setting-item\">\n          <span>上传背景</span>\n          <label class=\"upload-btn\">\n            <GhostBtn>上传图片</GhostBtn>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              @change=\"onBgUpload\"\n              style=\"display: none;\"\n            />\n          </label>\n        </li>\n        <li class=\"setting-item\">\n          <span>背景透明度</span>\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.05\"\n            v-model.number=\"draftOpacity\"\n          />\n        </li>\n        <li class=\"setting-item\">\n          <span>背景模糊</span>\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"20\"\n            step=\"1\"\n            v-model.number=\"draftBlur\"\n          />\n        </li>\n        <li class=\"setting-item\">\n          <span>清除背景</span>\n          <GhostBtn @click=\"clearBg\">清除背景</GhostBtn>\n        </li>\n      </ul>\n      <template #footer=\"{ close }\">\n        <GhostBtn @click=\"cancelBg\">取消</GhostBtn>\n        <GhostBtn @click=\"confirmBg\">完成</GhostBtn>\n      </template>\n    </BaseModal>\n  </section>\n</template>\n\n<script>\nimport GhostBtn from '@/components/atoms/GhostBtn.vue'\nimport ToggleSwitch from '@/components/atoms/ToggleSwitch.vue'\nimport BaseModal from '@/components/common/BaseModal.vue'\nimport AdminControls from '@/components/molecules/AdminControls.vue'\nimport { useUserStore } from '@/stores/user'\n\nexport default {\n  name: 'SettingsPanel',\n  components: { GhostBtn, ToggleSwitch, AdminControls, BaseModal },\n  emits: [\n    'update:theme',\n    'update:bgSrc',\n    'update:bgOpacity',\n    'update:bgBlur',\n    'update:imageInsertMode',\n    'update:llmEnabled',\n    'update:localDisplayName',\n    'open-password-modal',\n    'open-badge-modal',\n    'reset-password',\n    'add-allowed-uid',\n    'remove-allowed-uid',\n    'open-admin-pwd-modal'\n  ],\n  props: {\n    theme: String,\n    bgOpacity: Number,\n    bgBlur: Number,\n    bgSrc: String,\n    imageInsertMode: String,\n    llmEnabled: Boolean,\n    localDisplayName: String,\n    allowedUids: Array,\n    currentUser: [String, Number],\n    adminUid: [String, Number]\n  },\n  data() {\n    return {\n      activeSection: 'visual', // Desktop 初始进入“视觉 / 界面”\n      isMobile: false,\n      newAdminUid: '',\n      showRenameModal: false,\n      renameDraft: this.localDisplayName || '',\n      showBgModal: false,\n      origBgSrc: this.bgSrc,\n      origOpacity: this.bgOpacity,\n      origBlur: this.bgBlur,\n      draftBgSrc: this.bgSrc,\n      draftOpacity: this.bgOpacity,\n      draftBlur: this.bgBlur,\n      userStore: null\n    }\n  },\n  computed: {\n    isAdmin() {\n      return String(this.currentUser) === String(this.adminUid)\n    },\n    sectionTitleMap() {\n      return {\n        visual: '视觉 / 界面',\n        profile: '个人资料',\n        assistant: '交互助手',\n        publish: '发布 与 上传',\n        admin: '管理员'\n      }\n    }\n  },\n  watch: {\n    showBgModal(val) {\n      if (val) {\n        this.origBgSrc = this.bgSrc\n        this.origOpacity = this.bgOpacity\n        this.origBlur = this.bgBlur\n        this.draftBgSrc = this.bgSrc\n        this.draftOpacity = this.bgOpacity\n        this.draftBlur = this.bgBlur\n      }\n    },\n    draftBgSrc(val) {\n      if (this.showBgModal) {\n        this.$emit('update:bgSrc', val)\n      }\n    },\n    draftOpacity(val) {\n      if (this.showBgModal) {\n        this.$emit('update:bgOpacity', val)\n      }\n    },\n    draftBlur(val) {\n      if (this.showBgModal) {\n        this.$emit('update:bgBlur', val)\n      }\n    }\n  },\n  mounted() {\n    window.addEventListener('resize', this.updateMobile, { passive: true })\n    this.updateMobile()\n    this.userStore = useUserStore()\n  },\n  beforeUnmount() {\n    window.removeEventListener('resize', this.updateMobile)\n  },\n  methods: {\n    updateMobile() {\n      this.isMobile = window.innerWidth < 768\n      if (this.isMobile && this.activeSection === '') {\n        this.activeSection = null\n      }\n    },\n    toggleSection(key) {\n      this.activeSection = key\n    },\n    onAvatarChange(e) {\n      const file = e.target.files[0]\n      if (!file) return\n      const reader = new FileReader()\n      reader.onload = () => {\n        this.userStore.setAvatar(this.currentUser, reader.result)\n      }\n      reader.readAsDataURL(file)\n    },\n    clearBg() {\n      this.$emit('update:bgSrc', '')\n      this.$emit('update:bgOpacity', 1)\n      this.$emit('update:bgBlur', 0)\n      this.draftBgSrc = ''\n      this.draftOpacity = 1\n      this.draftBlur = 0\n    },\n    cancelBg() {\n      this.$emit('update:bgSrc', this.origBgSrc)\n      this.$emit('update:bgOpacity', this.origOpacity)\n      this.$emit('update:bgBlur', this.origBlur)\n      this.showBgModal = false\n    },\n    confirmBg() {\n      this.showBgModal = false\n    },\n    confirmRename() {\n      this.$emit('update:localDisplayName', this.renameDraft.trim())\n      this.showRenameModal = false\n    },\n    emitAddUid() {\n      const u = (this.newAdminUid || '').trim()\n      if (!u) {\n        alert('请输入有效 UID')\n        return\n      }\n      if (!this.allowedUids.includes(u)) {\n        this.$emit('add-allowed-uid', u)\n        this.newAdminUid = ''\n      } else {\n        alert(`UID ${u} 已在白名单中`)\n      }\n    },\n    onBgUpload(e) {\n      const file = e.target.files[0]\n      if (!file) return\n      const reader = new FileReader()\n      reader.onload = ev => {\n        this.draftBgSrc = ev.target.result\n      }\n      reader.readAsDataURL(file)\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* ===== 全局深色支持 ===== */\nbody.dark {\n  background: #121212;\n  color: #e0e0e0;\n}\n\n/* 根容器：深灰背景 */\n.settings-container {\n  display: flex;\n  gap: 24px;\n  padding: 40px 16px;\n  max-width: 1600px;\n  margin: 0 auto;\n  height: 80vh;\n  box-sizing: border-box;\n}\n\n/* ====================== 💻 Desktop Layout ====================== */\n.settings-nav {\n  width: 240px;\n  background: #1e1e1e;\n  border-right: 1px solid #303030;\n  border-radius: 8px 0 0 8px;\n  position: sticky;\n  top: 40px;\n  bottom: 40px;\n  max-height: calc(100vh - 80px);\n  overflow-y: auto;\n}\n\n.nav-list {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.nav-item {\n  display: flex;\n  align-items: center;\n  height: 48px;\n  padding: 0 24px;\n  color: #bbb;\n  cursor: pointer;\n  border-bottom: 1px solid #303030;\n  transition: background 0.2s, color 0.2s;\n}\n\n.nav-item:last-child {\n  border-bottom: none;\n}\n\n.nav-item:hover {\n  background: rgba(255, 255, 255, 0.08);\n  color: #fff;\n}\n\n.nav-item.active {\n  background: rgba(78, 161, 243, 0.2);\n  color: #fff;\n}\n\n.nav-icon {\n  width: 20px;\n  height: 20px;\n  margin-right: 16px;\n  stroke: currentColor;\n}\n\n.nav-label {\n  font-size: 14px;\n  flex: 1;\n}\n\n.chevron-icon {\n  width: 16px;\n  height: 16px;\n  stroke: currentColor;\n}\n\n/* Desktop 右侧 “详细内容” 样式 */\n.settings-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0 24px;\n  scrollbar-width: thin;\n}\n\n.settings-content::-webkit-scrollbar {\n  width: 8px;\n}\n\n.settings-content::-webkit-scrollbar-thumb {\n  background: rgba(255, 255, 255, 0.15);\n  border-radius: 4px;\n}\n\n/* Desktop 详细区顶部标题 */\n.desktop-detail-header {\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #e0e0e0;\n  padding: 12px 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  margin-bottom: 16px;\n}\n\n/* 通用分组 & 项目样式 */\n.settings-group {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.setting-group-card {\n  background: #2a2a2a;\n  border-radius: 8px;\n  padding: 12px 16px;\n  margin: 16px 0;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.8);\n}\n\n.setting-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 16px 0;\n  padding: 0 24px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.setting-item:last-child {\n  border-bottom: none;\n}\n\n.rename-item .rename-input {\n  background: #1f1f1f;\n  color: #e0e0e0;\n  border: 1px solid #444;\n  border-radius: 4px;\n  padding: 6px 8px;\n  width: 60%;\n}\n\n/* 模态框内部（BaseModal） */\n.box {\n  background: #1f1f1f !important;\n  border: 1px solid rgba(255, 255, 255, 0.1) !important;\n  color: #e0e0e0 !important;\n}\n\n.close {\n  color: #e0e0e0;\n}\n\n/* 📱 Mobile Layout */\n.settings-container.mobile {\n  flex-direction: column;\n  padding: 0;\n  height: auto;\n  background: #0f0f0f;\n}\n\n.mobile-nav {\n  padding: 24px 16px;\n  max-height: calc(100vh - 56px);\n  overflow-y: auto;\n}\n\n.mobile-nav .nav-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.mobile-nav .nav-item {\n  display: flex;\n  align-items: center;\n  height: 48px;\n  padding: 0 20px;\n  color: #bbb;\n  cursor: pointer;\n  border-bottom: 1px solid #303030;\n  transition: background 0.2s, color 0.2s;\n}\n\n.mobile-nav .nav-item:last-child {\n  border-bottom: none;\n}\n\n.mobile-nav .nav-item:hover {\n  background: rgba(255, 255, 255, 0.08);\n  color: #fff;\n}\n\n.mobile-nav .nav-item.active {\n  background: rgba(78, 161, 243, 0.2);\n  color: #fff;\n}\n\n.mobile-nav .nav-icon {\n  width: 20px;\n  height: 20px;\n  margin-right: 12px;\n  stroke: currentColor;\n}\n\n.mobile-nav .nav-label {\n  font-size: 16px;\n  flex: 1;\n}\n\n.mobile-nav .chevron-icon {\n  width: 16px;\n  height: 16px;\n  stroke: currentColor;\n}\n\n/* Mobile 详情头部 */\n.detail-header {\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  background: #181818;\n  color: #fff;\n}\n\n.back-btn,\n.header-spacer {\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  background: none;\n  padding: 0;\n}\n\n.icon-back {\n  width: 24px;\n  height: 24px;\n}\n\n.detail-title {\n  font-size: 1.125rem;\n  font-weight: 600;\n  line-height: 1;\n  text-align: center;\n  flex: 1;\n  user-select: none;\n}\n\n/* Mobile 详情区滚动样式 */\n.settings-content {\n  padding: 0 24px;\n}\n</style>\n","<template>\n  <button class=\"ghost-btn\" :disabled=\"disabled\" @click=\"onClick\">\n    <slot />\n  </button>\n</template>\n\n<script setup>\nimport { defineEmits, defineProps } from 'vue'\n\nconst props = defineProps({\n  disabled: { type: Boolean, default: false }\n})\nconst emit = defineEmits(['click'])\n\nfunction onClick(e) {\n  if (!props.disabled) {\n    emit('click', e)\n  }\n}\n</script>\n\n<style scoped>\n.ghost-btn {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 12px;\n  background: rgba(45,45,45,0.7);\n  color: #e0e0e0;\n  border: 1px solid #444;\n  border-radius: 4px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n.ghost-btn:hover:not(:disabled) {\n  background: rgba(70,70,70,0.8);\n}\n.ghost-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n</style>\n","import script from \"./GhostBtn.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GhostBtn.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GhostBtn.vue?vue&type=style&index=0&id=35ff1ca4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-35ff1ca4\"]])\n\nexport default __exports__","<template>\n  <label class=\"toggle-switch\">\n    <input\n      type=\"checkbox\"\n      :checked=\"modelValue\"\n      @change=\"onToggle\"\n    />\n    <span class=\"slider\"></span>\n  </label>\n</template>\n\n<script setup>\nimport { defineEmits, defineProps } from 'vue'\n\nconst props = defineProps({\n  modelValue: { type: Boolean, default: false }\n})\nconst emit = defineEmits(['update:modelValue'])\n\nfunction onToggle(e) {\n  emit('update:modelValue', e.target.checked)\n}\n</script>\n\n<style scoped>\n.toggle-switch {\n  position: relative;\n  display: inline-block;\n  width: 40px;\n  height: 20px;\n}\n.toggle-switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n.slider {\n  position: absolute;\n  cursor: pointer;\n  background-color: #444;\n  border-radius: 10px;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transition: background-color 0.2s;\n}\n.slider::before {\n  position: absolute;\n  content: \"\";\n  height: 16px;\n  width: 16px;\n  left: 2px;\n  bottom: 2px;\n  background-color: #ddd;\n  transition: transform 0.2s, background-color 0.2s;\n  border-radius: 50%;\n}\ninput:checked + .slider {\n  background-color: #4a90e2;\n}\ninput:checked + .slider::before {\n  transform: translateX(20px);\n  background-color: #fff;\n}\n</style>\n","import script from \"./ToggleSwitch.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ToggleSwitch.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ToggleSwitch.vue?vue&type=style&index=0&id=6a800acf&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6a800acf\"]])\n\nexport default __exports__","<template>\n    <Teleport to=\"body\">\n      <div v-if=\"show\" class=\"modal show\" @click.self=\"close\">\n        <div class=\"box\" :style=\"boxStyle\">\n          <span class=\"close\" @click=\"close\">×</span>\n          <h3 v-if=\"title\" class=\"modal-title\">{{ title }}</h3>\n          <div class=\"modal-body\"><slot /></div>\n          <div class=\"modal-footer\">\n            <!-- 透传 close 方法给 footer 插槽 -->\n            <slot name=\"footer\" :close=\"close\" />\n          </div>\n        </div>\n      </div>\n    </Teleport>\n  </template>\n  \n  <script setup>\n  import { computed } from 'vue'\n  \n  const props = defineProps({\n    modelValue: Boolean,\n    title: String,\n    maxWidth: { type: String, default: '480px' },\n  })\n  const emit = defineEmits(['update:modelValue'])\n  const show = computed({\n    get:  () => props.modelValue,\n    set:  v => emit('update:modelValue', v)\n  })\n  const close = () => show.value = false\n  \n  const boxStyle = computed(() => ({\n    width:   '90vw',\n    maxWidth: props.maxWidth,\n    padding: '24px',\n    position: 'relative',\n  }))\n  </script>\n  \n  <style>\n  .modal.show {\n    position: fixed; inset: 0;\n    background: rgba(0,0,0,0.4);\n    display: flex; align-items: center; justify-content: center;\n    z-index: 1000;\n  }\n  \n  .box {\n    background: var(--glass-bg);\n    backdrop-filter: blur(10px);\n    border-radius: 12px;\n    color: var(--text-color);\n  }\n  \n  /* 顶部的 × 按钮 */\n  .close {\n    position: absolute; top: 8px; right: 8px; cursor: pointer;\n  }\n  \n  .modal-title { margin-bottom: 16px; }\n  .modal-body  { margin-bottom: 24px; }\n  \n  /* —— 关键 👇 把按钮右对齐，主/次操作分开 —— */\n  .modal-footer {\n    display: flex;\n    justify-content: flex-end;  /* 右对齐 */\n    gap: 12px;                   /* 按钮间隔 */\n    padding-top: 8px;\n  }\n  </style>\n  ","import script from \"./BaseModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BaseModal.vue?vue&type=style&index=0&id=55aca8d8&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<!-- src/components/molecules/AdminControls.vue -->\n<template>\n  <div class=\"admin-controls\">\n    <!-- 重置密码 -->\n    <GhostBtn @click=\"$emit('reset-password', uid)\">\n      重置密码\n    </GhostBtn>\n\n    <!-- 移除白名单 -->\n    <GhostBtn @click=\"$emit('remove-allowed-uid', uid)\">\n      移除白名单\n    </GhostBtn>\n\n    <!-- 设定管理员密码 -->\n    <GhostBtn @click=\"$emit('open-admin-pwd-modal', uid)\">\n      设定密码\n    </GhostBtn>\n  </div>\n</template>\n\n<script>\nimport GhostBtn from '@/components/atoms/GhostBtn.vue';\n\nexport default {\n  name: 'AdminControls',\n  components: { GhostBtn },\n  props: {\n    // 传入当前这一行对应的 UID（字符串或数字）\n    uid: {\n      type: [String, Number],\n      required: true\n    }\n  }\n}\n</script>\n\n<style scoped>\n.admin-controls {\n  display: flex;\n  gap: 8px;\n}\n\n/* \n  下面是假设 GhostBtn 这个 Atom 的样式。 \n  如果你实际的 GhostBtn.vue 已经定义了 .ghost-btn 类或者其他样式，则可以省略这里对应样式部分。 \n  这里只做一个示例： \n*/\n.ghost-btn {\n  background: rgba(45, 45, 45, 0.7);\n  color: #e0e0e0;\n  border: 1px solid #444;\n  padding: 6px 14px;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background 0.2s, color 0.2s;\n  font-size: 14px;\n}\n.ghost-btn:hover {\n  background: rgba(70, 70, 70, 0.8);\n  color: #fff;\n}\n</style>\n","import { render } from \"./AdminControls.vue?vue&type=template&id=6be1c388&scoped=true\"\nimport script from \"./AdminControls.vue?vue&type=script&lang=js\"\nexport * from \"./AdminControls.vue?vue&type=script&lang=js\"\n\nimport \"./AdminControls.vue?vue&type=style&index=0&id=6be1c388&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6be1c388\"]])\n\nexport default __exports__","import { render } from \"./SettingsPanel.vue?vue&type=template&id=21dcc822&scoped=true\"\nimport script from \"./SettingsPanel.vue?vue&type=script&lang=js\"\nexport * from \"./SettingsPanel.vue?vue&type=script&lang=js\"\n\nimport \"./SettingsPanel.vue?vue&type=style&index=0&id=21dcc822&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-21dcc822\"]])\n\nexport default __exports__","<template>\n  <!-- ⚠️ SettingsPanel 本身负责左右两栏的布局，直接塞进来即可 -->\n  <SettingsPanel\n    v-model:theme=\"theme\"\n    v-model:bgSrc=\"bgSrc\"\n    v-model:bgOpacity=\"bgOpacity\"\n    v-model:bgBlur=\"bgBlur\"\n    v-model:imageInsertMode=\"imageInsertMode\"\n    v-model:llmEnabled=\"llmEnabled\"\n    v-model:localDisplayName=\"displayName\"\n    v-model:selectedBadge=\"selectedBadge\"\n    :allowedBadges=\"BADGES\"\n    :allowedUids=\"allowedUids\"\n    :currentUser=\"currentUser\"\n    :adminUid=\"ADMIN_UID\"\n    @open-password-modal=\"openPasswordModal\"\n    @open-badge-modal=\"openBadgeModal\"\n    @reset-password=\"resetPassword\"\n    @add-allowed-uid=\"addAllowedUid\"\n    @remove-allowed-uid=\"removeAllowedUid\"\n    @open-admin-pwd-modal=\"openAdminPwdModal\"\n  />\n</template>\n\n<script setup>\nimport SettingsPanel from '@/components/organisms/SettingsPanel.vue'\nimport { useUserStore } from '@/stores/user'\nimport { pbkdf2Hash } from '@/utils/crypto'\nimport { computed, ref, watch } from 'vue'\n\n// —— 常量 —— //\nconst ADMIN_UID = '217122260'\nconst BADGES = [\n  { id: 'none',    name: '不佩戴'     },\n  { id: 'best',    name: '最好的大佬' },\n  { id: 'catgirl', name: '你才是猫娘' }\n]\n\n// —— Pinia：拿当前登录用户 —— //\nconst userStore   = useUserStore()\nconst currentUser = computed(() => userStore.currentUser)\n\n// —— “本地显示名称（昵称）” —— //\nconst displayName = ref(\n  localStorage.getItem('displayName_' + (currentUser.value || '')) || ''\n)\n\n// —— 其它 v-model 用到的状态 —— //\nconst theme           = ref(localStorage.getItem('theme') || 'dark')\nconst bgSrc           = ref(localStorage.getItem('bgSrc') || '')\nconst bgOpacity       = ref(parseFloat(localStorage.getItem('bgOpacity') || '0.35'))\nconst bgBlur          = ref(parseInt(localStorage.getItem('bgBlur') || '4', 10))\nconst imageInsertMode = ref(localStorage.getItem('imageInsertMode') || 'preview')\nconst llmEnabled      = ref(JSON.parse(localStorage.getItem('llmEnabled') || 'true'))\nconst selectedBadge   = ref(\n  localStorage.getItem('wear_' + (currentUser.value || '')) || 'none'\n)\nconst allowedUids = ref(\n  JSON.parse(localStorage.getItem('cm_allowedUids') || '[]')\n)\nconst newAdminUid = ref('')\n\n// —— watch：在值变化时同步到 localStorage（以及 body.dark） —— //\nwatch(theme, (val) => {\n  document.body.classList.toggle('dark', val === 'dark')\n  localStorage.setItem('theme', val)\n})\nwatch(bgSrc, (val) => {\n  localStorage.setItem('bgSrc', val)\n})\nwatch(bgOpacity, (val) => {\n  localStorage.setItem('bgOpacity', val.toString())\n})\nwatch(bgBlur, (val) => {\n  localStorage.setItem('bgBlur', val.toString())\n})\nwatch(imageInsertMode, (val) => {\n  localStorage.setItem('imageInsertMode', val)\n})\nwatch(llmEnabled, (val) => {\n  localStorage.setItem('llmEnabled', JSON.stringify(val))\n})\nwatch(displayName, (val) => {\n  if (currentUser.value) {\n    localStorage.setItem('displayName_' + currentUser.value, val.trim())\n    // 如果 Pinia store 有相应 action，可以这样同步：\n    userStore.setDisplayName(currentUser.value, val.trim())\n  }\n})\nwatch(selectedBadge, (val) => {\n  if (currentUser.value) {\n    localStorage.setItem('wear_' + currentUser.value, val)\n    // 同步到 Pinia store（如果你有 action）\n    userStore.setBadge(currentUser.value, val)\n  }\n})\nwatch(allowedUids, (val) => {\n  localStorage.setItem('cm_allowedUids', JSON.stringify(val))\n})\n\n// —— 方法：对应 SettingsPanel 的各事件 —— //\n\nasync function openPasswordModal() {\n  if (!currentUser.value) {\n    alert('当前无登录用户，无法修改密码')\n    return\n  }\n  const uid = currentUser.value\n  const credKey = `cred_${uid}`\n  const raw = localStorage.getItem(credKey)\n  if (!raw) {\n    alert('请先登录并设置密码')\n    return\n  }\n  const oldPwd = window.prompt('请输入旧密码：')\n  if (oldPwd === null) return // 用户取消\n  const { hash: storedHash, salt, iter } = JSON.parse(raw)\n  const oldHash = await pbkdf2Hash(oldPwd, salt, iter)\n  if (oldHash !== storedHash) {\n    alert('旧密码不正确！')\n    return\n  }\n  const newPwd = window.prompt('请输入新密码（最少4位）：')\n  if (newPwd === null) return\n  if (newPwd.length < 4) {\n    alert('新密码长度至少4位！')\n    return\n  }\n  const confirmPwd = window.prompt('请再次输入新密码：')\n  if (confirmPwd === null) return\n  if (confirmPwd !== newPwd) {\n    alert('两次输入的新密码不一致！')\n    return\n  }\n  const newHash = await pbkdf2Hash(newPwd, salt, iter)\n  localStorage.setItem(credKey, JSON.stringify({ hash: newHash, salt, iter }))\n  alert('密码修改成功！')\n}\n\nfunction openBadgeModal() {\n  const ids = BADGES.map((b) => b.id).join(' / ')\n  const choice = window.prompt(`请输入要佩戴的勋章 ID（可选 ${ids}）：`, selectedBadge.value)\n  if (choice === null) return\n  if (!BADGES.some((b) => b.id === choice)) {\n    alert('无效的勋章 ID')\n    return\n  }\n  selectedBadge.value = choice\n  alert(`已将勋章设置为：${choice}`)\n}\n\n// 管理员：重置某个 UID 的密码（清除本地存储中的密码）\nfunction resetPassword(uid) {\n  if (!isAdmin.value) {\n    alert('只有管理员才能重置密码')\n    return\n  }\n  if (!uid) return\n  if (!window.confirm(`将清除 UID ${uid} 的本地密码，下次登录需重设？`)) return\n  localStorage.removeItem(`cred_${uid}`)\n  localStorage.removeItem(`salt_${uid}`)\n  alert(`已清除 UID ${uid} 的本地密码`)\n}\n\n// 其他管理功能函数保持不变\n// ...\n\n</script>\n\n<style scoped> \n/* 使用 Button 组件的样式 */\nbody.dark {\n  background: #121212;  /* 主体背景改为极深灰 */\n  color: #e0e0e0;       /* 主体文字改为浅灰 */\n}\n\n.yt-settings-page {\n  min-height: 100vh;\n  background: #0f0f0f; /* YouTube Studio 深灰 */\n  color: #e0e0e0;\n  padding: 24px 0;\n  display: flex;\n  justify-content: center; /* SettingsPanel 内部自带 max-width */\n}\n\n/* —— 按钮样式 —— */\n.btn-atom {\n  width:100%;\n  height:48px;\n  background: var(--btn-bg, #32414a);\n  color: var(--btn-text, #ddd);\n  border: none;\n  border-radius: 8px;\n  font-size: 15px;\n  cursor: pointer;\n  transition: transform .1s;\n}\n.btn-atom:disabled {\n  opacity: .6;\n  cursor: not-allowed;\n}\n.btn-atom:not(:disabled):hover {\n  transform: translateY(-1px);\n  background: var(--btn-hover-bg, #2b3540);\n}\n\n</style>\n","import script from \"./SettingsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SettingsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SettingsPage.vue?vue&type=style&index=0&id=400a22a3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-400a22a3\"]])\n\nexport default __exports__"],"names":["class","viewBox","style","id","isMobile","activeSection","toggleSection","fill","stroke","d","sectionTitleMap","disabled","title","theme","cx","cy","r","showBgModal","$emit","showRenameModal","localDisplayName","type","accept","onAvatarChange","userStore","avatarMap","currentUser","src","alt","modelValue","llmEnabled","$event","imageInsertMode","val","allowedUids","uid","key","placeholder","newAdminUid","emitAddUid","isAdmin","to","renameDraft","confirmRename","maxWidth","footer","close","cancelBg","confirmBg","onBgUpload","min","max","step","draftOpacity","number","draftBlur","clearBg","props","emit","onClick","e","__exports__","onToggle","target","checked","show","get","set","v","value","boxStyle","width","padding","position","name","components","GhostBtn","String","Number","required","ToggleSwitch","AdminControls","BaseModal","emits","bgOpacity","bgBlur","bgSrc","Boolean","Array","adminUid","data","this","origBgSrc","origOpacity","origBlur","draftBgSrc","computed","visual","profile","assistant","publish","admin","watch","mounted","window","addEventListener","updateMobile","passive","beforeUnmount","removeEventListener","methods","innerWidth","file","files","reader","FileReader","onload","setAvatar","result","readAsDataURL","trim","u","includes","alert","ev","render","ADMIN_UID","BADGES","displayName","localStorage","getItem","parseFloat","parseInt","JSON","parse","selectedBadge","async","openPasswordModal","credKey","raw","oldPwd","prompt","hash","storedHash","salt","iter","oldHash","newPwd","length","confirmPwd","newHash","setItem","stringify","openBadgeModal","ids","map","b","join","choice","some","resetPassword","confirm","removeItem","document","body","classList","toggle","toString","setDisplayName","setBadge"],"sourceRoot":""}