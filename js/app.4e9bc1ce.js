(()=>{"use strict";var e={208:(e,t,o)=>{var n=o(810),a=o(751),s=o(641);function r(e,t,o,n,a,r){const l=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.Wv)(l)}const l={name:"App"};var i=o(262);const c=(0,i.A)(l,[["render",r]]),u=c;var d=o(33),p=o(953);const m={class:"app-header"},v={class:"header-left"},h={class:"header-right"},k=["src"],g={class:"nav-dropdown"},b={__name:"HeaderNav",props:{title:{type:String,required:!0},avatar:{type:String,required:!0}},emits:["toggle-sidebar","refresh","search","post","notify","ai","settings","logout"],setup(e,{emit:t}){const o=t,n=(0,p.KR)(""),r=(0,p.KR)(!1);function l(){o("search",n.value)}return(t,o)=>((0,s.uX)(),(0,s.CE)("header",m,[(0,s.Lk)("div",v,[(0,s.Lk)("button",{class:"icon-btn hamburger",onClick:o[0]||(o[0]=e=>t.$emit("toggle-sidebar")),"aria-label":"切换侧栏"},o[11]||(o[11]=[(0,s.Lk)("svg",{viewBox:"0 0 24 24",stroke:"currentColor",fill:"none","stroke-width":"2"},[(0,s.Lk)("path",{d:"M4 6h16M4 12h16M4 18h16"})],-1)])),(0,s.Lk)("span",{class:"logo",onClick:o[1]||(o[1]=e=>t.$emit("refresh"))},(0,d.v_)(e.title),1),(0,s.Lk)("button",{class:"icon-btn home-btn",onClick:o[2]||(o[2]=e=>t.$emit("refresh")),"aria-label":"主页"},o[12]||(o[12]=[(0,s.Lk)("svg",{viewBox:"0 0 24 24",stroke:"currentColor",fill:"none","stroke-width":"2"},[(0,s.Lk)("path",{d:"M3 12l9-9 9 9M4 10v10h6v-6h4v6h6V10"})],-1)]))]),(0,s.Lk)("form",{class:"header-center search-form",onSubmit:(0,a.D$)(l,["prevent"])},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>n.value=e),class:"search-input",placeholder:"Search…","aria-label":"搜索"},null,512),[[a.Jo,n.value]]),o[13]||(o[13]=(0,s.Lk)("button",{type:"submit",class:"icon-btn","aria-label":"搜索"},[(0,s.Lk)("svg",{viewBox:"0 0 24 24",stroke:"currentColor",fill:"none","stroke-width":"2"},[(0,s.Lk)("circle",{cx:"11",cy:"11",r:"8"}),(0,s.Lk)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})])],-1))],32),(0,s.Lk)("div",h,[(0,s.Lk)("button",{class:"icon-btn",onClick:o[4]||(o[4]=e=>t.$emit("post")),"aria-label":"投稿"},o[14]||(o[14]=[(0,s.Lk)("svg",{viewBox:"0 0 24 24",stroke:"currentColor",fill:"none","stroke-width":"2"},[(0,s.Lk)("path",{d:"M12 4v16M20 12H4"})],-1)])),(0,s.Lk)("button",{class:"icon-btn",onClick:o[5]||(o[5]=e=>t.$emit("notify")),"aria-label":"通知"},o[15]||(o[15]=[(0,s.Lk)("svg",{viewBox:"0 0 24 24",stroke:"currentColor",fill:"none","stroke-width":"2"},[(0,s.Lk)("path",{d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0 1 18 14.158V11a6 6 0 0 0-5-5.917V5\n                   a2 2 0 1 0-4 0v.083A6 6 0 0 0 4 11v3.159\n                   c0 .538-.214 1.055-.595 1.436L2 17h5"}),(0,s.Lk)("path",{d:"M12 21a2 2 0 0 0 2-2H10a2 2 0 0 0 2 2z"})],-1)])),(0,s.Lk)("button",{class:"icon-btn",onClick:o[6]||(o[6]=e=>t.$emit("ai")),"aria-label":"AI 助手"},o[16]||(o[16]=[(0,s.Fv)('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#FFF" stroke-width="2.5" data-v-6e9d33f0><path d="M8 16l4-8 4 8" data-v-6e9d33f0></path><path d="M9 16.5l4-8 4 8" stroke-opacity=".2" data-v-6e9d33f0></path><line x1="10" y1="12" x2="14" y2="12" data-v-6e9d33f0></line><line x1="17" y1="8" x2="17" y2="16" data-v-6e9d33f0></line><line x1="17.6" y1="8.6" x2="17.6" y2="16.6" stroke-opacity=".2" data-v-6e9d33f0></line></svg>',1)])),(0,s.Lk)("div",{class:"nav-avatar",onMouseenter:o[9]||(o[9]=e=>r.value=!0),onMouseleave:o[10]||(o[10]=e=>r.value=!1)},[(0,s.Lk)("img",{src:e.avatar,class:"avatar-img",alt:"avatar"},null,8,k),(0,s.bF)(a.eB,{name:"dropdown-fade"},{default:(0,s.k6)((()=>[(0,s.bo)((0,s.Lk)("div",g,[(0,s.Lk)("button",{class:"dropdown-item",onClick:o[7]||(o[7]=e=>t.$emit("settings"))}," 设置 "),o[17]||(o[17]=(0,s.Lk)("div",{class:"dropdown-divider"},null,-1)),(0,s.Lk)("button",{class:"dropdown-item",onClick:o[8]||(o[8]=e=>t.$emit("logout"))}," 退出 ")],512),[[a.aG,r.value]])])),_:1})],32)])]))}},f=(0,i.A)(b,[["__scopeId","data-v-6e9d33f0"]]),_=f,L={viewBox:"0 0 24 24",class:"icon"},C={__name:"AlbumIcon",setup(e){return(e,t)=>((0,s.uX)(),(0,s.CE)("svg",L,t[0]||(t[0]=[(0,s.Lk)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",stroke:"currentColor",fill:"none","stroke-width":"2"},null,-1),(0,s.Lk)("circle",{cx:"9",cy:"9",r:"2",stroke:"currentColor",fill:"none","stroke-width":"2"},null,-1),(0,s.Lk)("path",{d:"M21 15l-5-5L5 21",stroke:"currentColor",fill:"none","stroke-width":"2"},null,-1)])))}},w=(0,i.A)(C,[["__scopeId","data-v-78572ae1"]]),y=w,M={viewBox:"0 0 24 24",class:"icon"},x={__name:"HomeIcon",setup(e){return(e,t)=>((0,s.uX)(),(0,s.CE)("svg",M,t[0]||(t[0]=[(0,s.Lk)("path",{d:"M3 12l9-9 9 9M4 10v10h6v-6h4v6h6V10",stroke:"currentColor",fill:"none","stroke-width":"2"},null,-1)])))}},E=(0,i.A)(x,[["__scopeId","data-v-0410df9a"]]),A=E,X={viewBox:"0 0 24 24",class:"icon"},I={__name:"MomentsIcon",setup(e){return(e,t)=>((0,s.uX)(),(0,s.CE)("svg",X,t[0]||(t[0]=[(0,s.Lk)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2",stroke:"currentColor",fill:"none","stroke-width":"2"},null,-1),(0,s.Lk)("path",{d:"M7 8h10M7 12h8M7 16h6",stroke:"currentColor",fill:"none","stroke-width":"2"},null,-1)])))}},F=(0,i.A)(I,[["__scopeId","data-v-bf6083b8"]]),B=F,$={viewBox:"0 0 24 24",class:"icon"},S={__name:"PostIcon",setup(e){return(e,t)=>((0,s.uX)(),(0,s.CE)("svg",$,t[0]||(t[0]=[(0,s.Lk)("path",{d:"M12 4v16M20 12H4",stroke:"currentColor",fill:"none","stroke-width":"2"},null,-1)])))}},O=(0,i.A)(S,[["__scopeId","data-v-c2a4305c"]]),H=O,R={__name:"Icon",props:{name:{type:String,required:!0}},setup(e){const t=e,o={home:A,moments:B,albums:y,post:H},n=(0,s.EW)((()=>o[t.name]||null));return(e,t)=>n.value?((0,s.uX)(),(0,s.Wv)((0,s.$y)(n.value),{key:0})):(0,s.Q3)("",!0)}},P=R,T=P;var W=o(220);const q={__name:"NavItem",props:{to:{type:String,required:!0},icon:{type:String,required:!0},label:{type:String,required:!0}},setup(e){const t=e,o=(0,W.rd)(),n=(0,W.lq)(),a=(0,s.EW)((()=>n.path===t.to));function r(){n.path!==t.to&&o.push(t.to)}return(t,o)=>((0,s.uX)(),(0,s.CE)("button",{class:(0,d.C4)(["nav-item",{active:a.value}]),onClick:r},[(0,s.bF)(T,{name:e.icon},null,8,["name"]),(0,s.Lk)("span",null,(0,d.v_)(e.label),1)],2))}},j=(0,i.A)(q,[["__scopeId","data-v-4466c212"]]),G=j,K={__name:"SideBar",props:{collapsed:{type:Boolean,default:!1}},setup(e){return(t,o)=>((0,s.uX)(),(0,s.CE)("aside",{class:(0,d.C4)(["app-sidebar",{collapsed:e.collapsed}])},[(0,s.bF)(G,{to:"/",icon:"home",label:"首页"}),(0,s.bF)(G,{to:"/moments",icon:"moments",label:"动态"}),(0,s.bF)(G,{to:"/albums",icon:"albums",label:"相册"}),(0,s.bF)(G,{to:"/editor",icon:"post",label:"投稿"})],2))}},V=(0,i.A)(K,[["__scopeId","data-v-74dcf506"]]),z=V,N={class:"shell"},Q={class:"body"},U={__name:"ShellLayout",setup(e){const t=(0,p.KR)(!0);function o(){window.location.reload()}function n(e){console.log("搜索",e)}return(e,a)=>{const r=(0,s.g2)("HeaderRightStuff"),l=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",N,[(0,s.bF)(_,{onToggleSidebar:a[0]||(a[0]=e=>t.value=!t.value),onRefresh:o,onSearch:n},{"right-extra":(0,s.k6)((()=>[(0,s.bF)(r)])),_:1}),(0,s.Lk)("div",Q,[(0,s.bF)(z,{collapsed:!t.value},null,8,["collapsed"]),(0,s.Lk)("main",{class:(0,d.C4)(["app-main",{"sidebar-collapsed":!t.value}])},[(0,s.bF)(l)],2)])])}}},D=(0,i.A)(U,[["__scopeId","data-v-71986a3f"]]),J=D,Y={style:{padding:"24px"}};function Z(e,t){return(0,s.uX)(),(0,s.CE)("h2",Y,"AlbumsPage 占位")}const ee={},te=(0,i.A)(ee,[["render",Z]]),oe=te,ne={style:{padding:"24px"}};function ae(e,t){return(0,s.uX)(),(0,s.CE)("h2",ne,"EditorPage 占位")}const se={},re=(0,i.A)(se,[["render",ae]]),le=re,ie={__name:"LoadMoreButton",emits:["load"],setup(e){return(e,t)=>((0,s.uX)(),(0,s.CE)("button",{class:"btn-load-more",onClick:t[0]||(t[0]=t=>e.$emit("load"))},[(0,s.RG)(e.$slots,"default",{},(()=>[t[1]||(t[1]=(0,s.eW)("加载更多"))]))]))}},ce=(0,i.A)(ie,[["__scopeId","data-v-38169860"]]),ue=ce,de={class:"actions"},pe={__name:"PostActions",props:{views:Number,comments:Number},emits:["toggle-comments"],setup(e){return(t,o)=>((0,s.uX)(),(0,s.CE)("div",de,[o[2]||(o[2]=(0,s.Lk)("svg",{viewBox:"0 0 24 24"},[(0,s.Lk)("path",{d:"M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7z m0 12a5 5 0 110-10 5 5 0 010 10z"})],-1)),(0,s.Lk)("span",null,(0,d.v_)(e.views),1),((0,s.uX)(),(0,s.CE)("svg",{viewBox:"0 0 24 24",class:"comment-btn",onClick:o[0]||(o[0]=e=>t.$emit("toggle-comments"))},o[1]||(o[1]=[(0,s.Lk)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10z",fill:"none",stroke:"currentColor","stroke-width":"2"},null,-1)]))),(0,s.Lk)("span",null,(0,d.v_)(e.comments),1)]))}},me=(0,i.A)(pe,[["__scopeId","data-v-b469224c"]]),ve=me,he={class:"post-card"},ke={class:"head"},ge=["src"],be={class:"date"},fe=["innerHTML"],_e={__name:"PostCard",props:{avatarUrl:String,author:String,time:String,content:String},setup(e){return(t,o)=>((0,s.uX)(),(0,s.CE)("article",he,[(0,s.Lk)("header",ke,[(0,s.Lk)("img",{src:e.avatarUrl,class:"avatar"},null,8,ge),(0,s.Lk)("b",null,(0,d.v_)(e.author),1),(0,s.Lk)("small",be,(0,d.v_)(e.time),1)]),(0,s.Lk)("section",{class:"body",innerHTML:e.content},null,8,fe),(0,s.RG)(t.$slots,"images"),(0,s.RG)(t.$slots,"actions"),(0,s.RG)(t.$slots,"comments")]))}},Le=(0,i.A)(_e,[["__scopeId","data-v-43e2250f"]]),Ce=Le,we={class:"photos"},ye=["onClick"],Me=["src"],xe={key:0,class:"thumb-overlay"},Ee={__name:"PostImages",props:{imgs:Array},emits:["open"],setup(e){return(t,o)=>((0,s.uX)(),(0,s.CE)("div",we,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.imgs.slice(0,3),((o,n)=>((0,s.uX)(),(0,s.CE)("div",{key:n,class:"thumb",onClick:e=>t.$emit("open",n)},[(0,s.Lk)("img",{src:o},null,8,Me),2===n&&e.imgs.length>3?((0,s.uX)(),(0,s.CE)("div",xe,[(0,s.Lk)("span",null,"+"+(0,d.v_)(e.imgs.length-3),1)])):(0,s.Q3)("",!0)],8,ye)))),128))]))}},Ae=(0,i.A)(Ee,[["__scopeId","data-v-08705c32"]]),Xe=Ae,Ie={__name:"MomentsList",props:{posts:Array,hasMore:Boolean},emits:["load-more","open-modal","toggle-comments"],setup(e,{emit:t}){const o=t;return(t,n)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.posts,(e=>((0,s.uX)(),(0,s.Wv)(Ce,{key:e.id,"avatar-url":e.avatar,author:e.author,time:e.time,content:e.content},{images:(0,s.k6)((()=>[(0,s.bF)(Xe,{imgs:e.imgs,onOpen:t=>o("open-modal",{post:e,idx:t})},null,8,["imgs","onOpen"])])),actions:(0,s.k6)((()=>[(0,s.bF)(ve,{views:e.views,comments:e.cmts.length,onToggleComments:t=>o("toggle-comments",e)},null,8,["views","comments","onToggleComments"])])),comments:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"comments",{post:e})])),_:2},1032,["avatar-url","author","time","content"])))),128)),e.hasMore?((0,s.uX)(),(0,s.Wv)(ue,{key:0,onLoad:n[0]||(n[0]=e=>o("load-more"))})):(0,s.Q3)("",!0)],64))}},Fe=Ie,Be=Fe,$e={__name:"MomentsPage",setup(e){const t=[{id:1,avatar:"https://placehold.co/40",author:"Alice",time:"刚刚",content:"<p>Hello</p>",imgs:[],views:0,cmts:[]}];return(e,o)=>((0,s.uX)(),(0,s.Wv)(Be,{posts:t,hasMore:!1,onOpenModal:()=>{},onToggleComments:()=>{},onLoadMore:()=>{}}))}},Se=$e,Oe=Se,He=(0,W.aE)({history:(0,W.Bt)(),routes:[{path:"/",component:J,children:[{path:"",redirect:"/moments"},{path:"moments",name:"Moments",component:Oe},{path:"albums",name:"Albums",component:oe},{path:"editor",name:"Editor",component:le}]}]}),Re=He,Pe=(0,a.Ef)(u),Te=(0,n.Ey)();Pe.use(Re),Pe.use(Te),Pe.mount("#app")}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.m=e,(()=>{var e=[];o.O=(t,n,a,s)=>{if(!n){var r=1/0;for(u=0;u<e.length;u++){for(var[n,a,s]=e[u],l=!0,i=0;i<n.length;i++)(!1&s||r>=s)&&Object.keys(o.O).every((e=>o.O[e](n[i])))?n.splice(i--,1):(l=!1,s<r&&(r=s));if(l){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,a,s]}})(),(()=>{o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={524:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var a,s,[r,l,i]=n,c=0;if(r.some((t=>0!==e[t]))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(i)var u=i(o)}for(t&&t(n);c<r.length;c++)s=r[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(u)},n=self["webpackChunkmy_vue_app"]=self["webpackChunkmy_vue_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=o.O(void 0,[504],(()=>o(208)));n=o.O(n)})();
//# sourceMappingURL=app.4e9bc1ce.js.map