{"version":3,"file":"js/app.0d73b0e2.js","mappings":"kojHAAA,IAAIA,EAAM,CACT,mBAAoB,MACpB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,mBAAoB,MACpB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,mBAAoB,MACpB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,KACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,mBAAoB,MACpB,oBAAqB,MACrB,mBAAoB,MACpB,mBAAoB,MACpB,mBAAoB,MACpB,mBAAoB,MACpB,mBAAoB,MACpB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,IACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,IACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,EACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,IACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,IACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,MACvB,sBAAuB,KACvB,sBAAuB,MACvB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,KACrB,oBAAqB,MACrB,oBAAqB,KACrB,oBAAqB,MACrB,oBAAqB,KACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,KACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,KACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,KACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,KACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,KACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,KACrB,oBAAqB,MACrB,qBAAsB,KACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,KACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,oBAAqB,MACrB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,KACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,IACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,KACtB,qBAAsB,MACtB,qBAAsB,KACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,IACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,KACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,KACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,KACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,KACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,KACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,MACtB,qBAAsB,KACtB,qBAAsB,MACtB,qBAAsB,KACtB,qBAAsB,MACtB,qBAA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","sources":["webpack://my-vue-app/./src/assets/stickers/原神表情/ sync \\.png$","webpack://my-vue-app/./src/App.vue","webpack://my-vue-app/./src/AppDesktop.vue","webpack://my-vue-app/./src/config/auth.js","webpack://my-vue-app/./src/components/LoginModal.vue","webpack://my-vue-app/./src/components/LoginModal.vue?cb28","webpack://my-vue-app/./src/components/SettingsPanel.vue","webpack://my-vue-app/./src/components/SettingsPanel.vue?7c5b","webpack://my-vue-app/./src/utils/crypto.js","webpack://my-vue-app/./src/AppDesktop.vue?ddc5","webpack://my-vue-app/./src/AppMobile.vue","webpack://my-vue-app/./src/AppMobile.vue?2314","webpack://my-vue-app/./src/App.vue?7ccd","webpack://my-vue-app/./src/main.js","webpack://my-vue-app/webpack/bootstrap","webpack://my-vue-app/webpack/runtime/chunk loaded","webpack://my-vue-app/webpack/runtime/define property getters","webpack://my-vue-app/webpack/runtime/global","webpack://my-vue-app/webpack/runtime/hasOwnProperty shorthand","webpack://my-vue-app/webpack/runtime/publicPath","webpack://my-vue-app/webpack/runtime/jsonp chunk loading","webpack://my-vue-app/webpack/startup"],"sourcesContent":["var map = {\n\t\"./原神表情/表情1/1.png\": 34905,\n\t\"./原神表情/表情1/10.png\": 95229,\n\t\"./原神表情/表情1/11.png\": 74100,\n\t\"./原神表情/表情1/12.png\": 93007,\n\t\"./原神表情/表情1/13.png\": 53990,\n\t\"./原神表情/表情1/14.png\": 47065,\n\t\"./原神表情/表情1/15.png\": 66512,\n\t\"./原神表情/表情1/16.png\": 20011,\n\t\"./原神表情/表情1/17.png\": 98882,\n\t\"./原神表情/表情1/18.png\": 45829,\n\t\"./原神表情/表情1/19.png\": 16412,\n\t\"./原神表情/表情1/2.png\": 20898,\n\t\"./原神表情/表情1/20.png\": 23672,\n\t\"./原神表情/表情1/21.png\": 44801,\n\t\"./原神表情/表情1/22.png\": 87370,\n\t\"./原神表情/表情1/23.png\": 19283,\n\t\"./原神表情/表情1/24.png\": 21884,\n\t\"./原神表情/表情1/25.png\": 74149,\n\t\"./原神表情/表情1/26.png\": 46318,\n\t\"./原神表情/表情1/27.png\": 45815,\n\t\"./原神表情/表情1/28.png\": 29456,\n\t\"./原神表情/表情1/29.png\": 35705,\n\t\"./原神表情/表情1/3.png\": 84555,\n\t\"./原神表情/表情1/30.png\": 50627,\n\t\"./原神表情/表情1/31.png\": 86522,\n\t\"./原神表情/表情1/32.png\": 7633,\n\t\"./原神表情/表情1/33.png\": 13768,\n\t\"./原神表情/表情1/34.png\": 93383,\n\t\"./原神表情/表情1/35.png\": 24542,\n\t\"./原神表情/表情1/36.png\": 26645,\n\t\"./原神表情/表情1/37.png\": 74380,\n\t\"./原神表情/表情1/38.png\": 70619,\n\t\"./原神表情/表情1/39.png\": 39442,\n\t\"./原神表情/表情1/4.png\": 92564,\n\t\"./原神表情/表情1/40.png\": 27726,\n\t\"./原神表情/表情1/5.png\": 13693,\n\t\"./原神表情/表情1/6.png\": 46278,\n\t\"./原神表情/表情1/7.png\": 15023,\n\t\"./原神表情/表情1/8.png\": 13368,\n\t\"./原神表情/表情1/9.png\": 86081,\n\t\"./原神表情/表情10/361.png\": 89004,\n\t\"./原神表情/表情10/362.png\": 9063,\n\t\"./原神表情/表情10/363.png\": 90750,\n\t\"./原神表情/表情10/364.png\": 31761,\n\t\"./原神表情/表情10/365.png\": 33896,\n\t\"./原神表情/表情10/366.png\": 19171,\n\t\"./原神表情/表情10/367.png\": 1594,\n\t\"./原神表情/表情10/368.png\": 1453,\n\t\"./原神表情/表情10/369.png\": 61508,\n\t\"./原神表情/表情10/370.png\": 4554,\n\t\"./原神表情/表情10/371.png\": 43411,\n\t\"./原神表情/表情10/372.png\": 68920,\n\t\"./原神表情/表情10/373.png\": 53537,\n\t\"./原神表情/表情10/374.png\": 1070,\n\t\"./原神表情/表情10/375.png\": 44087,\n\t\"./原神表情/表情10/376.png\": 59804,\n\t\"./原神表情/表情10/377.png\": 72869,\n\t\"./原神表情/表情10/392.png\": 16710,\n\t\"./原神表情/表情10/393.png\": 55727,\n\t\"./原神表情/表情10/394.png\": 12880,\n\t\"./原神表情/表情10/395.png\": 9785,\n\t\"./原神表情/表情10/396.png\": 61602,\n\t\"./原神表情/表情10/397.png\": 82731,\n\t\"./原神表情/表情10/398.png\": 79132,\n\t\"./原神表情/表情10/399.png\": 92197,\n\t\"./原神表情/表情10/400.png\": 47024,\n\t\"./原神表情/表情11/401.png\": 29280,\n\t\"./原神表情/表情11/402.png\": 26843,\n\t\"./原神表情/表情11/403.png\": 5298,\n\t\"./原神表情/表情11/404.png\": 35277,\n\t\"./原神表情/表情11/405.png\": 72036,\n\t\"./原神表情/表情11/406.png\": 57311,\n\t\"./原神表情/表情11/407.png\": 3510,\n\t\"./原神表情/表情11/420.png\": 64223,\n\t\"./原神表情/表情11/421.png\": 86134,\n\t\"./原神表情/表情11/422.png\": 93165,\n\t\"./原神表情/表情11/423.png\": 50660,\n\t\"./原神表情/表情11/424.png\": 60603,\n\t\"./原神表情/表情11/425.png\": 11602,\n\t\"./原神表情/表情11/426.png\": 76745,\n\t\"./原神表情/表情11/427.png\": 5568,\n\t\"./原神表情/表情11/428.png\": 49191,\n\t\"./原神表情/表情11/429.png\": 61502,\n\t\"./原神表情/表情11/430.png\": 37268,\n\t\"./原神表情/表情11/431.png\": 70301,\n\t\"./原神表情/表情11/432.png\": 89094,\n\t\"./原神表情/表情11/433.png\": 28111,\n\t\"./原神表情/表情11/434.png\": 15888,\n\t\"./原神表情/表情11/435.png\": 22137,\n\t\"./原神表情/表情11/436.png\": 66050,\n\t\"./原神表情/表情11/437.png\": 3531,\n\t\"./原神表情/表情11/438.png\": 77692,\n\t\"./原神表情/表情11/439.png\": 60581,\n\t\"./原神表情/表情11/440.png\": 18749,\n\t\"./原神表情/表情12/441.png\": 84147,\n\t\"./原神表情/表情12/442.png\": 38392,\n\t\"./原神表情/表情12/443.png\": 59521,\n\t\"./原神表情/表情12/444.png\": 41806,\n\t\"./原神表情/表情12/445.png\": 71031,\n\t\"./原神表情/表情12/446.png\": 12924,\n\t\"./原神表情/表情12/447.png\": 95813,\n\t\"./原神表情/表情12/448.png\": 17634,\n\t\"./原神表情/表情12/449.png\": 38763,\n\t\"./原神表情/表情12/450.png\": 98837,\n\t\"./原神表情/表情12/451.png\": 15948,\n\t\"./原神表情/表情12/452.png\": 84423,\n\t\"./原神表情/表情12/453.png\": 96734,\n\t\"./原神表情/表情12/454.png\": 49201,\n\t\"./原神表情/表情12/455.png\": 9256,\n\t\"./原神表情/表情12/456.png\": 46115,\n\t\"./原神表情/表情12/457.png\": 24538,\n\t\"./原神表情/表情12/458.png\": 28397,\n\t\"./原神表情/表情12/459.png\": 85892,\n\t\"./原神表情/表情12/460.png\": 18576,\n\t\"./原神表情/表情12/461.png\": 15481,\n\t\"./原神表情/表情12/462.png\": 67298,\n\t\"./原神表情/表情12/463.png\": 88427,\n\t\"./原神表情/表情12/464.png\": 42516,\n\t\"./原神表情/表情12/465.png\": 63645,\n\t\"./原神表情/表情12/466.png\": 22406,\n\t\"./原神表情/表情12/467.png\": 61423,\n\t\"./原神表情/表情12/468.png\": 93944,\n\t\"./原神表情/表情12/469.png\": 78561,\n\t\"./原神表情/表情12/470.png\": 68187,\n\t\"./原神表情/表情12/471.png\": 53970,\n\t\"./原神表情/表情12/472.png\": 44681,\n\t\"./原神表情/表情12/473.png\": 89856,\n\t\"./原神表情/表情12/474.png\": 41183,\n\t\"./原神表情/表情12/475.png\": 44854,\n\t\"./原神表情/表情12/476.png\": 26477,\n\t\"./原神表情/表情12/477.png\": 86532,\n\t\"./原神表情/表情12/478.png\": 44195,\n\t\"./原神表情/表情12/479.png\": 26618,\n\t\"./原神表情/表情12/480.png\": 89454,\n\t\"./原神表情/表情13/481.png\": 9294,\n\t\"./原神表情/表情13/482.png\": 11717,\n\t\"./原神表情/表情13/483.png\": 94204,\n\t\"./原神表情/表情13/484.png\": 77811,\n\t\"./原神表情/表情13/485.png\": 27050,\n\t\"./原神表情/表情13/486.png\": 76033,\n\t\"./原神表情/表情13/487.png\": 3320,\n\t\"./原神表情/表情13/488.png\": 4975,\n\t\"./原神表情/表情13/489.png\": 36230,\n\t\"./原神表情/表情13/490.png\": 55948,\n\t\"./原神表情/表情13/491.png\": 8213,\n\t\"./原神表情/表情13/492.png\": 22462,\n\t\"./原神表情/表情13/493.png\": 74951,\n\t\"./原神表情/表情13/494.png\": 95336,\n\t\"./原神表情/表情13/495.png\": 89201,\n\t\"./原神表情/表情13/496.png\": 68090,\n\t\"./原神表情/表情13/497.png\": 32195,\n\t\"./原神表情/表情13/498.png\": 71972,\n\t\"./原神表情/表情13/499.png\": 25869,\n\t\"./原神表情/表情13/500.png\": 14366,\n\t\"./原神表情/表情13/501.png\": 90151,\n\t\"./原神表情/表情13/502.png\": 23116,\n\t\"./原神表情/表情13/503.png\": 34741,\n\t\"./原神表情/表情13/504.png\": 82682,\n\t\"./原神表情/表情13/505.png\": 72515,\n\t\"./原神表情/表情13/506.png\": 10536,\n\t\"./原神表情/表情13/507.png\": 42577,\n\t\"./原神表情/表情13/508.png\": 3798,\n\t\"./原神表情/表情13/509.png\": 57599,\n\t\"./原神表情/表情13/510.png\": 38777,\n\t\"./原神表情/表情13/511.png\": 32528,\n\t\"./原神表情/表情13/512.png\": 3819,\n\t\"./原神表情/表情13/513.png\": 82690,\n\t\"./原神表情/表情13/514.png\": 70589,\n\t\"./原神表情/表情13/515.png\": 53908,\n\t\"./原神表情/表情13/516.png\": 28399,\n\t\"./原神表情/表情13/517.png\": 89382,\n\t\"./原神表情/表情13/518.png\": 24577,\n\t\"./原神表情/表情13/519.png\": 3448,\n\t\"./原神表情/表情13/520.png\": 67300,\n\t\"./原神表情/表情14/521.png\": 66698,\n\t\"./原神表情/表情14/522.png\": 15681,\n\t\"./原神表情/表情14/523.png\": 47416,\n\t\"./原神表情/表情14/524.png\": 22583,\n\t\"./原神表情/表情14/525.png\": 79566,\n\t\"./原神表情/表情14/526.png\": 51365,\n\t\"./原神表情/表情14/527.png\": 38300,\n\t\"./原神表情/表情14/528.png\": 41899,\n\t\"./原神表情/表情14/529.png\": 20770,\n\t\"./原神表情/表情14/530.png\": 46376,\n\t\"./原神表情/表情14/531.png\": 2673,\n\t\"./原神表情/表情14/532.png\": 78010,\n\t\"./原神表情/表情14/533.png\": 99587,\n\t\"./原神表情/表情14/534.png\": 69420,\n\t\"./原神表情/表情14/535.png\": 52309,\n\t\"./原神表情/表情14/536.png\": 50206,\n\t\"./原神表情/表情14/537.png\": 37895,\n\t\"./原神表情/表情14/538.png\": 94272,\n\t\"./原神表情/表情14/539.png\": 65449,\n\t\"./原神表情/表情14/540.png\": 93657,\n\t\"./原神表情/表情14/541.png\": 87408,\n\t\"./原神表情/表情14/542.png\": 1227,\n\t\"./原神表情/表情14/543.png\": 27074,\n\t\"./原神表情/表情14/544.png\": 72445,\n\t\"./原神表情/表情14/545.png\": 51316,\n\t\"./原神表情/表情14/546.png\": 72783,\n\t\"./原神表情/表情14/547.png\": 91238,\n\t\"./原神表情/表情14/548.png\": 19105,\n\t\"./原神表情/表情14/549.png\": 81624,\n\t\"./原神表情/表情14/550.png\": 69246,\n\t\"./原神表情/表情14/551.png\": 87559,\n\t\"./原神表情/表情14/552.png\": 67500,\n\t\"./原神表情/表情14/553.png\": 36597,\n\t\"./原神表情/表情14/554.png\": 80090,\n\t\"./原神表情/表情14/555.png\": 97667,\n\t\"./原神表情/表情14/556.png\": 12392,\n\t\"./原神表情/表情14/557.png\": 10257,\n\t\"./原神表情/表情14/558.png\": 98326,\n\t\"./原神表情/表情14/559.png\": 94655,\n\t\"./原神表情/表情14/560.png\": 97711,\n\t\"./原神表情/表情15/561.png\": 58667,\n\t\"./原神表情/表情15/562.png\": 71024,\n\t\"./原神表情/表情15/563.png\": 77273,\n\t\"./原神表情/表情15/564.png\": 44230,\n\t\"./原神表情/表情15/565.png\": 83247,\n\t\"./原神表情/表情15/566.png\": 8756,\n\t\"./原神表情/表情15/567.png\": 25437,\n\t\"./原神表情/表情15/568.png\": 48842,\n\t\"./原神表情/表情15/569.png\": 4051,\n\t\"./原神表情/表情15/570.png\": 48301,\n\t\"./原神表情/表情15/571.png\": 5796,\n\t\"./原神表情/表情15/572.png\": 35711,\n\t\"./原神表情/表情15/573.png\": 57622,\n\t\"./原神表情/表情15/574.png\": 31881,\n\t\"./原神表情/表情15/575.png\": 60704,\n\t\"./原神表情/表情15/576.png\": 15739,\n\t\"./原神表情/表情15/577.png\": 66738,\n\t\"./原神表情/表情15/578.png\": 18741,\n\t\"./原神表情/表情15/579.png\": 35852,\n\t\"./原神表情/表情15/580.png\": 91292,\n\t\"./原神表情/表情15/581.png\": 8805,\n\t\"./原神表情/表情15/582.png\": 90030,\n\t\"./原神表情/表情15/583.png\": 80023,\n\t\"./原神表情/表情15/584.png\": 408,\n\t\"./原神表情/表情15/585.png\": 73121,\n\t\"./原神表情/表情15/586.png\": 24138,\n\t\"./原神表情/表情15/587.png\": 74899,\n\t\"./原神表情/表情15/588.png\": 79604,\n\t\"./原神表情/表情15/589.png\": 733,\n\t\"./原神表情/表情15/590.png\": 44999,\n\t\"./原神表情/表情15/591.png\": 52862,\n\t\"./原神表情/表情15/592.png\": 89589,\n\t\"./原神表情/表情15/593.png\": 77964,\n\t\"./原神表情/表情15/594.png\": 27363,\n\t\"./原神表情/表情15/595.png\": 37530,\n\t\"./原神表情/表情15/596.png\": 97425,\n\t\"./原神表情/表情15/597.png\": 65384,\n\t\"./原神表情/表情15/598.png\": 12447,\n\t\"./原神表情/表情15/599.png\": 58646,\n\t\"./原神表情/表情15/600.png\": 86727,\n\t\"./原神表情/表情16/601.png\": 4521,\n\t\"./原神表情/表情16/602.png\": 39378,\n\t\"./原神表情/表情16/603.png\": 88379,\n\t\"./原神表情/表情16/604.png\": 78436,\n\t\"./原神表情/表情16/605.png\": 20941,\n\t\"./原神表情/表情16/606.png\": 30262,\n\t\"./原神表情/表情16/607.png\": 8351,\n\t\"./原神表情/表情16/608.png\": 1800,\n\t\"./原神表情/表情16/609.png\": 41745,\n\t\"./原神表情/表情16/610.png\": 80971,\n\t\"./原神表情/表情16/611.png\": 59842,\n\t\"./原神表情/表情16/612.png\": 8025,\n\t\"./原神表情/表情16/613.png\": 11120,\n\t\"./原神表情/表情16/614.png\": 53967,\n\t\"./原神表情/表情16/615.png\": 14950,\n\t\"./原神表情/表情16/616.png\": 56189,\n\t\"./原神表情/表情16/617.png\": 35060,\n\t\"./原神表情/表情16/618.png\": 60979,\n\t\"./原神表情/表情16/619.png\": 22122,\n\t\"./原神表情/表情16/620.png\": 10170,\n\t\"./原神表情/表情16/621.png\": 3,\n\t\"./原神表情/表情16/622.png\": 21672,\n\t\"./原神表情/表情16/623.png\": 70065,\n\t\"./原神表情/表情16/624.png\": 25502,\n\t\"./原神表情/表情16/625.png\": 1287,\n\t\"./原神表情/表情16/626.png\": 50604,\n\t\"./原神表情/表情16/627.png\": 62229,\n\t\"./原神表情/表情16/628.png\": 33074,\n\t\"./原神表情/表情16/629.png\": 54619,\n\t\"./原神表情/表情16/630.png\": 88357,\n\t\"./原神表情/表情16/631.png\": 5468,\n\t\"./原神表情/表情16/632.png\": 63575,\n\t\"./原神表情/表情16/633.png\": 34350,\n\t\"./原神表情/表情16/634.png\": 52065,\n\t\"./原神表情/表情16/635.png\": 30936,\n\t\"./原神表情/表情16/636.png\": 76691,\n\t\"./原神表情/表情16/637.png\": 21482,\n\t\"./原神表情/表情16/638.png\": 98077,\n\t\"./原神表情/表情16/639.png\": 81396,\n\t\"./原神表情/表情16/640.png\": 73596,\n\t\"./原神表情/表情17/641.png\": 44164,\n\t\"./原神表情/表情17/642.png\": 29439,\n\t\"./原神表情/表情17/643.png\": 75638,\n\t\"./原神表情/表情17/644.png\": 25609,\n\t\"./原神表情/表情17/645.png\": 1408,\n\t\"./原神表情/表情17/646.png\": 98971,\n\t\"./原神表情/表情17/647.png\": 77426,\n\t\"./原神表情/表情17/648.png\": 6581,\n\t\"./原神表情/表情17/649.png\": 94956,\n\t\"./原神表情/表情17/650.png\": 24930,\n\t\"./原神表情/表情17/651.png\": 88587,\n\t\"./原神表情/表情17/652.png\": 23184,\n\t\"./原神表情/表情17/653.png\": 38937,\n\t\"./原神表情/表情17/654.png\": 33958,\n\t\"./原神表情/表情17/655.png\": 19055,\n\t\"./原神表情/表情17/656.png\": 96596,\n\t\"./原神表情/表情17/657.png\": 17725,\n\t\"./原神表情/表情17/658.png\": 41130,\n\t\"./原神表情/表情17/659.png\": 91891,\n\t\"./原神表情/表情17/660.png\": 52915,\n\t\"./原神表情/表情17/661.png\": 14058,\n\t\"./原神表情/表情17/662.png\": 63041,\n\t\"./原神表情/表情17/663.png\": 78424,\n\t\"./原神表情/表情17/664.png\": 69943,\n\t\"./原神表情/表情17/665.png\": 10574,\n\t\"./原神表情/表情17/666.png\": 98725,\n\t\"./原神表情/表情17/667.png\": 69308,\n\t\"./原神表情/表情17/668.png\": 72907,\n\t\"./原神表情/表情17/669.png\": 51778,\n\t\"./原神表情/表情17/670.png\": 93736,\n\t\"./原神表情/表情17/671.png\": 33681,\n\t\"./原神表情/表情17/672.png\": 9018,\n\t\"./原神表情/表情17/673.png\": 30595,\n\t\"./原神表情/表情17/674.png\": 428,\n\t\"./原神表情/表情17/675.png\": 83317,\n\t\"./原神表情/表情17/676.png\": 97566,\n\t\"./原神表情/表情17/677.png\": 68903,\n\t\"./原神表情/表情17/678.png\": 25280,\n\t\"./原神表情/表情17/679.png\": 96457,\n\t\"./原神表情/表情17/680.png\": 31601,\n\t\"./原神表情/表情18/681.png\": 60699,\n\t\"./原神表情/表情18/682.png\": 5664,\n\t\"./原神表情/表情18/683.png\": 76841,\n\t\"./原神表情/表情18/684.png\": 2582,\n\t\"./原神表情/表情18/685.png\": 80671,\n\t\"./原神表情/表情18/686.png\": 50756,\n\t\"./原神表情/表情18/687.png\": 93261,\n\t\"./原神表情/表情18/688.png\": 89402,\n\t\"./原神表情/表情18/689.png\": 10979,\n\t\"./原神表情/表情18/690.png\": 28509,\n\t\"./原神表情/表情18/691.png\": 7380,\n\t\"./原神表情/表情18/692.png\": 26287,\n\t\"./原神表情/表情18/693.png\": 87270,\n\t\"./原神表情/表情18/694.png\": 80345,\n\t\"./原神表情/表情18/695.png\": 83440,\n\t\"./原神表情/表情18/696.png\": 53291,\n\t\"./原神表情/表情18/697.png\": 32162,\n\t\"./原神表情/表情18/698.png\": 62757,\n\t\"./原神表情/表情18/699.png\": 49692,\n\t\"./原神表情/表情18/700.png\": 61387,\n\t\"./原神表情/表情18/701.png\": 40258,\n\t\"./原神表情/表情18/702.png\": 79993,\n\t\"./原神表情/表情18/703.png\": 73744,\n\t\"./原神表情/表情18/704.png\": 85967,\n\t\"./原神表情/表情18/705.png\": 46950,\n\t\"./原神表情/表情18/706.png\": 28157,\n\t\"./原神表情/表情18/707.png\": 11476,\n\t\"./原神表情/表情18/708.png\": 6771,\n\t\"./原神表情/表情18/709.png\": 51562,\n\t\"./原神表情/表情18/710.png\": 87136,\n\t\"./原神表情/表情18/711.png\": 11337,\n\t\"./原神表情/表情18/712.png\": 63154,\n\t\"./原神表情/表情18/713.png\": 84699,\n\t\"./原神表情/表情18/714.png\": 29892,\n\t\"./原神表情/表情18/715.png\": 93133,\n\t\"./原神表情/表情18/716.png\": 61366,\n\t\"./原神表情/表情18/717.png\": 15167,\n\t\"./原神表情/表情18/718.png\": 68104,\n\t\"./原神表情/表情18/719.png\": 145,\n\t\"./原神表情/表情18/720.png\": 11525,\n\t\"./原神表情/表情18/721.png\": 94012,\n\t\"./原神表情/表情18/722.png\": 82743,\n\t\"./原神表情/表情18/723.png\": 92750,\n\t\"./原神表情/表情18/724.png\": 75841,\n\t\"./原神表情/表情18/725.png\": 3128,\n\t\"./原神表情/表情18/726.png\": 77619,\n\t\"./原神表情/表情2/41.png\": 23882,\n\t\"./原神表情/表情2/42.png\": 72865,\n\t\"./原神表情/表情2/43.png\": 88248,\n\t\"./原神表情/表情2/44.png\": 79767,\n\t\"./原神表情/表情2/45.png\": 20398,\n\t\"./原神表情/表情2/46.png\": 8549,\n\t\"./原神表情/表情2/47.png\": 56751,\n\t\"./原神表情/表情2/48.png\": 5112,\n\t\"./原神表情/表情2/49.png\": 39221,\n\t\"./原神表情/表情2/50.png\": 3560,\n\t\"./原神表情/表情2/51.png\": 43505,\n\t\"./原神表情/表情2/52.png\": 18842,\n\t\"./原神表情/表情2/53.png\": 40419,\n\t\"./原神表情/表情2/54.png\": 10252,\n\t\"./原神表情/表情2/55.png\": 93141,\n\t\"./原神表情/表情2/56.png\": 7390,\n\t\"./原神表情/表情2/57.png\": 78727,\n\t\"./原神表情/表情2/58.png\": 51456,\n\t\"./原神表情/表情2/59.png\": 6281,\n\t\"./原神表情/表情2/60.png\": 17229,\n\t\"./原神表情/表情2/61.png\": 53988,\n\t\"./原神表情/表情2/62.png\": 39263,\n\t\"./原神表情/表情2/63.png\": 85462,\n\t\"./原神表情/表情2/64.png\": 35433,\n\t\"./原神表情/表情2/65.png\": 11232,\n\t\"./原神表情/表情2/66.png\": 8795,\n\t\"./原神表情/表情2/67.png\": 87250,\n\t\"./原神表情/表情2/68.png\": 16405,\n\t\"./原神表情/表情2/69.png\": 4780,\n\t\"./原神表情/表情2/70.png\": 34754,\n\t\"./原神表情/表情2/71.png\": 98411,\n\t\"./原神表情/表情2/72.png\": 33008,\n\t\"./原神表情/表情2/73.png\": 48761,\n\t\"./原神表情/表情2/74.png\": 60134,\n\t\"./原神表情/表情2/75.png\": 28879,\n\t\"./原神表情/表情2/76.png\": 6420,\n\t\"./原神表情/表情2/77.png\": 27549,\n\t\"./原神表情/表情2/78.png\": 50954,\n\t\"./原神表情/表情2/79.png\": 1715,\n\t\"./原神表情/表情2/80.png\": 98855,\n\t\"./原神表情/表情3/100.png\": 3847,\n\t\"./原神表情/表情3/101.png\": 28062,\n\t\"./原神表情/表情3/102.png\": 64789,\n\t\"./原神表情/表情3/103.png\": 53164,\n\t\"./原神表情/表情3/104.png\": 2563,\n\t\"./原神表情/表情3/105.png\": 96378,\n\t\"./原神表情/表情3/106.png\": 72625,\n\t\"./原神表情/表情3/107.png\": 24232,\n\t\"./原神表情/表情3/108.png\": 87647,\n\t\"./原神表情/表情3/109.png\": 33846,\n\t\"./原神表情/表情3/110.png\": 50140,\n\t\"./原神表情/表情3/111.png\": 84005,\n\t\"./原神表情/表情3/112.png\": 65230,\n\t\"./原神表情/表情3/113.png\": 55223,\n\t\"./原神表情/表情3/114.png\": 75608,\n\t\"./原神表情/表情3/115.png\": 48321,\n\t\"./原神表情/表情3/116.png\": 99338,\n\t\"./原神表情/表情3/117.png\": 50099,\n\t\"./原神表情/表情3/118.png\": 54804,\n\t\"./原神表情/表情3/119.png\": 75933,\n\t\"./原神表情/表情3/120.png\": 61489,\n\t\"./原神表情/表情3/81.png\": 77965,\n\t\"./原神表情/表情3/82.png\": 87286,\n\t\"./原神表情/表情3/83.png\": 65375,\n\t\"./原神表情/表情3/84.png\": 90368,\n\t\"./原神表情/表情3/85.png\": 61545,\n\t\"./原神表情/表情3/86.png\": 96402,\n\t\"./原神表情/表情3/87.png\": 45403,\n\t\"./原神表情/表情3/88.png\": 65516,\n\t\"./原神表情/表情3/89.png\": 48405,\n\t\"./原神表情/表情3/90.png\": 10991,\n\t\"./原神表情/表情3/91.png\": 71974,\n\t\"./原神表情/表情3/92.png\": 13213,\n\t\"./原神表情/表情3/93.png\": 92084,\n\t\"./原神表情/表情3/94.png\": 37995,\n\t\"./原神表情/表情3/95.png\": 16866,\n\t\"./原神表情/表情3/96.png\": 65049,\n\t\"./原神表情/表情3/97.png\": 68144,\n\t\"./原神表情/表情3/98.png\": 18679,\n\t\"./原神表情/表情3/99.png\": 75662,\n\t\"./原神表情/表情4/121.png\": 18255,\n\t\"./原神表情/表情4/122.png\": 43764,\n\t\"./原神表情/表情4/123.png\": 76797,\n\t\"./原神表情/表情4/124.png\": 72546,\n\t\"./原神表情/表情4/125.png\": 93675,\n\t\"./原神表情/表情4/126.png\": 22384,\n\t\"./原神表情/表情4/127.png\": 28633,\n\t\"./原神表情/表情4/128.png\": 96718,\n\t\"./原神表情/表情4/129.png\": 42295,\n\t\"./原神表情/表情4/130.png\": 81057,\n\t\"./原神表情/表情4/131.png\": 12792,\n\t\"./原神表情/表情4/132.png\": 87283,\n\t\"./原神表情/表情4/133.png\": 32074,\n\t\"./原神表情/表情4/134.png\": 16741,\n\t\"./原神表情/表情4/135.png\": 87324,\n\t\"./原神表情/表情4/136.png\": 87959,\n\t\"./原神表情/表情4/137.png\": 44942,\n\t\"./原神表情/表情4/138.png\": 34329,\n\t\"./原神表情/表情4/139.png\": 37424,\n\t\"./原神表情/表情4/140.png\": 41200,\n\t\"./原神表情/表情4/141.png\": 56953,\n\t\"./原神表情/表情4/142.png\": 42946,\n\t\"./原神表情/表情4/143.png\": 6603,\n\t\"./原神表情/表情4/144.png\": 30964,\n\t\"./原神表情/表情4/145.png\": 52093,\n\t\"./原神表情/表情4/146.png\": 68326,\n\t\"./原神表情/表情4/147.png\": 53423,\n\t\"./原神表情/表情4/148.png\": 35416,\n\t\"./原神表情/表情4/149.png\": 24481,\n\t\"./原神表情/表情4/150.png\": 16987,\n\t\"./原神表情/表情4/151.png\": 11794,\n\t\"./原神表情/表情4/152.png\": 59977,\n\t\"./原神表情/表情4/153.png\": 35776,\n\t\"./原神表情/表情4/154.png\": 63807,\n\t\"./原神表情/表情4/155.png\": 10006,\n\t\"./原神表情/表情4/156.png\": 41773,\n\t\"./原神表情/表情4/157.png\": 62180,\n\t\"./原神表情/表情4/158.png\": 62371,\n\t\"./原神表情/表情4/159.png\": 72538,\n\t\"./原神表情/表情4/160.png\": 17386,\n\t\"./原神表情/表情5/161.png\": 68334,\n\t\"./原神表情/表情5/162.png\": 38693,\n\t\"./原神表情/表情5/163.png\": 55804,\n\t\"./原神表情/表情5/164.png\": 10675,\n\t\"./原神表情/表情5/165.png\": 71818,\n\t\"./原神表情/表情5/166.png\": 86049,\n\t\"./原神表情/表情5/167.png\": 64920,\n\t\"./原神表情/表情5/168.png\": 89871,\n\t\"./原神表情/表情5/169.png\": 67206,\n\t\"./原神表情/表情5/170.png\": 940,\n\t\"./原神表情/表情5/171.png\": 12565,\n\t\"./原神表情/表情5/172.png\": 75838,\n\t\"./原神表情/表情5/173.png\": 51623,\n\t\"./原神表情/表情5/174.png\": 72008,\n\t\"./原神表情/表情5/175.png\": 20401,\n\t\"./原神表情/表情5/176.png\": 44154,\n\t\"./原神表情/表情5/177.png\": 33987,\n\t\"./原神表情/表情5/178.png\": 33796,\n\t\"./原神表情/表情5/179.png\": 13389,\n\t\"./原神表情/表情5/180.png\": 6525,\n\t\"./原神表情/表情5/181.png\": 69044,\n\t\"./原神表情/表情5/182.png\": 4303,\n\t\"./原神表情/表情5/183.png\": 65286,\n\t\"./原神表情/表情5/184.png\": 58361,\n\t\"./原神表情/表情5/185.png\": 61456,\n\t\"./原神表情/表情5/186.png\": 31307,\n\t\"./原神表情/表情5/187.png\": 93826,\n\t\"./原神表情/表情5/188.png\": 40773,\n\t\"./原神表情/表情5/189.png\": 27708,\n\t\"./原神表情/表情5/190.png\": 73362,\n\t\"./原神表情/表情5/191.png\": 38715,\n\t\"./原神表情/表情5/192.png\": 83680,\n\t\"./原神表情/表情5/193.png\": 38505,\n\t\"./原神表情/表情5/194.png\": 64246,\n\t\"./原神表情/表情5/195.png\": 42335,\n\t\"./原神表情/表情5/196.png\": 28772,\n\t\"./原神表情/表情5/197.png\": 71277,\n\t\"./原神表情/表情5/198.png\": 67418,\n\t\"./原神表情/表情5/199.png\": 72643,\n\t\"./原神表情/表情5/200.png\": 22006,\n\t\"./原神表情/表情6/201.png\": 41872,\n\t\"./原神表情/表情6/202.png\": 95371,\n\t\"./原神表情/表情6/203.png\": 74242,\n\t\"./原神表情/表情6/204.png\": 92970,\n\t\"./原神表情/表情6/205.png\": 49460,\n\t\"./原神表情/表情6/206.png\": 68367,\n\t\"./原神表情/表情6/207.png\": 29350,\n\t\"./原神表情/表情6/208.png\": 85505,\n\t\"./原神表情/表情6/209.png\": 888,\n\t\"./原神表情/表情6/210.png\": 20030,\n\t\"./原神表情/表情6/211.png\": 91367,\n\t\"./原神表情/表情6/212.png\": 22892,\n\t\"./原神表情/表情6/213.png\": 5781,\n\t\"./原神表情/表情6/214.png\": 47834,\n\t\"./原神表情/表情6/215.png\": 53059,\n\t\"./原神表情/表情6/216.png\": 16200,\n\t\"./原神表情/表情6/217.png\": 56145,\n\t\"./原神表情/表情6/218.png\": 44662,\n\t\"./原神表情/表情6/219.png\": 22751,\n\t\"./原神表情/表情6/220.png\": 26255,\n\t\"./原神表情/表情6/221.png\": 61062,\n\t\"./原神表情/表情6/222.png\": 42269,\n\t\"./原神表情/表情6/223.png\": 21140,\n\t\"./原神表情/表情6/224.png\": 71051,\n\t\"./原神表情/表情6/225.png\": 80546,\n\t\"./原神表情/表情6/226.png\": 63481,\n\t\"./原神表情/表情6/227.png\": 57232,\n\t\"./原神表情/表情6/228.png\": 73591,\n\t\"./原神表情/表情6/229.png\": 74094,\n\t\"./原神表情/表情6/230.png\": 93476,\n\t\"./原神表情/表情6/231.png\": 33421,\n\t\"./原神表情/表情6/232.png\": 51798,\n\t\"./原神表情/表情6/233.png\": 48127,\n\t\"./原神表情/表情6/234.png\": 96800,\n\t\"./原神表情/表情6/235.png\": 67977,\n\t\"./原神表情/表情6/236.png\": 77266,\n\t\"./原神表情/表情6/237.png\": 75131,\n\t\"./原神表情/表情6/238.png\": 20972,\n\t\"./原神表情/表情6/239.png\": 6421,\n\t\"./原神表情/表情6/240.png\": 78765,\n\t\"./原神表情/表情7/241.png\": 85138,\n\t\"./原神表情/表情7/242.png\": 34926,\n\t\"./原神表情/表情7/243.png\": 34423,\n\t\"./原神表情/表情7/244.png\": 28632,\n\t\"./原神表情/表情7/245.png\": 49761,\n\t\"./原神表情/表情7/246.png\": 92330,\n\t\"./原神表情/表情7/247.png\": 24243,\n\t\"./原神表情/表情7/248.png\": 81972,\n\t\"./原神表情/表情7/249.png\": 3101,\n\t\"./原神表情/表情7/250.png\": 81991,\n\t\"./原神表情/表情7/251.png\": 29502,\n\t\"./原神表情/表情7/252.png\": 15253,\n\t\"./原神表情/表情7/253.png\": 79340,\n\t\"./原神表情/表情7/254.png\": 55587,\n\t\"./原神表情/表情7/255.png\": 91482,\n\t\"./原神表情/表情7/256.png\": 12593,\n\t\"./原神表情/表情7/257.png\": 2376,\n\t\"./原神表情/表情7/258.png\": 32223,\n\t\"./原神表情/表情7/259.png\": 35286,\n\t\"./原神表情/表情7/260.png\": 74262,\n\t\"./原神表情/表情7/261.png\": 52351,\n\t\"./原神表情/表情7/262.png\": 22436,\n\t\"./原神表情/表情7/263.png\": 64941,\n\t\"./原神表情/表情7/264.png\": 83378,\n\t\"./原神表情/表情7/265.png\": 32379,\n\t\"./原神表情/表情7/266.png\": 77344,\n\t\"./原神表情/表情7/267.png\": 48521,\n\t\"./原神表情/表情7/268.png\": 33278,\n\t\"./原神表情/表情7/269.png\": 20967,\n\t\"./原神表情/表情7/270.png\": 40913,\n\t\"./原神表情/表情7/271.png\": 43048,\n\t\"./原神表情/表情7/272.png\": 28323,\n\t\"./原神表情/表情7/273.png\": 10746,\n\t\"./原神表情/表情7/274.png\": 67253,\n\t\"./原神表情/表情7/275.png\": 98156,\n\t\"./原神表情/表情7/276.png\": 18215,\n\t\"./原神表情/表情7/277.png\": 99902,\n\t\"./原神表情/表情7/278.png\": 28809,\n\t\"./原神表情/表情7/279.png\": 73984,\n\t\"./原神表情/表情7/280.png\": 3048,\n\t\"./原神表情/表情8/281.png\": 24186,\n\t\"./原神表情/表情8/282.png\": 54353,\n\t\"./原神表情/表情8/283.png\": 40136,\n\t\"./原神表情/表情8/284.png\": 15303,\n\t\"./原神表情/表情8/285.png\": 13342,\n\t\"./原神表情/表情8/286.png\": 64341,\n\t\"./原神表情/表情8/287.png\": 95244,\n\t\"./原神表情/表情8/288.png\": 49403,\n\t\"./原神表情/表情8/289.png\": 35186,\n\t\"./原神表情/表情8/290.png\": 75160,\n\t\"./原神表情/表情8/291.png\": 59777,\n\t\"./原神表情/表情8/292.png\": 10794,\n\t\"./原神表情/表情8/293.png\": 49651,\n\t\"./原神表情/表情8/294.png\": 66044,\n\t\"./原神表情/表情8/295.png\": 95461,\n\t\"./原神表情/表情8/296.png\": 23662,\n\t\"./原神表情/表情8/297.png\": 66679,\n\t\"./原神表情/表情8/298.png\": 16144,\n\t\"./原神表情/表情8/299.png\": 96697,\n\t\"./原神表情/表情8/300.png\": 81082,\n\t\"./原神表情/表情8/301.png\": 2659,\n\t\"./原神表情/表情8/302.png\": 65800,\n\t\"./原神表情/表情8/303.png\": 5745,\n\t\"./原神表情/表情8/304.png\": 69630,\n\t\"./原神表情/表情8/305.png\": 40967,\n\t\"./原神表情/表情8/306.png\": 72492,\n\t\"./原神表情/表情8/307.png\": 55381,\n\t\"./原神表情/表情8/308.png\": 3378,\n\t\"./原神表情/表情8/309.png\": 52379,\n\t\"./原神表情/表情8/310.png\": 70789,\n\t\"./原神表情/表情8/311.png\": 41372,\n\t\"./原神表情/表情8/312.png\": 42007,\n\t\"./原神表情/表情8/313.png\": 98990,\n\t\"./原神表情/表情8/314.png\": 35105,\n\t\"./原神表情/表情8/315.png\": 50488,\n\t\"./原神表情/表情8/316.png\": 24979,\n\t\"./原神表情/表情8/317.png\": 86122,\n\t\"./原神表情/表情8/318.png\": 20189,\n\t\"./原神表情/表情8/319.png\": 99060,\n\t\"./原神表情/表情8/320.png\": 46400,\n\t\"./原神表情/表情9/321.png\": 97332,\n\t\"./原神表情/表情9/322.png\": 16239,\n\t\"./原神表情/表情9/323.png\": 77222,\n\t\"./原神表情/表情9/324.png\": 70297,\n\t\"./原神表情/表情9/325.png\": 73392,\n\t\"./原神表情/表情9/326.png\": 43243,\n\t\"./原神表情/表情9/327.png\": 22114,\n\t\"./原神表情/表情9/328.png\": 52709,\n\t\"./原神表情/表情9/329.png\": 39644,\n\t\"./原神表情/表情9/330.png\": 1650,\n\t\"./原神表情/表情9/331.png\": 50651,\n\t\"./原神表情/表情9/332.png\": 95616,\n\t\"./原神表情/表情9/333.png\": 66793,\n\t\"./原神表情/表情9/334.png\": 92534,\n\t\"./原神表情/表情9/335.png\": 54271,\n\t\"./原神表情/表情9/336.png\": 40708,\n\t\"./原神表情/表情9/337.png\": 83213,\n\t\"./原神表情/表情9/338.png\": 79354,\n\t\"./原神表情/表情9/339.png\": 931,\n\t\"./原神表情/表情9/340.png\": 63935,\n\t\"./原神表情/表情9/341.png\": 2198,\n\t\"./原神表情/表情9/342.png\": 92877,\n\t\"./原神表情/表情9/343.png\": 50372,\n\t\"./原神表情/表情9/344.png\": 60315,\n\t\"./原神表情/表情9/345.png\": 11314,\n\t\"./原神表情/表情9/346.png\": 76457,\n\t\"./原神表情/表情9/347.png\": 5280,\n\t\"./原神表情/表情9/348.png\": 48903,\n\t\"./原神表情/表情9/349.png\": 61214,\n\t\"./原神表情/表情9/350.png\": 36980,\n\t\"./原神表情/表情9/351.png\": 70013,\n\t\"./原神表情/表情9/352.png\": 88806,\n\t\"./原神表情/表情9/353.png\": 27823,\n\t\"./原神表情/表情9/354.png\": 15600,\n\t\"./原神表情/表情9/355.png\": 21849,\n\t\"./原神表情/表情9/356.png\": 82114,\n\t\"./原神表情/表情9/357.png\": 3243,\n\t\"./原神表情/表情9/358.png\": 77404,\n\t\"./原神表情/表情9/359.png\": 60293,\n\t\"./原神表情/表情9/360.png\": 53193\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 52234;","<!-- src/App.vue -->\n<template>\n  <component :is=\"$isMobile ? 'AppMobile' : 'AppDesktop'\" />\n</template>\n\n<script>\nimport AppDesktop from './AppDesktop.vue';\nimport AppMobile from './AppMobile.vue';\n\nexport default {\n  name: 'App',\n  components: { AppDesktop, AppMobile }\n}\n</script>\n","<!-- src/AppDesktop.vue -->\n<template>\n  <div>\n    <!-- 登录 Modal -->\n    <LoginModal :show=\"!currentUser\" @login-success=\"handleLogin\" />\n\n    <!-- ================== 已登录主界面 ================== -->\n    <div v-if=\"currentUser\">\n      <!-- 用户自定义背景 -->\n      <div id=\"bgLayer\" :style=\"bgStyle\"></div>\n\n      <!-- 顶部导航 -->\n      <nav>\n        <div class=\"logo\">把回忆拼好给你</div>\n        <div class=\"menu\">\n          <a href=\"#moments\" @click.prevent=\"scrollTo('moments')\" class=\"nav-item nav-item-moments\">\n            <svg viewBox=\"0 0 24 24\" class=\"nav-icon\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"\n              stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <path d=\"M12 2L2 12h3v8h6v-6h2v6h6v-8h3z\" />\n            </svg>\n\n\n\n            <span class=\"nav-label\">\n              主页\n              <span class=\"red\" :class=\"{ hidden: !hasUnread }\"></span>\n            </span>\n          </a>\n\n          <!-- 相册 -->\n          <a href=\"#album\" @click.prevent=\"scrollTo('album')\" class=\"nav-item nav-item-album\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"nav-icon\" fill=\"none\" viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\" stroke-width=\"2\">\n              <rect x=\"3\" y=\"4\" width=\"18\" height=\"16\" rx=\"2\" ry=\"2\" />\n              <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" />\n              <polyline points=\"21 15 16 10 5 21\" />\n            </svg>\n            <span class=\"nav-label\">相册</span>\n          </a>\n          <!-- 投稿 -->\n          <a href=\"#moments\" @click.prevent=\"scrollTo('moments')\" class=\"nav-item nav-item-submit\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"nav-icon\" fill=\"none\" viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\" stroke-width=\"2\">\n              <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" stroke-linecap=\"round\" />\n              <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" stroke-linecap=\"round\" />\n            </svg>\n\n            <span class=\"nav-label\">投稿</span>\n          </a>\n          <!-- ① 在 data() 里新增 navDropdownVisible -->\n          <div class=\"nav-avatar\" @mouseenter=\"navDropdownVisible = true\" @mouseleave=\"navDropdownVisible = false\">\n            <img :src=\"getAvatar(currentUser)\" alt=\"Avatar\" class=\"avatar-img\" />\n            <transition name=\"dropdown-fade\">\n              <div v-show=\"navDropdownVisible\" class=\"nav-dropdown\">\n                <!-- 设置 -->\n                <button class=\"dropdown-item\" @click=\"showSettingsModal = true\">\n                  <!-- 齿轮图标 -->\n                  <svg class=\"dropdown-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                    <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n                    <path\n                      d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09c.71 0 1.34-.41 1.51-1a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06c.48.48 1.14.67 1.82.33a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09c0 .71.41 1.34 1 1.51a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82c.17.59.8 1 1.51 1H21a2 2 0 0 1 0 4h-.09c-.71 0-1.34.41-1.51 1z\" />\n                  </svg>\n                  <span>设置</span>\n                </button>\n\n                <div class=\"dropdown-divider\"></div>\n\n                <!-- 退出（关机图标） -->\n                <button class=\"dropdown-item\" @click=\"logout\">\n                  <!-- Power-off 图标 -->\n                  <svg class=\"dropdown-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                    <path d=\"M18.364 5.636a9 9 0 1 1-12.728 0\"></path>\n                    <line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"12\"></line>\n                  </svg>\n                  <span>退出</span>\n                </button>\n              </div>\n            </transition>\n\n          </div>\n\n\n\n          <button class=\"btn-ghost\" @click=\"toggleTheme\">\n            <svg v-if=\"theme === 'light'\" viewBox=\"0 0 24 24\">\n              <circle cx=\"12\" cy=\"12\" r=\"5\" />\n            </svg>\n            <svg v-else viewBox=\"0 0 24 24\">\n              <path d=\"M21 12.8A9 9 0 1111.2 3 7 7 0 0021 12.8z\" />\n            </svg>\n          </button>\n        </div>\n      </nav>\n\n      <!-- ======================== 投稿区 ======================== -->\n      <section id=\"moments\">\n        <h2 class=\"big\">投稿</h2>\n        <div class=\"np-top\">\n          <div class=\"np-input-wrapper\">\n            <!-- ❶ 直接用一个 contenteditable 的渲染层当输入区 -->\n            <div class=\"ta-preview\" contenteditable=\"true\" ref=\"postInput\" @input=\"handleInput\" @keyup=\"saveCaret\"\n              @mouseup=\"saveCaret\" @keydown.enter.prevent=\"handlePostEnter\" @keydown=\"handleKeydown\"\n              data-placeholder=\"说点什么...\"></div>\n\n            <!-- ② 新的“悬浮”上传按钮，圆形、尺寸更小 -->\n            <label class=\"upload-fab\">\n              <svg viewBox=\"0 0 24 24\">\n                <path d=\"M12 5v14m7-7H5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\n              </svg>\n              <input type=\"file\" accept=\"image/*\" multiple @change=\"handlePostImages\" />\n            </label>\n            <!-- === ① 触发按钮 === -->\n            <button type=\"button\" class=\"emoji-fab\" @click=\"toggleStickerPicker\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"\n                stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                <!-- 外圆 -->\n                <circle cx=\"12\" cy=\"12\" r=\"10\" />\n                <!-- 眼睛 -->\n                <circle cx=\"9\" cy=\"10\" r=\"1\" />\n                <circle cx=\"15\" cy=\"10\" r=\"1\" />\n                <!-- 微笑曲线 -->\n                <path d=\"M8 16c1.333-1 2.667-1 4 0\" />\n              </svg>\n            </button>\n            <!-- === ② 贴图网格 === -->\n            <div v-if=\"stickerPickerVisible\" class=\"sticker-picker\">\n              <img v-for=\"s in displayedStickers\" :key=\"s.id\" :src=\"s.url\" :alt=\"s.id\" @click.stop=\"selectSticker(s)\" />\n\n              <!-- 分页按钮 -->\n              <button class=\"page-btn left\" @click=\"prevStickerPage\" :disabled=\"stickerPage === 0\">‹</button>\n              <button class=\"page-btn right\" @click=\"nextStickerPage\"\n                :disabled=\"(stickerPage + 1) * stickersPerPage >= stickers.length\">›</button>\n            </div>\n\n\n          </div>\n          <div class=\"np-toolbar\">\n            <span class=\"char-count\">{{ newPostCharCount }}/30000</span>\n\n            <!-- ③ 新的“发布”按钮，圆形、尺寸更小 -->\n\n\n            <button class=\"btn-publish\" @click=\"publishPost\" :disabled=\"isPublishing\">\n              <!-- 编辑模式下显示“保存”，否则显示“发布” -->\n              <template v-if=\"!isPublishing\">\n                {{ editingPost ? '保存' : '发布' }}\n              </template>\n              <template v-else>\n                <span class=\"spinner\"></span> {{ editingPost ? '保存中…' : '发布中…' }}\n              </template>\n            </button>\n\n          </div>\n        </div>\n\n        <!-- 图片草稿预览 -->\n        <div v-if=\"draftImgs.length && imageInsertMode === 'preview'\" class=\"np-preview\">\n          <div v-for=\"(img, i) in draftImgs\" :key=\"i\" class=\"thumb\">\n            <img :src=\"img\" /><span class=\"remove\" @click=\"removeDraft(i)\">×</span>\n          </div>\n        </div>\n\n        <!-- 动态列表 -->\n        <h2 class=\"big\">动态</h2>\n        <!-- 1. 骨架屏，当 isListLoading=true 时显示 -->\n        <template v-if=\"isListLoading\">\n          <div class=\"skeleton-list\">\n            <div class=\"skeleton-card\" v-for=\"n in 3\" :key=\"n\">\n              <div class=\"skeleton-head\"></div>\n              <div class=\"skeleton-body\"></div>\n            </div>\n          </div>\n        </template>\n\n        <!-- 2. 列表主结构，用 transition-group 加入进场动画 -->\n        <transition-group name=\"post-fade\" tag=\"div\" id=\"moments-list\">\n          <div v-for=\"post in visiblePosts\" :key=\"post.id\" class=\"post card\">\n            <!-- ——— 保留你原来的 post 结构 —— ——— -->\n            <div class=\"head\" style=\"display:flex;justify-content:space-between;align-items:center;\">\n              <div style=\"display:flex;align-items:center;gap:8px;margin-bottom:12px;\">\n                <div\n                  :style=\"{ width: '34px', height: '34px', borderRadius: '50%', background: 'url(' + getAvatar(post.uid) + ') center/cover' }\">\n                </div>\n                <b>{{ getDisplayName(post.uid) }}</b>\n                <span v-html=\"badgeHTML(post.uid)\"></span>\n                <!-- 勋章后面追加日期 -->\n                <small class=\"post-date\">\n                  {{ new Date(post.ts).toLocaleDateString() }}\n                </small>\n                <span class=\"red\" v-if=\"!isRead(post.id) && post.uid !== currentUser\"></span>\n              </div>\n              <div style=\"display:flex;align-items:center;gap:10px;\">\n                <span style=\"font-size:12px\">\n                  {{ new Date(post.ts).toLocaleTimeString() }}<span v-if=\"post.place\"> · {{ post.place }}</span>\n                </span>\n                <div class=\"more-wrapper\">\n                  <span v-if=\"post.uid === currentUser || currentUser === '217122260'\" class=\"more\"\n                    @click=\"postOptionsPost = postOptionsPost === post ? null : post\">⋯</span>\n                  <transition name=\"options-pop\">\n                    <div v-if=\"postOptionsPost === post\" class=\"post-options\">\n                      <button class=\"edit-post-btn\" @click=\"startEdit(post)\">\n                        <!-- Pencil (edit) 图标 -->\n                        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\"\n                          stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                          <path d=\"M12 20h9\"></path>\n                          <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z\"></path>\n                        </svg>\n                      </button>\n\n\n                      <button class=\"trash-btn\" @click=\"deletePost(post)\">\n                        <!-- 这里是你的删除图标 -->\n                        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\"\n                          stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                          <path d=\"M3 6h18\" />\n                          <path d=\"M9 6v12\" />\n                          <path d=\"M15 6v12\" />\n                          <path d=\"M4 6v14a2 2 0 002 2h12a2 2 0 002-2V6\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </transition>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"body\">\n              <p v-html=\"renderText(post.txt)\"></p>\n            </div>\n\n            <div class=\"photos\">\n              <div v-for=\"(img, i) in post.imgs.slice(0, 3)\" :key=\"i\" class=\"thumb\" @click=\"openModal(post, i)\">\n                <img :src=\"img\" alt=\"\" />\n                <!-- 只有在第三张，且还有多余图片时才显示 +N -->\n                <div v-if=\"i === 2 && post.imgs.length > 3\" class=\"thumb-overlay\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"stack-icon\" viewBox=\"0 0 24 24\" fill=\"none\"\n                    stroke=\"currentColor\" stroke-width=\"2\">\n                    <!-- 上层矩形 -->\n                    <rect x=\"3\" y=\"4\" width=\"18\" height=\"6\" rx=\"1\" ry=\"1\" />\n                    <!-- 下层矩形，略微偏移 -->\n                    <rect x=\"6\" y=\"12\" width=\"18\" height=\"6\" rx=\"1\" ry=\"1\" />\n                  </svg>\n                  <span class=\"overlay-count\">+{{ post.imgs.length - 3 }}</span>\n                </div>\n              </div>\n            </div>\n\n\n\n\n            <div class=\"actions\">\n              <!-- 观看次数图标 -->\n              <svg viewBox=\"0 0 24 24\">\n                <path d=\"M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7z m0 12a5 5 0 110-10 5 5 0 010 10z\" />\n              </svg>\n              <span>{{ post.views }}</span>\n\n              <!-- 新增：评论切换按钮 -->\n              <svg class=\"comment-toggle\" @click=\"toggleComments(post)\" style=\"cursor:pointer; margin-left:8px;\"\n                viewBox=\"0 0 24 24\">\n                <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10z\" fill=\"none\"\n                  stroke=\"currentColor\" stroke-width=\"2\" />\n              </svg>\n              <span>{{ post.cmts.length }}</span>\n            </div>\n\n            <div v-if=\"visibleComments[post.id]\" class=\"comments\">\n              <div v-for=\"(c, idx) in post.cmts\" :key=\"idx\" class=\"comment\">\n                <div class=\"comment-left\">\n                  <span class=\"comment-display\">{{ getDisplayName(c.who) }}: {{ c.txt }}</span>\n                </div>\n                <div class=\"comment-right\">\n                  <span v-if=\"c.who === currentUser\" class=\"comment-edit\" @click=\"editComment(post, idx)\">✎</span>\n                  <span v-if=\"c.who === currentUser\" class=\"comment-delete\" @click=\"deleteComment(post, idx)\">×</span>\n                  <span v-else class=\"comment-author\">{{ getDisplayName(c.who) }}</span>\n                </div>\n              </div>\n              <div class=\"c-input\">\n                <input type=\"text\" v-model=\"newComment[post.id]\" placeholder=\"评论...\"\n                  @keydown.enter.prevent=\"handleCommentEnter($event, post)\" />\n                <button class=\"btn-publish\" style=\"font-size:13px\" @click=\"sendComment(post)\">发送</button>\n              </div>\n            </div>\n            <!-- ———————————————— 结束 ———————————————— -->\n          </div>\n        </transition-group>\n        <div v-if=\"visiblePosts.length < posts.length\" style=\"text-align:center;margin:16px 0;\">\n          <div v-if=\"loadMode === 'manual' && visiblePosts.length < posts.length\"\n            style=\"text-align:center;margin:16px 0;\">\n            <button class=\"btn-ghost\" @click=\"loadMore\">加载更多</button>\n          </div>\n        </div>\n      </section>\n\n      <!-- ======================== 相册 ======================== -->\n      <section id=\"album\">\n        <h2 class=\"big\">相册</h2>\n        <div class=\"album-tabs\">\n          <button :class=\"{ on: albumMode === 'time' }\" @click=\"albumMode = 'time'\">按时间</button>\n          <button :class=\"{ on: albumMode === 'region' }\" @click=\"albumMode = 'region'\">按地区</button>\n        </div>\n\n        <div id=\"album-grid\" class=\"grid\">\n          <template v-for=\"(group, key) in groupedPhotos\" :key=\"key\">\n            <h4 style=\"grid-column:1/-1;margin:4px 0 6px\">{{ key }}</h4>\n            <div v-for=\"(photo, i) in group\" :key=\"i\" class=\"photo\"\n              @click=\"openModal(photo.post, photo.post.imgs.indexOf(photo.url))\">\n              <img :src=\"photo.url\" /><span>{{ photo.place }}</span>\n            </div>\n          </template>\n        </div>\n\n        <div v-if=\"allPhotos.length === 0\" style=\"text-align:center;margin-top:30px;color:#888\">暂无照片，快去上传吧~</div>\n      </section>\n\n      <!-- Settings 弹窗 -->\n      <div v-if=\"showSettingsModal\" class=\"modal show settings-modal\">\n        <div class=\"box\">\n          <!-- 右上角关闭 -->\n          <span class=\"close\" @click=\"showSettingsModal = false\">×</span>\n\n          <!-- 这里直接渲染 SettingsPanel -->\n          <SettingsPanel v-model:theme=\"theme\" v-model:bgSrc=\"bgSrc\" v-model:bgOpacity=\"bgOpacity\"\n            v-model:bgBlur=\"bgBlur\" v-model:loadMode=\"loadMode\" v-model:imageInsertMode=\"imageInsertMode\"\n            v-model:petEnabled=\"petEnabled\" v-model:llmEnabled=\"llmEnabled\" v-model:localDisplayName=\"localDisplayName\"\n            v-model:selectedBadge=\"selectedBadge\" :allowedBadges=\"allowedBadges\" :allowedUids=\"allowedUids\"\n            :currentUser=\"currentUser\" bestBadgeUid=\"246490729\" adminUid=\"217122260\"\n            @open-password-modal=\"openPasswordModal\" @open-badge-modal=\"openBadgeModal\" @reset-password=\"resetPassword\"\n            @add-allowed-uid=\"addAllowedUid\" @remove-allowed-uid=\"removeAllowedUid\"\n            @open-admin-pwd-modal=\"openAdminPwdModal\"\n            @open-nickname-modal=\"showNicknameModal = true\" />\n        </div>\n      </div>\n\n\n      <!-- 勋章 Modal -->\n      <div v-if=\"showBadgeModal\" class=\"modal show\">\n        <div class=\"box\">\n          <span class=\"close\" @click=\"closeBadgeModal\">×</span>\n          <h3>选择勋章</h3>\n          <div style=\"margin:10px 0;\">\n            <label v-for=\"badge in allowedBadges\" :key=\"badge.id\"\n              style=\"display:flex;align-items:center;gap:6px;margin:4px 0\">\n              <input type=\"radio\" name=\"wear\" :value=\"badge.id\" v-model=\"selectedBadge\" />\n              <span\n                :class=\"['badge', badge.id === 'best' ? 'best' : badge.id === 'catgirl' ? 'catgirl' : badge.id === 'none' ? 'badge-none' : '']\">\n                {{ badge.name }}\n              </span>\n            </label>\n          </div>\n          <button class=\"btn-publish\" style=\"margin-top:12px\" @click=\"confirmBadge\">确认</button>\n        </div>\n      </div>\n\n      <!-- 图片 Slider Modal -->\n      <div v-if=\"showModal\" class=\"modal show slider-modal\" @click.self=\"closeInfoSidebar\">\n        <div class=\"box\">\n          <span class=\"close\" @click=\"closeModal\">×</span>\n          <!-- Modal 图片菜单按钮 -->\n          <span class=\"more modal-more\" @click=\"showImageOptions = !showImageOptions\">⋯</span>\n          <!-- Modal 信息按钮 -->\n          <span class=\"info-btn\" @click=\"toggleInfoSidebar\" :aria-label=\"showInfoSidebar ? '收起信息' : '查看信息'\">\n            <!-- 圆圈里的 i，和 iOS 类似 -->\n            <svg viewBox=\"0 0 24 24\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" />\n              <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"8\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\n              <line x1=\"12\" y1=\"11\" x2=\"12\" y2=\"16\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\n            </svg>\n          </span>\n\n          <!-- Modal 图片操作菜单 -->\n          <transition name=\"options-pop\">\n            <div v-if=\"showImageOptions\" class=\"modal-options\">\n              <button class=\"edit-place-btn\" @click=\"openPlaceModal('image', modalPost)\">\n                <!-- Location Marker 图标 -->\n                <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" stroke-linejoin=\"round\">\n                  <path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z\" />\n                  <circle cx=\"12\" cy=\"9\" r=\"2.5\" />\n                </svg>\n              </button>\n            </div>\n          </transition>\n          <div class=\"slider-content\">\n            <button class=\"slider-btn left\" @click=\"prevModalImg\" :disabled=\"modalIndex === 0\">‹</button>\n            <!-- 桌面鼠标滚轮 -->\n            <img class=\"slider-img\" :src=\"modalImgs[modalIndex]\"\n              :style=\"{ transform: 'scale(' + modalZoom + ')', transition: 'transform .15s' }\" @load=\"handleImgLoad\"\n              @wheel.prevent=\"onWheelZoom\" />\n\n            <button class=\"slider-btn right\" @click=\"nextModalImg\"\n              :disabled=\"modalIndex === modalImgs.length - 1\">›</button>\n          </div>\n          <!-- 新增：固定在右下角的删除按钮 -->\n          <button class=\"modal-delete-btn\" @click=\"deleteImage()\">\n            <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path d=\"M3 6h18M9 6v12m6-12v12M4 6v14a2 2 0 002 2h12a2 2 0 002-2V6\" stroke=\"currentColor\"\n                stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n            </svg>\n          </button>\n          <!-- 缩放条 + 放大镜 -->\n          <div class=\"zoom-control\">\n            <svg class=\"zoom-icon\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" />\n              <line x1=\"16\" y1=\"16\" x2=\"22\" y2=\"22\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\n            </svg>\n            <input type=\"range\" :min=\"minZoom\" :max=\"maxZoom\" step=\"0.1\" v-model.number=\"modalZoom\" />\n          </div>\n          <!-- 侧边栏：照片信息 -->\n          <transition name=\"sidebar-slide\">\n            <div v-if=\"showInfoSidebar\" class=\"info-sidebar\">\n              <p><b>尺寸：</b>{{ infoSize }}</p>\n              <p>\n                <b>地点：</b>\n                {{ modalPost.imgPlaces[modalIndex] || modalPost.place || '未知' }}\n              </p>\n              <p><b>日期：</b>{{ new Date(modalPost.ts).toLocaleString() }}</p>\n            </div>\n          </transition>\n\n          <div class=\"modal-meta\">\n            {{ modalIndex + 1 }} / {{ modalImgs.length }}\n          </div>\n        </div>\n      </div>\n      <!-- 编辑地点 Modal -->\n      <div v-if=\"showPlaceModal\" class=\"modal show\">\n        <div class=\"box place-modal-box\">\n          <span class=\"close\" @click=\"closePlaceModal\">×</span>\n          <h3 style=\"margin-bottom:12px;\">编辑地点</h3>\n          <!-- 跟发帖区一模一样的 np-toolbar -->\n          <div class=\"np-toolbar\" style=\"margin-bottom:12px;\">\n          </div>\n\n          <div style=\"text-align:right;\">\n            <button class=\"btn-ghost\" @click=\"closePlaceModal\" style=\"margin-right:8px;\">取消</button>\n            <button class=\"btn-publish\" @click=\"confirmPlaceEdit\">确定</button>\n          </div>\n        </div>\n      </div>\n\n\n\n      <!-- 密码 Modal -->\n      <div v-if=\"showPasswordModal\" class=\"modal show\">\n        <div class=\"box\" style=\"text-align:center;max-width:340px;\">\n          <span class=\"close\" @click=\"closePasswordModal\">×</span>\n          <h3>更改密码</h3>\n          <div style=\"margin-top:16px;\">\n            <input type=\"password\" v-model=\"oldPassword\" placeholder=\"旧密码\"\n              style=\"width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;margin-bottom:8px;\" />\n            <input type=\"password\" v-model=\"newPassword\" placeholder=\"新密码\"\n              style=\"width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;margin-bottom:8px;\" />\n            <input type=\"password\" v-model=\"confirmPassword\" placeholder=\"确认新密码\"\n              style=\"width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;margin-bottom:8px;\" />\n            <button class=\"btn-publish\" style=\"margin-top:12px\" @click=\"changePassword\">确认更改</button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 桌宠 -->\n      <div id=\"pet\" v-if=\"petEnabled\" ref=\"pet\"\n        style=\"position:fixed;right:24px;bottom:24px;width:90px;user-select:none;cursor:move;z-index:90;\"\n        @mousedown=\"dragPet\">\n        <div v-html=\"petSVG\"></div>\n      </div>\n\n      <footer style=\"text-align:center;padding:24px 0;font-size:13px;color:#777\">\n        © 2025 把回忆拼好给你\n      </footer>\n    </div>\n  </div>\n</template>\n\n<script>\n/* ===== 登录白名单 & 常量 ===== */\nconst BEST_BADGE_UID = '246490729';                 // 佩戴「最好的大佬」勋章的 UID\nimport LoginModal from '@/components/LoginModal.vue';\nimport SettingsPanel from '@/components/SettingsPanel.vue';\nimport { getAllowedUids, setAllowedUids } from '@/config/auth';\nimport { getOrCreateSalt, saltedHash } from '@/utils/crypto';\n\nexport default {\n  name: 'App',\n  components: { LoginModal, SettingsPanel },\n  /* ---------- data ---------- */\n  data() {\n    const storedUser = JSON.parse(localStorage.getItem('currentUser') || 'null');\n\n    return {\n      // 当前登录 UID；null 代表未登录\n      currentUser: storedUser,\n\n      /* 业务数据 */\n      posts: JSON.parse(localStorage.getItem('posts') || '[]'),\n\n      /* 主题 / 外观 */\n      theme: localStorage.getItem('theme') || 'light',\n      bgSrc: localStorage.getItem('bgSrc') || '',\n      bgOpacity: parseFloat(localStorage.getItem('bgOpacity') || 0.35),\n      bgBlur: parseInt(localStorage.getItem('bgBlur') || 4),\n\n      /* 导航栏 */\n      navDropdownVisible: false,\n\n      /* 投稿 */\n      newPostText: '',\n      newPostPlace: '',\n      draftImgs: [],\n      isPublishing: false,    // 按钮 loading\n      isListLoading: false,   // 列表骨架屏\n      editingPost: null,\n\n      // —— 分页加载配置 —— \n      loadedCount: 5,  // 初始加载 5 条\n      loadStep: 5,     // 每次点击再加载 5 条\n\n      /* 评论 */\n      // localDisplayName: localStorage.getItem('displayName_' + (storedUser || '')) || '',\n      newComment: {},\n\n      /* Modals */\n      showBadgeModal: false,\n      showPasswordModal: false,\n      showModal: false,\n      modalSrc: '',\n      modalMeta: '',\n      modalImgs: [],     // 本次 Modal 要展示的图片列表\n      modalIndex: 0,     // 当前显示的图片下标\n      showPlaceModal: false,      // 控制编辑地点弹窗显隐\n      placeModalTarget: null,     // 要编辑的对象（post 或 modalPost）\n      placeModalType: '',         // 'post' 或 'image'\n      showInfoSidebar: false,          // Info 侧边栏显隐\n      infoSize: '',                    // \"4032 × 3024\" 这样的字符串\n\n      /* 图片缩放 */\n      modalZoom: 1,          // 当前缩放倍数（1 = 100%）\n      minZoom: 0.5,         // 下限\n      maxZoom: 3,           // 上限\n\n      loadMode: localStorage.getItem('loadMode') || 'manual',\n      petEnabled: true,\n      petType: 'cat',\n      llmEnabled: true,\n      petPrompt: '喵～ 记得喝水喔！',\n      localDisplayName: localStorage.getItem('displayName_' + (storedUser || '')) || '',\n      imageInsertMode: localStorage.getItem('imageInsertMode') || 'preview',\n\n      /*头像 */\n      avatarMap: {\n        [storedUser]: localStorage.getItem('avatar-' + storedUser)\n          || 'https://placehold.co/60'\n      },\n      /* 勋章 */\n      BADGES: [\n        { id: 'none', name: '不佩戴' },\n        { id: 'best', name: '最好的大佬' },\n        { id: 'catgirl', name: '你才是猫娘' }\n      ],\n      selectedBadge: localStorage.getItem('wear_' + (storedUser || '')) || 'none',\n      userBadges: (() => {\n        const map = JSON.parse(localStorage.getItem('userBadges') || '{}');\n        // 如果有登录用户，且 map 里还没它的记录，就初始化一下\n        if (storedUser && !(storedUser in map)) {\n          map[storedUser] = localStorage.getItem('wear_' + storedUser) || 'none';\n        }\n        return map;\n      })(),\n\n      editingImgIdx: 0,          // ⑦ 当前在改哪一张\n      placeModalValue: '',       // ⑧ <select v-model> 的值\n\n      /* 密码 */\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: '',\n\n      /* 已读 */\n      readIds: new Set(JSON.parse(localStorage.getItem('readIds_' + (storedUser || '')) || '[]')),\n\n      /* 相册 */\n      albumMode: 'time',\n\n      /* 表情 */\n      stickerPickerVisible: false,\n      stickers: [],          // ↙ 先给空数组\n      stickerPage: 0,   // 当前页\n      stickersPerPage: 32,  // 每页多少张\n      savedRange: null,   // ⭐︎ 光标缓存\n\n      showSettingsModal: false,\n\n      /* 管理员 */\n      adminPwdModalVisible: false,\n      adminTargetUid: '',\n      adminNewPassword: '',\n      newAdminUid: '',\n\n      /* 白名单 */\n      allowedUids: getAllowedUids(),\n      // Modal 内部「⋯」菜单\n      showImageOptions: false,   // 控制图片选项菜单显隐\n      modalPost: null,           // 当前在 Modal 里编辑的 post 对象\n\n      // 动态列表「⋯」菜单\n      postOptionsPost: null,     // 控制哪个 post 的选项菜单显隐\n\n      imageNewPlace: '',  // Modal 编辑时用的 v-model\n      postNewPlace: '',   // 动态列表编辑时用的 v-model\n      visibleComments: {},   // key: post.id, value: Boolean  \n    };\n  },\n\n  /* ---------- computed ---------- */\n  computed: {\n    newPostCharCount() {\n      // 把所有 markdown 图片语法替换成单个占位符\n      const txt = this.newPostText.replace(/!\\[\\]\\([^)]*\\)/g, '□');\n      return txt.length;\n    },\n\n    displayedStickers() {\n      const start = this.stickerPage * this.stickersPerPage\n      return this.stickers.slice(start, start + this.stickersPerPage)\n    },\n    // 只显示已加载的条数\n    visiblePosts() {\n      return this.posts.slice(0, this.loadedCount);\n    },\n\n    displayName() {\n      return this.localDisplayName;\n    },\n    allPhotos() {\n      const out = [];\n      this.posts.forEach(post => {\n        post.imgs.forEach((url, idx) => {\n          out.push({\n            url,\n            // 1️⃣ 如果这张图有 imgPlaces，就用它；否则 fallback 到 post.place\n            place: post.imgPlaces?.[idx] || post.place || '未知',\n            date: new Date(post.ts).toISOString().slice(0, 10),\n            post,\n            idx\n          });\n        });\n      });\n      return out;\n    },\n\n\n    groupedPhotos() {\n      const g = {};\n      this.allPhotos.forEach(p => {\n        const key = this.albumMode === 'time' ? p.date.slice(0, 7) : p.place;\n        if (!g[key]) g[key] = [];\n        g[key].push({ ...p, meta: `${p.date} · ${p.place}` });\n      });\n      return g;\n    },\n    allowedBadges() {\n      return this.BADGES.filter(b => (b.id === 'best' ? this.currentUser === BEST_BADGE_UID : true));\n    },\n    hasUnread() {\n      return this.posts.some(p => !this.readIds.has(p.id) && p.uid !== this.currentUser);\n    },\n    bgStyle() {\n      return {\n        backgroundImage: this.bgSrc ? `url(${this.bgSrc})` : 'none',\n        opacity: this.bgOpacity,\n        filter: `blur(${this.bgBlur}px)`\n      };\n    },\n    petSVG() {\n      return this.petType === 'bird'\n        ? `<svg viewBox=\"0 0 120 120\"><circle cx=\"60\" cy=\"60\" r=\"55\" fill=\"#cdeffd\" stroke=\"#333\" stroke-width=\"3\"/><path d=\"M40 70 Q60 90 80 70\" stroke=\"#333\" stroke-width=\"5\" fill=\"none\" stroke-linecap=\"round\"/><circle cx=\"45\" cy=\"55\" r=\"8\"/><circle cx=\"75\" cy=\"55\" r=\"8\"/></svg>`\n        : `<svg viewBox=\"0 0 120 120\"><circle cx=\"60\" cy=\"60\" r=\"55\" fill=\"#ffe4e1\" stroke=\"#333\" stroke-width=\"3\"/><circle cx=\"45\" cy=\"50\" r=\"10\"/><circle cx=\"75\" cy=\"50\" r=\"10\"/><path d=\"M45 80 Q60 95 75 80\" stroke=\"#333\" stroke-width=\"4\" fill=\"none\" stroke-linecap=\"round\"/></svg>`;\n    },\n  },\n\n  watch: {\n    theme(val) {\n      // 任何地方把 theme 改成 'dark' / 'light'，都会自动同步 DOM 和 localStorage\n      document.body.classList.toggle('dark', val === 'dark');\n      localStorage.setItem('theme', val);\n    },\n    bgOpacity: 'saveBgOpacity',\n    bgBlur: 'saveBgBlur',\n    loadMode(val) {\n      localStorage.setItem('loadMode', val);\n      this.updateLoadBehavior();\n    },\n    imageInsertMode(val) {\n      localStorage.setItem('imageInsertMode', val);\n    },\n\n    // 本地改名时，立刻写入 localStorage\n    localDisplayName(newName) {\n      localStorage.setItem('displayName_' + (this.currentUser || ''), newName);\n    },\n\n    selectedBadge(newVal) {\n      // 直接赋值给响应式对象\n      this.userBadges[this.currentUser] = newVal;\n      localStorage.setItem('userBadges', JSON.stringify(this.userBadges));\n    }\n  },\n\n\n\n  /* ---------- methods ---------- */\n  methods: {\n    /* ========== 登录 ========== */\n    /* 登录成功后的回调 */\n    handleLogin(uid) {\n      this.currentUser = uid;\n      localStorage.setItem('currentUser', JSON.stringify(uid));\n      this.readIds = new Set(JSON.parse(localStorage.getItem('readIds_' + uid) || '[]'));\n      this.localDisplayName = localStorage.getItem('displayName_' + uid) || '';\n      this.posts = JSON.parse(localStorage.getItem('posts') || '[]');\n    },\n    logout() {\n      localStorage.removeItem('currentUser');\n      this.currentUser = null;\n      this.posts = [];\n      this.localDisplayName = '';\n      this.readIds = new Set();\n    },\n    /* ========== 工具函数 ========== */\n    formatMeta(post) {\n      const d = new Date(post.ts);\n      const date = d.toLocaleDateString();      // 本地化日期\n      const time = d.toLocaleTimeString();      // 本地化时分秒\n      return `${date} ${time}${post.place ? ' · ' + post.place : ''}`;\n    },\n\n    // —— 关闭贴图面板 —— //\n    handleClickToCloseSticker(e) {\n      if (this.stickerPickerVisible &&\n        !e.target.closest('.sticker-picker') &&\n        !e.target.closest('.emoji-fab')) {\n        this.stickerPickerVisible = false;\n      }\n    },\n\n    // —— 关闭头像下拉 —— //\n    handleClickToCloseNavDropdown(e) {\n      if (this.navDropdownVisible &&\n        !e.target.closest('.nav-avatar')) {\n        this.navDropdownVisible = false;\n      }\n    },\n\n    // —— 全局点击统一入口 —— //\n    handleGlobalClick(e) {\n      this.handleClickToCloseSticker(e);\n      this.handleClickToCloseNavDropdown(e);\n    },\n\n    badgeHTML(uid) {\n      const val = this.userBadges[uid] || 'none';\n      // 不佩戴就不渲染\n      if (val === 'none') return '';\n      // 只有 best 和 catgirl 两种可渲染\n      const cls = val === 'best' ? 'badge best'\n        : /* catgirl */      'badge catgirl';\n      const name = this.BADGES.find(b => b.id === val)?.name || '';\n      return `<span class=\"${cls}\">${name}</span>`;\n    },\n\n    scrollTo(id) { const el = document.getElementById(id); if (el) el.scrollIntoView({ behavior: 'smooth' }); },\n\n    getAvatar(uid) {\n      if (!this.avatarMap[uid]) {\n        this.avatarMap[uid] = localStorage.getItem('avatar-' + uid) || 'https://placehold.co/60';\n      }\n      return this.avatarMap[uid];\n    },\n\n\n    getDisplayName(uid) {\n      if (uid === this.currentUser) {\n        return this.displayName;\n      }\n      return localStorage.getItem('displayName_' + uid) || uid;\n    },\n\n    toggleNavDropdown() {\n      this.navDropdownVisible = !this.navDropdownVisible;\n    },\n    toggleComments(post) {\n      // Vue3 响应式里直接赋值即可\n      this.visibleComments[post.id] = !this.visibleComments[post.id];\n    },\n\n    /* ========== 投稿 ========== */\n    handleInput(e) {\n      const nodes = e.target.childNodes\n      let txt = ''\n      nodes.forEach(n => {\n        if (n.nodeType === 3) {                    // 文本节点\n          txt += n.textContent\n        } else if (n.tagName === 'IMG' &&\n          n.classList.contains('inline-sticker')) {\n          txt += `![](${n.src})`\n        } else if (n.tagName === 'BR') {\n          txt += '\\n'\n        }\n      })\n      this.newPostText = txt\n    },\n    handlePostImages(e) {\n      const files = Array.from(e.target.files).slice(0, 50);\n\n      // ① “正文内嵌” —— 像贴图一样插入 <img>\n      if (this.imageInsertMode === 'inline') {\n        files.forEach(f => {\n          const url = URL.createObjectURL(f);\n          this.draftImgs.push(url);\n\n          // —— 在光标处插入一张 <img.inline-sticker> —— \n          this.restoreCaret();\n          const sel = window.getSelection();\n          if (!sel || !sel.rangeCount) return;\n          const range = sel.getRangeAt(0);\n          const img = document.createElement('img');\n          img.src = url;\n          img.className = 'inline-sticker';\n          img.contentEditable = false;\n          range.insertNode(img);\n          range.collapse(false);\n\n          // 在图片后插入一个空格，保持输入流畅\n          this.insertAtCaret(' ');\n        });\n\n        // DOM 变动后，同步更新 markdown 内容\n        this.handleInput({ target: this.$refs.postInput });\n      }\n\n      // ② “预览区” —— 传统的图片预览模式\n      else {\n        this.draftImgs = [];\n        files.forEach(f => this.draftImgs.push(URL.createObjectURL(f)));\n      }\n    },\n\n    removeDraft(i) { this.draftImgs.splice(i, 1); },\n    autoResize(e) {\n      const el = e.target;\n      el.style.height = 'auto';\n      el.style.height = el.scrollHeight + 'px';\n    },\n    /* —— 光标缓存 —— */\n    saveCaret() {\n      const sel = window.getSelection()\n      if (sel && sel.rangeCount) {\n        this.savedRange = sel.getRangeAt(0).cloneRange()\n      }\n    },\n    restoreCaret() {\n      const box = this.$refs.postInput\n      // 1) 没缓存 2) 缓存已经跑到别的元素 → 统一放到文本末尾\n      if (!this.savedRange || !box.contains(this.savedRange.startContainer)) {\n        this.savedRange = document.createRange()\n        this.savedRange.selectNodeContents(box)\n        this.savedRange.collapse(false)\n      }\n      const sel = window.getSelection()\n      sel.removeAllRanges()\n      sel.addRange(this.savedRange)\n      box.focus()\n    },\n    // 开始编辑：把原 post 内容加载到发布区，不改变原 ts\n    startEdit(post) {\n      this.editingPost = post;\n      this.newPostText = post.txt;\n      this.draftImgs = [...post.imgs];\n      this.newPostPlace = post.place || '';\n\n      // 把 contenteditable 区同步内联文本（支持渲染 markdown 图片和换行）\n      if (this.$refs.postInput) {\n        const html = this.renderText(post.txt).replace(/\\n/g, '<br>');\n        this.$refs.postInput.innerHTML = html;\n      }\n\n      // 跳转到投稿区\n      this.scrollTo('moments');\n    },\n\n    publishPost() {\n      if (!this.currentUser) return alert('请先登录');\n\n      this.isPublishing = true;\n      this.isListLoading = true;\n\n      const txt = this.newPostText.trim();\n\n      if (!txt && !this.draftImgs.length) {\n        this.isPublishing = false;\n        this.isListLoading = false;\n        return alert('写点文字或选张图片吧~');\n      }\n\n      if (this.editingPost) {\n        // 编辑已有动态：更新文本、图片、地点，不改 ts\n        this.editingPost.txt = txt;\n        this.editingPost.imgs = [...this.draftImgs];\n        this.editingPost.imgPlaces = this.draftImgs.map(() => null);\n        this.editingPost.place = this.newPostPlace;\n\n        // 更新本地存储（注意：编辑时不清空 imgs）\n        localStorage.setItem('posts', JSON.stringify(this.posts));\n\n        this.editingPost = null;\n      } else {\n        // 发布新动态\n        const post = {\n          id: crypto.randomUUID(),\n          uid: this.currentUser,\n          txt,\n          place: this.newPostPlace,\n          imgPlaces: this.draftImgs.map(() => null),\n          imgs: [...this.draftImgs],\n          ts: Date.now(),\n          views: 0,\n          cmts: []\n        };\n\n        this.posts.unshift(post);\n\n        // 新发布的清空 imgs 保存\n        localStorage.setItem('posts', JSON.stringify(this.posts.map(p => ({ ...p, imgs: [] }))));\n      }\n\n      // 清空输入状态\n      this.newPostText = '';\n      this.newPostPlace = '';\n      this.draftImgs = [];\n\n      // 手动清空 contenteditable\n      if (this.$refs.postInput) {\n        this.$refs.postInput.innerHTML = '';\n      }\n\n      setTimeout(() => {\n        this.isPublishing = false;\n        this.isListLoading = false;\n        this.editingPost = null;\n        // this.scrollTo('post-list');\n      }, 300);\n    },\n\n    handlePostEnter(e) {\n      if (!e.shiftKey) { e.preventDefault(); this.publishPost(); }\n    },\n    deletePost(p) {\n      if (confirm('撤回这条动态？')) {\n        this.posts = this.posts.filter(x => x.id !== p.id);\n        localStorage.setItem('posts', JSON.stringify(this.posts.map(q => ({ ...q, imgs: [] }))));\n      }\n    },\n    /* === 自定义表情 === */\n    toggleStickerPicker() {\n      if (!this.stickerPickerVisible) {      // 正在“打开”面板\n        this.saveCaret();                    // 先记住 Range\n      }\n      this.stickerPage = 0;\n      this.stickerPickerVisible = !this.stickerPickerVisible;\n    },\n\n    // 👉 下一页贴图（只有当前页未满时才生效）\n    nextStickerPage() {\n      if ((this.stickerPage + 1) * this.stickersPerPage < this.stickers.length)\n        this.stickerPage++\n    },\n\n    // 👉 上一页贴图（第一页时无效）\n    prevStickerPage() {\n      if (this.stickerPage > 0) this.stickerPage--\n    },\n\n    // 👉 在 textarea 光标处插入文本（适用于贴图插入、emoji 插入等）\n    insertAtCaret(txt) {\n      const sel = window.getSelection()\n      if (!sel || !sel.rangeCount) return\n      const range = sel.getRangeAt(0)\n      range.deleteContents()\n      range.insertNode(document.createTextNode(txt))\n      // 把光标移到新插入文本后面\n      range.collapse(false)\n      sel.removeAllRanges()\n      sel.addRange(range)\n      // 同步到数据\n      this.newPostText = this.$refs.postInput.innerText\n    },\n\n\n    selectSticker(s) {\n      /* ---------- 1. 让光标回到用户刚才的位置 ---------- */\n      this.restoreCaret()                 // ← 前面 saveCaret() 过\n\n      const sel = window.getSelection()\n      if (!sel || !sel.rangeCount) return\n      const range = sel.getRangeAt(0)\n\n      /* ---------- 2. 插入 <img> 节点 ---------- */\n      const img = document.createElement('img')\n      img.src = s.url\n      img.className = 'inline-sticker'\n      img.contentEditable = false        // 不可被直接编辑\n      range.deleteContents()              // 把可能的选中内容清掉\n      range.insertNode(img)\n\n      /* ---------- 3. 在 <img> 后补一个空格，再把光标放到空格后 ---------- */\n      const space = document.createTextNode(' ')\n      range.setStartAfter(img)\n      range.insertNode(space)\n\n      const newRange = document.createRange()\n      newRange.setStart(space, 1)\n      newRange.collapse(true)\n      sel.removeAllRanges()\n      sel.addRange(newRange)\n      this.savedRange = newRange.cloneRange()   // 更新缓存，方便继续插\n\n      /* ---------- 4. 用现成的 handleInput 把 DOM → markdown ---------- */\n      this.handleInput({ target: this.$refs.postInput })\n\n      /* ---------- 5. 关面板 ---------- */\n      this.stickerPickerVisible = false\n    },\n\n\n    renderText(raw) {\n      // 把换行变 <br>，把 markdown 图片变 <img>\n      return raw\n        .replace(/!\\[\\]\\((.+?)\\)/g, (_, u) => `<img class=\"inline-sticker\" src=\"${u}\">`)\n        .replace(/\\n/g, '<br>')\n    },\n\n    handleKeydown(event) {\n      if (event.key !== 'Backspace') return;\n      const sel = window.getSelection();\n      if (!sel || !sel.rangeCount) return;\n\n      const range = sel.getRangeAt(0);\n      if (!range.collapsed) return;\n\n      let nodeBefore;\n      const { startContainer, startOffset } = range;\n\n      // 如果光标在文本节点开头，检查前一个兄弟节点\n      if (startContainer.nodeType === Node.TEXT_NODE && startOffset === 0) {\n        nodeBefore = startContainer.previousSibling;\n      }\n      // 如果光标在元素节点中，检查 startOffset 前的子节点\n      else if (startContainer.nodeType === Node.ELEMENT_NODE && startOffset > 0) {\n        nodeBefore = startContainer.childNodes[startOffset - 1];\n      }\n\n      // 检查是否是贴图 IMG，并执行删除\n      if (\n        nodeBefore &&\n        nodeBefore.nodeType === Node.ELEMENT_NODE &&\n        nodeBefore.tagName === 'IMG' &&\n        nodeBefore.classList.contains('inline-sticker')\n      ) {\n        event.preventDefault();\n        nodeBefore.remove(); // 删除该 IMG\n\n        // 将光标设置到原位置\n        const newRange = document.createRange();\n        newRange.setStart(startContainer, Math.max(0, startOffset - 1));\n        newRange.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(newRange);\n\n        // 触发输入处理，更新 markdown 内容\n        this.handleInput({ target: this.$refs.postInput });\n      }\n    },\n\n    // Modal: 确认修改图片地点\n    openPlaceModal(type, target) {\n      this.placeModalType = type;\n      this.placeModalTarget = target;\n      this.showPlaceModal = true;\n      if (type === 'image') {\n        this.editingImgIdx = this.modalIndex;\n        this.placeModalValue = target.imgPlaces[this.modalIndex] ?? target.place ?? '';\n      } else {\n        this.placeModalValue = target.place ?? '';\n      }\n    },\n    // 取消\n    closePlaceModal() {\n      this.showPlaceModal = false;\n      this.placeModalTarget = null;\n    },\n    // 确认，保存到 localStorage\n    confirmPlaceEdit() {\n      const val = this.placeModalValue;\n      if (this.placeModalType === 'image') {               // ⑨ 单张\n        this.placeModalTarget.imgPlaces[this.editingImgIdx] = val || null;\n      } else {                                             // 动态\n        const old = this.placeModalTarget.place;\n        this.placeModalTarget.place = val || '';\n        // 把仍在“继承”旧地点的图片同步到新地点（继承 = imgPlace 为 null）\n        this.placeModalTarget.imgPlaces = this.placeModalTarget.imgPlaces.map(p =>\n          p === null ? null : p\n        );\n      }\n\n      // 持久化\n      // 只调用一次 setItem，把整个 this.posts 序列化\n      localStorage.setItem('posts', JSON.stringify(this.posts));\n      this.updateModalMeta();        // 如果正在看 Modal，立即刷新\n      this.closePlaceModal();\n    },\n\n\n    isRead(id) { return this.readIds.has(id); },\n\n    /* ========== 图片 Modal ========== */\n    openModal(post, startIndex = 0) {               // ③ 只传 post 和索引\n      // —— 保底：确保这一条动态带 imgPlaces —— \n      if (!Array.isArray(post.imgPlaces) || post.imgPlaces.length !== post.imgs.length) {\n        post.imgPlaces = post.imgs.map(() => null);\n      }\n\n      this.modalPost = post;\n      this.modalImgs = post.imgs;\n      this.modalIndex = startIndex;\n      this.modalZoom = 1;\n      this.showModal = true;\n      this.showInfoSidebar = false;\n      this.showImageOptions = false;\n\n      this.updateModalMeta();                        // 初始页脚文字\n    },\n    // ④ 把页脚文字封装成单独函数\n    updateModalMeta() {\n      if (!this.modalPost) {\n        return;\n      }\n      const p = this.modalPost;\n      const place = p.imgPlaces?.[this.modalIndex] ?? p.place ?? '';\n      const d = new Date(p.ts);\n      const date = d.toLocaleDateString();\n      const time = d.toLocaleTimeString();\n      this.modalMeta = place ? `${date} ${time} · ${place}` : `${date} ${time}`;\n    },\n\n    prevModalImg() {\n      if (this.modalIndex > 0) {\n        this.modalIndex--;\n        this.updateModalMeta();\n      }\n    },\n    nextModalImg() {\n      if (this.modalIndex < this.modalImgs.length - 1) {\n        this.modalIndex++;\n        this.updateModalMeta();\n      }\n    },\n    closeModal() { this.showModal = false; },\n    // Modal 里：编辑当前 post 的地点\n    editImagePlace() {\n      const newPlace = prompt('请输入新的地点', this.modalPost.place);\n      if (newPlace != null) {\n        this.modalPost.place = newPlace;\n        // 同步回 localStorage\n        localStorage.setItem('posts', JSON.stringify(this.posts));\n        this.modalMeta = `${new Date(this.modalPost.ts).toISOString().slice(0, 10)} · ${newPlace}`;\n      }\n      this.showImageOptions = false;\n    },\n\n    toggleInfoSidebar() {\n      this.showInfoSidebar = !this.showInfoSidebar;\n    },\n\n    // 在 <img> load 时记录尺寸\n    handleImgLoad(e) {\n      const { naturalWidth: w, naturalHeight: h } = e.target;\n      this.infoSize = `${w} × ${h}`;\n    },\n\n    closeInfoSidebar() {\n      this.showInfoSidebar = false;\n    },\n    /* ========= = 图片缩放 ========== */\n    onWheelZoom(e) {\n      const delta = e.deltaY > 0 ? -0.1 : 0.1;         // 上滚放大、下滚缩小\n      this.modalZoom = this.clampZoom(this.modalZoom + delta);\n    },\n\n    clampZoom(v) {                                      // 辅助函数：限制范围\n      return Math.min(this.maxZoom, Math.max(this.minZoom, parseFloat(v.toFixed(2))));\n    },\n\n\n    // Modal 里：删除当前图片\n    deleteImage() {\n      if (!confirm('确定要删除这张图片吗？')) {\n        return; // 用户点击“取消”就直接退出\n      }\n      this.modalPost.imgs.splice(this.modalIndex, 1);\n      this.modalPost.imgPlaces.splice(this.modalIndex, 1);   // ⑩ 同步\n      this.modalImgs.splice(this.modalIndex, 1);\n      // 更新 storage\n      localStorage.setItem('posts', JSON.stringify(this.posts));\n      if (this.modalIndex >= this.modalImgs.length) this.modalIndex = this.modalImgs.length - 1;\n      this.showImageOptions = false;\n      if (this.modalImgs.length === 0) {\n        this.showModal = false;\n      }\n\n    },\n\n    // 动态列表里：编辑 post.place\n    editPostPlace(post) {\n      const newPlace = prompt('请输入新的地点', post.place);\n      if (newPlace != null) {\n        post.place = newPlace;\n        localStorage.setItem('posts', JSON.stringify(this.posts));\n      }\n      this.postOptionsPost = null;\n    },\n    // 点击“加载更多”\n    updateLoadBehavior() {\n      window.removeEventListener('scroll', this.onScrollLoad);\n      if (this.loadMode === 'auto') {\n        window.addEventListener('scroll', this.onScrollLoad);\n      }\n    },\n    onScrollLoad() {\n      const scrollBottom = window.innerHeight + window.scrollY;\n      const listBottom = document.getElementById('moments-list').offsetHeight;\n      // 如果滚动到接近底部，就加载更多\n      if (scrollBottom >= listBottom - 200) {\n        this.loadMore();\n      }\n    },\n    loadMore() {\n      this.loadedCount += this.loadStep;\n    },\n\n\n    /* ========== 评论 ========== */\n    sendComment(p) {\n      const t = this.newComment[p.id];\n      if (t && t.trim()) { p.cmts.push({ who: this.currentUser, txt: t.trim() }); this.newComment[p.id] = ''; }\n    },\n    deleteComment(p, i) { if (confirm('确定撤回该评论吗？')) p.cmts.splice(i, 1); },\n    editComment(p, i) {\n      const old = p.cmts[i].txt, neo = prompt('编辑评论：', old);\n      if (neo !== null && neo.trim() && neo !== old) p.cmts[i].txt = neo.trim();\n    },\n    handleCommentEnter(e, post) {\n      if (e.shiftKey) return;\n      this.sendComment(post);\n    },\n\n    /* ========== 背景 ========== */\n    changeBackground(e) {\n      const f = e.target.files[0]; if (!f) return;\n      const r = new FileReader();\n      r.onload = ev => { this.bgSrc = ev.target.result; localStorage.setItem('bgSrc', this.bgSrc); };\n      r.readAsDataURL(f);\n    },\n\n    clearBackground() {\n      this.bgSrc = '';\n      localStorage.removeItem('bgSrc');\n    },\n    saveBgOpacity() { localStorage.setItem('bgOpacity', this.bgOpacity); },\n    saveBgBlur() { localStorage.setItem('bgBlur', this.bgBlur); },\n\n    /* ========== 个人资料 / 勋章 ========== */\n    changeAvatar(e) {\n      const f = e.target.files[0]\n      if (!f) return\n      const r = new FileReader()\n      r.onload = ev => {\n        const url = ev.target.result\n        // —— 更新响应式 avatarMap，让所有用到它的地方都自动刷新 —— \n        this.avatarMap[this.currentUser] = url\n        // —— 同步到 localStorage，保证刷新或下次登录还能继续用 —— \n        localStorage.setItem('avatar-' + this.currentUser, url)\n      }\n      r.readAsDataURL(f)\n    },\n\n\n    updateDisplayName() { localStorage.setItem('displayName_' + this.currentUser, this.localDisplayName); },\n    openBadgeModal() { this.showBadgeModal = true; },\n    closeBadgeModal() { this.showBadgeModal = false; },\n    confirmBadge() {\n      // 直接赋值，触发响应式\n      this.userBadges[this.currentUser] = this.selectedBadge;\n      localStorage.setItem('userBadges', JSON.stringify(this.userBadges));\n      alert('勋章已更换');\n      this.closeBadgeModal();\n    },\n\n\n    /* ========== 密码修改 ========== */\n    openPasswordModal() { this.showPasswordModal = true; this.oldPassword = this.newPassword = this.confirmPassword = ''; },\n    closePasswordModal() { this.showPasswordModal = false; },\n    async changePassword() {\n      const key = `password_${this.currentUser}`;\n      const saltKey = `salt_${this.currentUser}`;\n      const oldPwd = this.oldPassword;\n      const newPwd = this.newPassword;\n      const confirm = this.confirmPassword;\n\n      const storedHash = localStorage.getItem(key);\n      const salt = localStorage.getItem(saltKey);\n      if (!storedHash || !salt) {\n        return alert('请先登录并设置密码');\n      }\n\n      const sha256Hex = async (str) => {\n        const buf = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(str));\n        return Array.from(new Uint8Array(buf))\n          .map(b => b.toString(16).padStart(2, '0')).join('');\n      };\n\n      const saltedHash = async (pwd) => {\n        const h1 = await sha256Hex(pwd + salt);\n        return sha256Hex(h1 + salt);\n      };\n\n      const oldHash = await saltedHash(oldPwd);\n      if (oldHash !== storedHash) {\n        return alert('旧密码不正确！');\n      }\n\n      if (newPwd !== confirm) {\n        return alert('两次输入的新密码不一致！');\n      }\n      if (newPwd.length < 4) {\n        return alert('新密码长度至少 4 位！');\n      }\n\n      const newHash = await saltedHash(newPwd);\n      localStorage.setItem(key, newHash);\n      alert('密码修改成功！');\n      this.closePasswordModal();\n    },\n\n    /* ========== Admin 密码设置 ========== */\n    openAdminPwdModal(uid) {\n      this.adminTargetUid = uid;\n      this.adminNewPassword = '';\n      this.adminPwdModalVisible = true;\n    },\n    closeAdminPwdModal() {\n      this.adminPwdModalVisible = false;\n    },\n    addAllowedUid(uid) {\n      const u = (uid || '').trim();\n      if (!u) return alert('请输入 UID');\n      const list = Array.from(new Set([...this.allowedUids, u])); // ← 用当前响应式数据\n      setAllowedUids(list);              // 写入 localStorage\n      this.allowedUids = list;           // 更新本地响应式变量（自动刷新模板）\n      this.newAdminUid = '';             // 清空输入框\n      alert(`已添加 UID：${u}`);\n    },\n\n    removeAllowedUid(uid) {\n      if (!confirm(`确认移除 ${uid}？`)) return;\n      const list = this.allowedUids.filter(u => u !== uid); // ← 用当前响应式数据\n      setAllowedUids(list);              // 写入 localStorage\n      this.allowedUids = list;           // 更新本地响应式变量\n      alert(`已移除 ${uid}`);\n    },\n\n    resetPassword(uid) {\n      if (!confirm(`将清除 ${uid} 的本地密码，下次登录需重设？`)) return;\n      localStorage.removeItem(`password_${uid}`);\n      localStorage.removeItem(`salt_${uid}`);\n      alert(`已清除 ${uid} 的本地密码`);\n    },\n\n\n    async confirmAdminSetPassword() {\n      if (this.adminNewPassword.length < 4) {\n        return alert('新密码长度至少 4 位');\n      }\n      // 假设你已有 getOrCreateSalt(uid) 和 saltedHash(pwd, salt) 工具\n      const salt = getOrCreateSalt(this.adminTargetUid);\n      const hash = await saltedHash(this.adminNewPassword, salt);\n      localStorage.setItem(`password_${this.adminTargetUid}`, hash);\n      alert('管理员密码已设置');\n      this.closeAdminPwdModal();\n    },\n\n\n    /* ========== 桌宠拖拽 ========== */\n    dragPet(e) {\n      const pet = this.$refs.pet;\n      const ox = e.offsetX, oy = e.offsetY;\n      document.onmousemove = ev => { pet.style.left = (ev.pageX - ox) + 'px'; pet.style.top = (ev.pageY - oy) + 'px'; };\n      document.onmouseup = () => document.onmousemove = null;\n    },\n\n    /* ========== 主题 ========== */\n    toggleTheme() {\n      this.theme = this.theme === 'light' ? 'dark' : 'light';\n      document.body.classList.toggle('dark', this.theme === 'dark');\n      localStorage.setItem('theme', this.theme);\n    }\n  },\n\n  mounted() {\n    this.updateLoadBehavior();\n    const ctx = require.context(\n      '@/assets/stickers/原神表情', // 表情图的根目录\n      true,                        // 递归子目录\n      /\\.png$/                     // 匹配所有 .png 文件\n    );\n    this.stickers = ctx.keys().map((key, idx) => ({\n      id: 'sticker-' + idx,\n      url: ctx(key)                // ctx(key) 返回图片的 URL\n    }));\n\n\n    // ✅ 统一绑定全局点击事件（只注册一次）\n    document.addEventListener('click', this.handleGlobalClick);\n\n    // 同步主题\n    document.body.classList.toggle('dark', this.theme === 'dark');\n\n    // 确保所有 post 都初始化好 imgPlaces\n    this.posts.forEach(p => {\n      if (!Array.isArray(p.imgPlaces) || p.imgPlaces.length !== p.imgs.length) {\n        p.imgPlaces = p.imgs.map(() => null);\n      }\n    });\n\n\n  },\n  beforeUnmount() {\n    document.removeEventListener('click', this.handleGlobalClick);\n    window.removeEventListener('scroll', this.onScrollLoad);\n  },\n\n};\n</script>\n<style>\n/* ========================================================================== */\n/* 1. CSS 变量定义                                                              */\n/* ========================================================================== */\n:root {\n  --bg-light: #f5f5f5;\n  --bg-dark: #0f0f11;\n  --card-light: rgba(255, 255, 255, .75);\n  --card-dark: rgba(30, 30, 31, .55);\n  --text-light: #333;\n  --text-dark: #d2d2d2;\n  --primary: #4a90e2;\n  --accent: #e91e63;\n  --radius: 14px;\n  --blur: 16px;\n  --glass-border: 1px solid rgba(0, 0, 0, 0.1);\n  --login-bg: #f5f5f5;\n  --login-text: #333;\n  --login-border: rgba(0, 0, 0, .1);\n  --bg-opacity: .35;\n  --bg-blur: 4px;\n  --card-hover-light: rgba(255, 255, 255, 0.9);\n}\n\nbody.dark {\n  background: var(--bg-dark);\n  color: var(--text-dark);\n  --login-bg: #1c1c1c;\n  --login-text: #d2d2d2;\n  --login-border: rgba(255, 255, 255, 0.1);\n  --card-hover-dark: rgba(60, 60, 61, 0.55);\n}\n\n/* ========================================================================== */\n/* 2. 全局重置与基础样式                                                        */\n/* ========================================================================== */\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  font-family: Inter, \"PingFang SC\", sans-serif;\n  transition: .3s background-color, .3s color;\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n  cursor: pointer;\n}\n\n.hidden {\n  display: none;\n}\n\n/* ========================================================================== */\n/* 3. 背景层                                                                     */\n/* ========================================================================== */\n#bgLayer {\n  position: fixed;\n  inset: 0;\n  z-index: -1;\n  pointer-events: none;\n  background: center/cover no-repeat;\n  opacity: var(--bg-opacity);\n  filter: blur(var(--bg-blur));\n  transition: .3s opacity, .3s filter;\n}\n\n/* ========================================================================== */\n/* 4. 导航栏                                                                     */\n/* ========================================================================== */\nnav {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: rgba(255, 255, 255, 0.18);\n  backdrop-filter: blur(20px);\n  border-bottom: var(--glass-border);\n  padding: 14px 24px;\n}\n\nbody.dark nav {\n  background: rgba(0, 0, 0, 0.22);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n/* ========================================================================== */\n/* 5. Logo & 菜单                                                               */\n/* ========================================================================== */\n.logo {\n  font-weight: 700;\n  font-size: 20px;\n}\n\n.menu {\n  display: flex;\n  gap: 18px;\n  align-items: center;\n}\n\n.menu a {\n  padding: 6px 12px;\n  border-radius: var(--radius);\n  transition: .25s background;\n}\n\n.menu a:hover {\n  background: rgba(0, 0, 0, 0.08);\n}\n\nbody.dark .menu a:hover {\n  background: rgba(255, 255, 255, 0.12);\n}\n\n.red {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: var(--accent);\n  margin-left: 4px;\n}\n\n/* ========================================================================== */\n/* 6. 玻璃背景·原生下拉（Select）                                                */\n/* ========================================================================== */\n.np-toolbar select,\n.setting-item select {\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  background: #333;\n  color: #fff;\n  border: none;\n  border-radius: var(--radius);\n  padding: 6px 12px;\n  font-size: 14px;\n  cursor: pointer;\n  background-image: none !important;\n}\n\nbody.dark .np-toolbar select,\nbody.dark .setting-item select {\n  background: #333;\n  color: #fff;\n}\n\n/* 聚焦态 */\n.np-toolbar select:focus,\n.setting-item select:focus {\n  outline: none;\n  border: 1px solid #000;\n}\n\n.np-toolbar select:focus,\n.setting-item select:focus {\n  outline: none;\n  border-color: var(--primary);\n  box-shadow: 0 0 0 2px var(--primary-alpha, rgba(74, 144, 226, 0.2));\n}\n\n/* Option 外观 */\n.np-toolbar select option,\n.setting-item select option {\n  background: inherit;\n  color: inherit;\n  padding: 0.5em 1em;\n  line-height: 1.6;\n}\n\n.np-toolbar select option:hover,\n.setting-item select option:hover {\n  background: rgba(74, 144, 226, 0.1);\n}\n\nbody.dark .np-toolbar select option,\nbody.dark .setting-item select option {\n  background: #2a2a2a;\n  color: #e0e0e0;\n}\n\nbody.dark .np-toolbar select option:hover,\nbody.dark .setting-item select option:hover {\n  background: #3a3a3a;\n}\n\n/* ========================================================================== */\n/* 7. 按钮（Buttons）                                                          */\n/* ========================================================================== */\n.btn-ghost,\n.btn-publish {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 20px;\n  font-size: 14px;\n  border-radius: var(--radius);\n  cursor: pointer;\n  transition: .25s background, .2s transform;\n}\n\n.btn-ghost {\n  background: var(--card-light);\n  border: var(--glass-border);\n  backdrop-filter: blur(calc(var(--blur)/2));\n}\n\nbody.dark .btn-ghost {\n  background: rgba(255, 255, 255, 0.08);\n  border-color: rgba(255, 255, 255, 0.15);\n}\n\n.btn-ghost:hover {\n  background: rgba(0, 0, 0, 0.08);\n}\n\nbody.dark .btn-ghost:hover {\n  background: rgba(255, 255, 255, 0.15);\n}\n\n.btn-publish {\n  background: #333;\n  color: #fff;\n  border: none;\n}\n\n.btn-publish:hover {\n  transform: scale(1.03);\n  background: #2a2a2a;\n}\n\nbody.dark .btn-publish {\n  background: #444;\n}\n\nbody.dark .btn-publish:hover {\n  background: #3a3a3a;\n}\n\n/* 投稿按钮横排样式 */\n.menu .nav-item.nav-item-submit {\n  flex-direction: row;\n  align-items: center;\n  gap: 4px;\n  padding: 6px 12px;\n  min-width: 64px;\n}\n\n/* ========================================================================== */\n/* 8. 统一卡片（Cards）                                                        */\n/* ========================================================================== */\n.card {\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  border-radius: var(--radius);\n  border: var(--glass-border);\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);\n  padding: 18px;\n}\n\nbody.dark .card {\n  background: var(--card-dark);\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.45);\n}\n\n/* ========================================================================== */\n/* 9. 标题与排版                                                                */\n/* ========================================================================== */\nh2.big {\n  margin: 70px 0 22px;\n  font-size: 26px;\n}\n\n/* ========================================================================== */\n/* 10. 投稿区 (#moments)                                                        */\n/* ========================================================================== */\n#moments {\n  padding: 40px 8%;\n}\n\n.np-top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.np-toolbar {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  align-items: center;\n}\n\n.np-top textarea {\n  resize: none;\n  height: 78px;\n  border-radius: var(--radius);\n  border: var(--glass-border);\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  padding: 10px;\n  font-size: 14px;\n  width: 100%;\n}\n\nbody.dark .np-top textarea {\n  background: var(--card-dark);\n  color: var(--text-dark);\n}\n\n.char-count {\n  font-size: 12px;\n  color: #888;\n}\n\n/* 预览区 */\n.np-preview {\n  display: flex;\n  gap: 8px;\n  overflow-x: auto;\n  margin-top: 8px;\n}\n\n.np-preview img {\n  width: 70px;\n  height: 50px;\n  border-radius: 8px;\n  object-fit: cover;\n}\n\n.np-preview .remove {\n  position: absolute;\n  top: -6px;\n  right: -6px;\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: rgba(0, 0, 0, 0.6);\n  color: #fff;\n  font-size: 14px;\n  line-height: 18px;\n  text-align: center;\n  cursor: pointer;\n  transition: background .2s;\n}\n\n.np-preview .remove:hover {\n  background: rgba(0, 0, 0, 0.85);\n}\n\n.np-preview .thumb {\n  position: relative;\n}\n\n/* ========================================================================== */\n/* 11. 动态列表 (#moments-list & posts)                                         */\n/* ========================================================================== */\n#moments-list {\n  display: flex;\n  flex-direction: column;\n  gap: 26px;\n}\n\n.post .photos {\n  display: flex;\n  gap: 8px;\n  margin-top: 8px;\n  overflow-x: auto;\n}\n\n.post .photos img {\n  width: 96px;\n  height: 68px;\n  border-radius: 8px;\n  object-fit: cover;\n}\n\n.post .body p {\n  margin: 0 0 6px;\n  white-space: pre-wrap;\n  line-height: 1.5;\n}\n\n.post small {\n  display: block;\n  margin-top: 4px;\n  font-size: 12px;\n  color: #888;\n}\n\n.actions {\n  display: flex;\n  gap: 8px;\n  font-size: 13px;\n  margin-top: 8px;\n  align-items: center;\n  color: var(--primary);\n}\n\n.actions svg {\n  width: 18px;\n  height: 18px;\n  fill: currentColor;\n}\n\n/* 更多按钮 */\n.more {\n  cursor: pointer;\n  font-size: 18px;\n  padding: 2px 6px;\n  border-radius: 50%;\n  transition: .2s background;\n}\n\n.more:hover {\n  background: rgba(0, 0, 0, 0.08);\n}\n\n/* 弹窗选项 */\n.post .head {\n  position: relative;\n}\n\n.post .more {\n  position: relative;\n  z-index: 101;\n}\n\n.post-options {\n  position: absolute;\n  top: calc(100% + 4px);\n  left: 0;\n  background: var(--card-light);\n  padding: 4px;\n  border-radius: 6px;\n  backdrop-filter: blur(calc(var(--blur)/2));\n  display: flex;\n  flex-direction: column;\n  z-index: 100;\n  min-width: max-content;\n}\n\n.more-wrapper {\n  position: relative;\n  display: inline-block;\n}\n\nbody.dark .post-options {\n  background: var(--card-dark);\n}\n\n.post-options button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  text-align: left;\n  padding: 4px 8px;\n}\n\n/* 编辑地点按钮 */\n.post-options .edit-place-btn {\n  background: rgba(120, 120, 120, 0.15);\n  border: 1px solid rgba(200, 200, 200, 0.4);\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  backdrop-filter: blur(4px);\n  box-shadow: 0 0 6px rgba(120, 120, 120, 0.6);\n  cursor: pointer;\n  transition: transform .1s, box-shadow .2s, background .2s;\n}\n\n.post-options .edit-place-btn:hover {\n  background: rgba(120, 120, 120, 0.25);\n  transform: scale(1.1);\n  box-shadow: 0 0 12px rgba(120, 120, 120, 0.8);\n}\n\n.post-options .edit-place-btn svg {\n  width: 16px;\n  height: 16px;\n  stroke: currentColor;\n}\n\n/* 卡片宽度 */\n#moments-list .post.card {\n  width: 100%;\n  max-width: 680px;\n  margin: 0 auto;\n  padding: 24px;\n}\n\n/* ========================================================================== */\n/* 12. 评论区                                                                  */\n/* ========================================================================== */\n.comments {\n  margin-top: 8px;\n  padding-top: 4px;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n.comment {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 4px 0;\n  padding: 6px 8px;\n  border-radius: 6px;\n  background: rgba(0, 0, 0, 0.03);\n  font-size: 13px;\n}\n\nbody.dark .comment {\n  background: rgba(255, 255, 255, 0.05);\n}\n\n.comment-edit,\n.comment-delete {\n  cursor: pointer;\n  padding: 2px 6px;\n  border-radius: 4px;\n  transition: background .2s;\n}\n\n.comment-edit:hover,\n.comment-delete:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n\n/* 输入框 */\n.c-input {\n  display: flex;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.c-input input {\n  flex: 1;\n  padding: 6px 10px;\n  border-radius: var(--radius);\n  border: var(--glass-border);\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  font-size: 14px;\n  transition: box-shadow .2s;\n}\n\nbody.dark .c-input input {\n  background: var(--card-dark);\n  color: var(--text-dark);\n}\n\n.c-input input:focus {\n  outline: none;\n  box-shadow: none;\n  border: 1px solid #000;\n}\n\n/* ========================================================================== */\n/* 13. 相册 (#album)                                                           */\n/* ========================================================================== */\n#album {\n  padding: 40px 8%;\n}\n\n.album-tabs {\n  display: flex;\n  gap: 16px;\n  margin-bottom: 18px;\n}\n\n.album-tabs button {\n  background: none;\n  border: none;\n  font-weight: 600;\n  cursor: pointer;\n  font-size: 15px;\n  padding: 6px 10px;\n  border-radius: var(--radius);\n  transition: .25s background;\n}\n\n.album-tabs .on {\n  background: rgba(0, 0, 0, 0.08);\n}\n\nbody.dark .album-tabs button:hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  gap: 18px;\n}\n\n.photo {\n  border-radius: var(--radius);\n  overflow: hidden;\n  position: relative;\n  cursor: pointer;\n}\n\n.photo img {\n  width: 100%;\n  height: 120px;\n  object-fit: cover;\n  transition: .3s transform;\n}\n\n.photo:hover img {\n  transform: scale(1.05);\n}\n\n.photo span {\n  position: absolute;\n  bottom: 6px;\n  left: 6px;\n  background: rgba(0, 0, 0, 0.45);\n  color: #fff;\n  font-size: 12px;\n  padding: 2px 6px;\n  border-radius: var(--radius);\n}\n\n/* ========================================================================== */\n/* 14. 表单 & 设置项                                                          */\n/* ========================================================================== */\nfieldset {\n  border: none;\n  padding: 0;\n  margin: 0 0 24px;\n}\n\nlegend {\n  font-weight: 600;\n  font-size: 15px;\n  margin-bottom: 8px;\n}\n\n.setting-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 12px 0;\n}\n\n.setting-item + .setting-item {\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  padding-top: 12px;\n}\n\nbody.dark .setting-item + .setting-item {\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.setting-item input[type=\"text\"] {\n  width: 60%;\n  padding: 6px;\n  border-radius: var(--radius);\n  border: var(--glass-border);\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2));\n}\n\nbody.dark .setting-item input[type=\"text\"] {\n  background: var(--card-dark);\n  color: var(--text-dark);\n}\n\n.setting-item input[type=\"text\"]:focus,\n.np-top textarea:focus {\n  outline: none;\n  box-shadow: none;\n  border: 1px solid #000;\n}\n\n/* ========================================================================== */\n/* 15. 徽章（Badges）                                                          */\n/* ========================================================================== */\n.badge {\n  font-size: 10px;\n  padding: 2px 4px;\n  border-radius: 4px;\n  margin-left: 4px;\n  display: inline-block;\n  min-width: 40px;\n  text-align: center;\n  color: #fff;\n}\n\n.badge.best {\n  background: linear-gradient(270deg, #4a90e2, #e91e63, #4a90e2);\n  background-size: 400% 400%;\n  animation: gradient 10s ease infinite;\n}\n\n.badge.catgirl {\n  background: linear-gradient(135deg, #ff87c3, #ffb6c1);\n}\n\n.badge.badge-none {\n  background: none;\n  border: 1px dashed #aaa;\n  color: #aaa;\n}\n\n@keyframes gradient {\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n}\n\n/* ========================================================================== */\n/* 16. Modal 通用                                                              */\n/* ========================================================================== */\n.modal {\n  z-index: 9999;\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.55);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s ease;\n}\n\n.modal.show {\n  opacity: 1;\n  visibility: visible;\n}\n\n/* 固定 Modal 大小：替换原有 .box 定义 */\n.box {\n  background: var(--card-light);\n  backdrop-filter: blur(var(--blur));\n  border: var(--glass-border);\n  border-radius: var(--radius);\n  width: 600px;\n  max-width: 90vw;\n  max-height: 80vh;\n  overflow: auto;\n  padding: 20px;\n  position: relative;\n}\n\nbody.dark .box {\n  background: var(--card-dark);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.close {\n  position: absolute;\n  top: 10px;\n  right: 16px;\n  font-size: 24px;\n  cursor: pointer;\n}\n\n/* Slider Modal 箭头按钮 */\n.slider-btn {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background: rgba(0, 0, 0, 0.3);\n  border: none;\n  color: #fff;\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\nbody.dark .slider-btn {\n  background: rgba(255, 255, 255, 0.3);\n  color: #333;\n}\n\n.slider-btn.left {\n  left: 10px;\n}\n\n.slider-btn.right {\n  right: 10px;\n}\n\n/* 固定页码到底部中央 */\n.slider-modal .modal-meta {\n  position: absolute;\n  bottom: 16px;\n  left: 50%;\n  transform: translateX(-50%);\n  margin-top: 0;\n  font-size: 13px;\n  padding: 4px 8px;\n  border-radius: 4px;\n  background: rgba(0, 0, 0, 0.3);\n  color: #fff !important;\n  z-index: 10;\n}\n\nbody.dark .slider-modal .modal-meta {\n  color: #ddd !important;\n}\n\n/* 更多 & 信息 按钮 */\n.modal-more {\n  position: absolute;\n  top: 10px;\n  right: 50px;\n  cursor: pointer;\n}\n\n.info-btn {\n  position: absolute;\n  top: 10px;\n  right: 82px;\n  cursor: pointer;\n  font-size: 18px;\n  padding: 2px 6px;\n  border-radius: 50%;\n  transition: .2s background;\n  color: var(--text-light);\n}\n\nbody.dark .info-btn {\n  color: var(--text-dark);\n}\n\n.info-btn:hover {\n  background: rgba(0, 0, 0, 0.08);\n}\n\nbody.dark .info-btn:hover {\n  background: rgba(255, 255, 255, 0.12);\n}\n\n.info-btn svg {\n  width: 20px;\n  height: 20px;\n  display: block;\n  margin-top: 4px;\n}\n\n/* Modal 内下拉聚焦 & Option */\n.modal.show .np-toolbar select:focus {\n  outline: none !important;\n  border: var(--glass-border) !important;\n  box-shadow: none !important;\n}\n\n.modal.show .np-toolbar select option {\n  background: var(--card-light) !important;\n  color: var(--text-light) !important;\n}\n\nbody.dark .modal.show .np-toolbar select option {\n  background: var(--card-dark) !important;\n  color: var(--text-dark) !important;\n}\n\n/* 删除按钮 */\n.modal-delete-btn {\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(120, 120, 120, 0.15);\n  border: 1px solid rgba(200, 200, 200, 0.4);\n  color: #e0e0e0;\n  border-radius: 50%;\n  backdrop-filter: blur(4px);\n  box-shadow: 0 0 6px rgba(120, 120, 120, 0.6);\n  transition: transform .1s, box-shadow .2s, background .2s;\n  cursor: pointer;\n}\n\n.modal-delete-btn:hover {\n  background: rgba(120, 120, 120, 0.25);\n  transform: scale(1.1);\n  box-shadow: 0 0 12px rgba(120, 120, 120, 0.8);\n}\n\n.modal-delete-btn svg {\n  width: 20px;\n  height: 20px;\n  stroke: currentColor;\n  fill: none;\n}\n\n/* ========================================================================== */\n/* 17. 桌宠（Pet）                                                             */\n/* ========================================================================== */\n#pet svg {\n  width: 100%;\n  animation: breathe 3s ease-in-out infinite;\n}\n\n@keyframes breathe {\n  0%, 100% {\n    transform: translateY(0);\n  }\n  50% {\n    transform: translateY(-4px);\n  }\n}\n\n/* ========================================================================== */\n/* 18. 过渡 & 动画                                                             */\n/* ========================================================================== */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity .3s ease;\n}\n\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.post-fade-enter-active {\n  transition: all .3s ease;\n}\n\n.post-fade-leave-active {\n  transition: all .2s ease;\n}\n\n.post-fade-enter {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n\n/* 下拉过渡 */\n.dropdown-fade-enter-active,\n.dropdown-fade-leave-active {\n  transition: all 0.25s ease;\n}\n\n.dropdown-fade-enter-from,\n.dropdown-fade-leave-to {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n\n/* SlideFade */\n.slide-fade-enter-active,\n.slide-fade-leave-active {\n  transition: max-height 0.3s ease, opacity 0.3s ease, transform 0.3s ease;\n}\n\n.slide-fade-enter-from,\n.slide-fade-leave-to {\n  max-height: 0;\n  opacity: 0;\n  transform: translateY(-5px);\n}\n\n.slide-fade-enter-to,\n.slide-fade-leave-from {\n  max-height: 400px;\n  opacity: 1;\n  transform: translateY(0);\n}\n\n/* ========================================================================== */\n/* 19. 特殊布局 & 侧边栏                                                         */\n/* ========================================================================== */\n/* Settings 弹窗下去掉滚动条，三列等宽 */\n.settings-modal .box {\n  max-height: none !important;\n  height: auto !important;\n  overflow: visible !important;\n  width: min(80vw, 1200px);\n}\n\n/* Info 侧边栏 */\n.info-sidebar {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  padding: 18px 22px 28px;\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  border-top: var(--glass-border);\n  border-bottom-left-radius: var(--radius);\n  border-bottom-right-radius: var(--radius);\n  font-size: 14px;\n  box-shadow: 0 -4px 18px rgba(0, 0, 0, 0.15);\n}\n\nbody.dark .info-sidebar {\n  background: var(--card-dark);\n}\n\n/* Zoom 控件 */\n.zoom-control {\n  position: absolute;\n  bottom: 18px;\n  right: 62px;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  background: rgba(120, 120, 120, .15);\n  border: 1px solid rgba(200, 200, 200, .4);\n  padding: 4px 8px;\n  border-radius: 20px;\n  backdrop-filter: blur(4px);\n}\n\nbody.dark .zoom-control {\n  background: rgba(255, 255, 255, .08);\n}\n\n.zoom-control input[type=\"range\"] {\n  width: 100px;\n}\n\n.zoom-icon {\n  width: 18px;\n  height: 18px;\n  stroke: currentColor;\n  fill: none;\n}\n\n</style>\n","// src/config/auth.js\n\n// 默认的白名单（第一次打开时会用到）\nconst DEFAULT_ALLOWED_UIDS = [\n  '217122260',  // 你的 UID\n  '246490729',\n  // …可以在这里继续补充默认的 UID\n];\n\n/**\n * 获取当前白名单（优先读 localStorage，没有则返回 DEFAULT_ALLOWED_UIDS）\n * @returns {string[]}\n */\nexport function getAllowedUids() {\n  try {\n    const raw = localStorage.getItem('allowed_uids');\n    const arr = JSON.parse(raw);\n    if (Array.isArray(arr)) return arr;\n  } catch(e) { /* ignore */ }\n  return DEFAULT_ALLOWED_UIDS;\n}\n\n/**\n * 覆盖写入白名单\n * @param {string[]} list\n */\nexport function setAllowedUids(list) {\n  localStorage.setItem('allowed_uids', JSON.stringify(list));\n}\n","<template>\n  <transition name=\"fade\">\n    <div v-if=\"visible\" class=\"modal show\">\n      <div class=\"box login-box\">\n        <h3 class=\"login-title\">登录 Captured Moments</h3>\n        <form\n          ref=\"loginForm\"\n          method=\"post\"\n          action=\"/login\"\n          autocomplete=\"on\"\n          @submit.prevent=\"handleSubmit\"\n        >\n          <div class=\"form-group\">\n            <input\n              v-model=\"uid\"\n              name=\"username\"\n              type=\"text\"\n              placeholder=\"请输入原神 UID\"\n              @input=\"error = ''\"\n              autocomplete=\"username\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              v-model=\"password\"\n              name=\"password\"\n              type=\"password\"\n              :placeholder=\"isFirstLogin\n                ? '首次设置密码（建议至少4位）'\n                : '请输入密码'\"\n              @input=\"error = ''\"\n              :autocomplete=\"isFirstLogin ? 'new-password' : 'current-password'\"\n            />\n          </div>\n          <p v-if=\"error\" class=\"error-msg\">{{ error }}</p>\n          <button\n            type=\"submit\"\n            class=\"btn-publish\"\n            :disabled=\"!canSubmit || loading\"\n          >\n            {{ loading ? '请稍候...' : (isFirstLogin ? '设置并登录' : '登录') }}\n          </button>\n        </form>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script setup>\nimport { getAllowedUids } from '@/config/auth'\nimport { computed, onBeforeUnmount, ref, watch } from 'vue'\n\n// Props & Emits\nconst props = defineProps({ show: Boolean })\nconst emit = defineEmits(['login-success'])\n\n// Refs & state\nconst loginForm = ref(null)\nconst uid = ref('')\nconst password = ref('')\nconst error = ref('')\nconst loading = ref(false)\nconst tick = ref(0)\nlet submitTimeout = null\n\n// Storage keys\nconst credKey = computed(() => `cred_${uid.value.trim()}`)\nconst failKey = computed(() => `fail_${uid.value.trim()}`)\nconst MAX_FAIL = 10\n\n// Reactive read\nconst storedCred = computed(() => {\n  tick.value\n  return JSON.parse(localStorage.getItem(credKey.value) || 'null')\n})\n\n// Flags\nconst isFirstLogin = computed(() => uid.value.trim() !== '' && !storedCred.value)\nconst canSubmit = computed(() => uid.value.trim() !== '' && password.value.trim() !== '')\nconst visible = computed(() => props.show)\n\n// PBKDF2 helper\nasync function pbkdf2Hash(pwd, salt, iter = 100000) {\n  const enc = new TextEncoder()\n  const key = await crypto.subtle.importKey(\n    'raw', enc.encode(pwd), { name: 'PBKDF2' }, false, ['deriveBits']\n  )\n  const bits = await crypto.subtle.deriveBits(\n    { name: 'PBKDF2', salt: enc.encode(salt), iterations: iter, hash: 'SHA-256' },\n    key, 256\n  )\n  return Array.from(new Uint8Array(bits))\n    .map(b => b.toString(16).padStart(2, '0'))\n    .join('')\n}\n\n// constant-time hex compare\nfunction equalTiming(aHex, bHex) {\n  if (aHex.length !== bHex.length) return false\n  let diff = 0\n  for (let i = 0; i < aHex.length; i++) {\n    diff |= aHex.charCodeAt(i) ^ bHex.charCodeAt(i)\n  }\n  return diff === 0\n}\n\n// Generate random salt\nfunction createSalt() {\n  const arr = crypto.getRandomValues(new Uint8Array(8))\n  return Array.from(arr).map(b => b.toString(16).padStart(2, '0')).join('')\n}\n\n// Form submit\nasync function handleSubmit() {\n  loading.value = true\n  try {\n    error.value = ''\n    const id = uid.value.trim()\n\n    if (!getAllowedUids().includes(id)) {\n      error.value = '用户不存在'\n      return\n    }\n\n    // brute-force lock\n    let fails = Number(sessionStorage.getItem(failKey.value) || 0)\n    if (fails >= MAX_FAIL) {\n      error.value = '尝试过多，请稍后再试'\n      return\n    }\n\n    const pwd = password.value\n    const cred = storedCred.value\n\n    // first login\n    if (!cred) {\n      if (pwd.length < 4) {\n        error.value = '密码长度至少4位'\n        return\n      }\n      const salt = createSalt()\n      const hash = await pbkdf2Hash(pwd, salt)\n      localStorage.setItem(credKey.value, JSON.stringify({ hash, salt, iter: 100000 }))\n      tick.value++\n    } else {\n      const { hash, salt, iter = 100000 } = cred\n      const calc = await pbkdf2Hash(pwd, salt, iter)\n      if (!equalTiming(calc, hash)) {\n        sessionStorage.setItem(failKey.value, ++fails)\n        error.value = '密码不正确，请重试'\n        return\n      }\n      sessionStorage.removeItem(failKey.value)\n    }\n\n    // save current user to sessionStorage\n    sessionStorage.setItem('currentUser', id)\n    emit('login-success', id)\n\n    // clear plaintext\n    password.value = ''\n\n    submitTimeout = setTimeout(() => {\n      loginForm.value?.submit?.()\n    }, 100)\n  } catch (err) {\n    console.error('登录异常：', err)\n    error.value = '系统错误，请稍后重试'\n  } finally {\n    loading.value = false\n  }\n}\n\n// Reset state when modal opens\nwatch(visible, v => {\n  if (v) {\n    uid.value = ''\n    password.value = ''\n    error.value = ''\n    loading.value = false\n    tick.value++\n  }\n})\n\n// Clean up\nonBeforeUnmount(() => {\n  if (submitTimeout) clearTimeout(submitTimeout)\n})\n</script>\n\n<style scoped>\n/* 模态遮罩 & 居中 */\n.modal {\n  position: fixed;\n  inset: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 16px;\n  background-color: rgba(0, 0, 0, 0.4);\n  box-sizing: border-box;\n  z-index: 1000;\n}\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s;\n}\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n/* 登录框 */\n.login-box {\n  width: 90%;\n  max-width: 360px;\n  margin: 0 auto;\n  padding: 24px;\n  text-align: center;\n  background: rgba(255, 255, 255, 0.9);\n  backdrop-filter: blur(10px);\n  border-radius: 12px;\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);\n}\n\n/* 标题与表单项 */\n.login-title {\n  margin-bottom: 20px;\n  font-size: 20px;\n  font-weight: 600;\n}\n.form-group {\n  margin-bottom: 16px;\n}\ninput {\n  width: 100%;\n  height: 44px;\n  padding: 0 12px;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  font-size: 14px;\n}\ninput:focus {\n  outline: none;\n  border-color: var(--primary);\n}\n.error-msg {\n  color: #e00;\n  font-size: 13px;\n  margin-bottom: 12px;\n  text-align: left;\n}\n\n/* 按钮 */\n.btn-publish {\n  width: 100%;\n  height: 48px;\n  background: var(--primary);\n  color: #fff;\n  border: none;\n  border-radius: 8px;\n  font-size: 15px;\n  cursor: pointer;\n  transition: transform 0.1s;\n}\n.btn-publish:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n.btn-publish:not(:disabled):hover {\n  transform: translateY(-1px);\n}\n\n/* 大屏（PC）优化 */\n@media (min-width: 768px) {\n  .login-box {\n    max-width: 400px;\n    padding: 32px;\n  }\n  input {\n    height: 48px;\n    font-size: 15px;\n  }\n  .btn-publish {\n    height: 52px;\n    font-size: 16px;\n  }\n}\n\n/* 小屏（移动端）微调 */\n@media (max-width: 480px) {\n  .login-box {\n    padding: 16px;\n  }\n  input {\n    height: 42px;\n    font-size: 13px;\n  }\n  .btn-publish {\n    height: 44px;\n    font-size: 14px;\n  }\n}\n</style>\n","import script from \"./LoginModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginModal.vue?vue&type=style&index=0&id=4c5ee713&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4c5ee713\"]])\n\nexport default __exports__","<!-- src/components/SettingsPanel.vue -->\n<template>\n  <!-- 两栏布局：左侧导航，右侧内容 -->\n  <section id=\"settings\" class=\"settings-container\">\n    <!-- ============ 左侧导航 ============ -->\n    <aside class=\"settings-nav\">\n      <ul class=\"nav-list\">\n        <li :class=\"{ active: activeSection === 'visual' }\" @click=\"toggleSection('visual')\">\n          <svg class=\"nav-icon\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n            <path d=\"M2.5 21.5l2-2 4-4L6 15l-4 4v2.5h2.5z\" />\n            <path d=\"M6 15l9-9 3 3-9 9\" />\n            <path d=\"M14.5 5.5l3.5-3.5 3 3-3.5 3.5\" />\n          </svg><span>视觉／界面</span>\n        </li>\n        <li :class=\"{ active: activeSection === 'profile' }\" @click=\"toggleSection('profile')\">\n          <svg class=\"nav-icon\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n            <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z\" />\n            <path d=\"M4 20v-2c0-2.21 3.58-4 8-4s8 1.79 8 4v2\" />\n          </svg><span>个人资料</span>\n        </li>\n        <li :class=\"{ active: activeSection === 'assistant' }\" @click=\"toggleSection('assistant')\">\n          <svg class=\"nav-icon\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n            <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10z\" />\n          </svg><span>交互助手</span>\n        </li>\n        <li :class=\"{ active: activeSection === 'publish' }\" @click=\"toggleSection('publish')\">\n          <svg class=\"nav-icon\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2\" />\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M7 10l5-5m0 0l5 5m-5-5v12\" />\n          </svg><span>发布与上传</span>\n        </li>\n        <li v-if=\"isAdmin\" :class=\"{ active: activeSection === 'admin' }\" @click=\"toggleSection('admin')\">\n          <svg class=\"nav-icon\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n              d=\"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z\" />\n          </svg><span>管理员</span>\n        </li>\n      </ul>\n    </aside>\n\n    <!-- ============ 右侧内容 ============ -->\n    <section class=\"settings-content\">\n      <!-- 视觉／界面 -->\n      <ul v-show=\"activeSection === 'visual'\" class=\"settings-group\">\n        <li class=\"setting-item\">\n          <span>主题模式</span>\n          <input type=\"checkbox\" :checked=\"theme === 'dark'\" @change=\"toggleTheme\" />\n        </li>\n        <li class=\"setting-item\">\n          <span>背景设置</span>\n          <label class=\"btn-ghost upload-btn\">\n            上传背景 <input type=\"file\" accept=\"image/*\" @change=\"changeBackground\" />\n          </label>\n        </li>\n        <li class=\"setting-item\">\n          <span>背景透明度</span>\n          <input type=\"range\" min=\"0\" max=\"1\" step=\"0.05\" v-model.number=\"proxyBgOpacity\" />\n        </li>\n        <li class=\"setting-item\">\n          <span>背景模糊</span>\n          <input type=\"range\" min=\"0\" max=\"20\" step=\"1\" v-model.number=\"proxyBgBlur\" />\n        </li>\n        <li class=\"setting-item\">\n          <span>自动加载</span>\n          <input type=\"checkbox\" :checked=\"loadMode === 'auto'\" @change=\"saveLoadModeSwitch($event)\" />\n        </li>\n      </ul>\n\n      <!-- 个人资料 -->\n      <ul v-show=\"activeSection === 'profile'\" class=\"settings-group\">\n        <li class=\"setting-item\">\n          <span>账号与安全</span>\n          <button class=\"btn-ghost\" @click=\"$emit('open-password-modal')\">更改密码</button>\n        </li>\n        <li class=\"setting-item rename-item\">\n          <span>我的昵称</span>\n          <input type=\"text\" :value=\"localDisplayName\" placeholder=\"输入新的昵称\"\n            @input=\"$emit('update:localDisplayName', $event.target.value)\" />\n        </li>\n        <li class=\"setting-item\">\n          <span>勋章中心</span>\n          <button class=\"btn-ghost\" @click=\"$emit('open-badge-modal')\">更换勋章</button>\n        </li>\n      </ul>\n\n      <!-- 交互助手 -->\n      <ul v-show=\"activeSection === 'assistant'\" class=\"settings-group\">\n        <li class=\"setting-item\">\n          <span>桌宠</span>\n          <input type=\"checkbox\" :checked=\"petEnabled\" @change=\"$emit('update:petEnabled', $event.target.checked)\" />\n        </li>\n        <li class=\"setting-item\">\n          <span>AI</span>\n          <input type=\"checkbox\" :checked=\"llmEnabled\" @change=\"$emit('update:llmEnabled', $event.target.checked)\" />\n        </li>\n      </ul>\n\n      <!-- 发布与上传 -->\n      <ul v-show=\"activeSection === 'publish'\" class=\"settings-group\">\n        <li class=\"setting-item\">\n          <span>图片嵌入正文</span>\n          <input type=\"checkbox\" :checked=\"imageInsertMode === 'inline'\" @change=\"saveImageInsertModeSwitch($event)\" />\n        </li>\n\n      </ul>\n\n      <!-- 管理员 -->\n      <ul v-show=\"activeSection === 'admin' && isAdmin\" class=\"settings-group\">\n        <li class=\"setting-item\" v-for=\"uid in allowedUids\" :key=\"uid\">\n          <span>{{ uid }}</span>\n          <div class=\"btn-group\">\n            <button class=\"btn-ghost\" @click=\"$emit('reset-password', uid)\">重置密码</button>\n            <button class=\"btn-ghost\" @click=\"$emit('remove-allowed-uid', uid)\">移除白名单</button>\n            <button class=\"btn-ghost\" @click=\"$emit('open-admin-pwd-modal', uid)\">设定密码</button>\n          </div>\n        </li>\n        <li class=\"setting-item\">\n          <input v-model=\"newAdminUid\" placeholder=\"新 UID\" class=\"rename-input\" />\n          <button class=\"btn-publish\" @click=\"$emit('add-allowed-uid', newAdminUid)\">新增</button>\n        </li>\n      </ul>\n    </section>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'SettingsPanel',\n  emits: [\n    'update:theme', 'update:bgSrc', 'update:bgOpacity', 'update:bgBlur',\n    'update:loadMode', 'update:imageInsertMode',\n    'update:petEnabled', 'update:llmEnabled', 'update:localDisplayName',\n    'open-password-modal', 'open-badge-modal',\n    'reset-password', 'add-allowed-uid', 'remove-allowed-uid', 'open-admin-pwd-modal'\n  ],\n  props: {\n    theme: String, bgOpacity: Number, bgBlur: Number,\n    loadMode: String, imageInsertMode: String,\n    petEnabled: Boolean, llmEnabled: Boolean,\n    localDisplayName: String,\n    allowedUids: Array, currentUser: [String, Number], adminUid: [String, Number]\n  },\n  data() { return { activeSection: 'visual', newAdminUid: '' }; },\n  computed: {\n    isAdmin() { return String(this.currentUser) === String(this.adminUid); },\n    proxyBgOpacity: {\n      get() { return this.bgOpacity; },\n      set(v) { this.$emit('update:bgOpacity', v); }\n    },\n    proxyBgBlur: {\n      get() { return this.bgBlur; },\n      set(v) { this.$emit('update:bgBlur', v); }\n    }\n  },\n  methods: {\n    toggleSection(k) { this.activeSection = k; },\n    toggleTheme() { this.$emit('update:theme', this.theme === 'light' ? 'dark' : 'light'); },\n    changeBackground(e) {\n      const f = e.target.files[0]; if (!f) return;\n      const r = new FileReader();\n      r.onload = ev => this.$emit('update:bgSrc', ev.target.result);\n      r.readAsDataURL(f);\n    },\n    saveLoadMode(e) { this.$emit('update:loadMode', e.target.value); },\n    saveLoadModeSwitch(e) {\n      // 开：'auto'，关：'manual'\n      this.$emit('update:loadMode', e.target.checked ? 'auto' : 'manual');\n    },\n    saveImageInsertModeSwitch(e) {\n      // 选中 = inline，否则 preview\n      this.$emit('update:imageInsertMode', e.target.checked ? 'inline' : 'preview');\n    },\n    \n  },\n};\n</script>\n\n<style scoped>\n/* ===== 布局基础 ===== */\n.settings-container {\n  display: flex;\n  gap: 24px;\n  padding: 40px 16px;\n  max-width: 1600px;\n  margin: 0 auto;\n  height: 80vh;\n  /* 保证固定高度，内部滚动 */\n  box-sizing: border-box;\n}\n\n/* 左侧导航 ===== */\n.settings-nav {\n  width: 140px;\n  background: rgba(0, 0, 0, 0.02);\n  border-right: none;\n  /* 更柔和 */\n  border-radius: 8px;\n  padding: 8px;\n  position: sticky;\n  /* 滚动时保持可见 */\n  top: 40px;\n  bottom: 40px;\n  align-self: flex-start;\n}\n\n/* 右侧内容 ===== */\n.settings-content {\n  flex: 1;\n  overflow-y: auto;\n  /* 独立滚动区域 */\n  padding: 0 24px;\n  scrollbar-width: thin;\n  /* Firefox */\n}\n\n/* 通用设置项 ===== */\n.setting-item {\n  display: grid;\n  grid-template-columns: 100px 1fr;\n  /* 固定标签宽度 */\n  align-items: center;\n  gap: 32px;\n  /* 标签与控件间距 */\n  margin: 24px 0;\n  /* 行间距 */\n  padding: 0 24px;\n}\n\n.setting-item span {\n  white-space: nowrap;\n  /* 标签文字不换行 */\n  max-width: 150px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.setting-item:hover {\n  background: rgba(0, 0, 0, 0.02);\n  border-radius: 4px;\n}\n\n.setting-item .btn-ghost,\n.setting-item .btn-publish,\n.rename-item input,\n.rename-input {\n  width: 160px;\n  white-space: nowrap;\n  /* 文本不换行 */\n}\n\n/* 控件宽度限制 ===== */\n.setting-item input[type=\"range\"],\n.setting-item select {\n  width: 100%;\n  max-width: 360px;\n}\n\n/* 分组标题 ===== */\n.group-title {\n  font-size: 1.125rem;\n  font-weight: 600;\n  margin: 32px 0 16px;\n}\n\n.group-title+.settings-group {\n  border-top: 1px solid #eee;\n  padding-top: 16px;\n}\n\n/* 分组列表 ===== */\n.settings-group {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n\n/* 导航列表 ===== */\n.nav-list {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n\n.nav-list li {\n  display: flex;\n  align-items: center;\n  padding: 12px 16px;\n  cursor: pointer;\n  user-select: none;\n  transition: background .2s;\n}\n\n.nav-list li:hover {\n  background: rgba(0, 0, 0, 0.04);\n}\n\n.nav-list li.active {\n  background: rgba(74, 144, 226, 0.08);\n  color: inherit;\n  font-weight: 600;\n}\n\n.nav-icon {\n  width: 20px;\n  height: 20px;\n  flex-shrink: 0;\n  margin-right: 8px;\n}\n\n/* 按钮组与输入项 ===== */\n.btn-group {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.rename-item input,\n.rename-input {\n  width: 160px;\n  padding: 6px 10px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n.btn-ghost input[type=\"file\"] {\n  display: none;\n}\n\n.settings-container .btn-ghost,\n.settings-container .btn-publish {\n  display: inline-block;\n  width: fit-content;\n  padding: 6px 12px;\n  min-width: 64px;\n  text-align: center;\n}\n\n.settings-container .btn-group button {\n  justify-self: start;\n}\n</style>","import { render } from \"./SettingsPanel.vue?vue&type=template&id=1d7db4fa&scoped=true\"\nimport script from \"./SettingsPanel.vue?vue&type=script&lang=js\"\nexport * from \"./SettingsPanel.vue?vue&type=script&lang=js\"\n\nimport \"./SettingsPanel.vue?vue&type=style&index=0&id=1d7db4fa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1d7db4fa\"]])\n\nexport default __exports__","/** 计算字符串的 SHA‑256 Hex */\nexport async function sha256Hex(str) {\n    const buf = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(str));\n    return Array.from(new Uint8Array(buf)).map(b => b.toString(16).padStart(2,'0')).join('');\n  }\n  \n  /** 双重 Salted 哈希 */\n  export async function saltedHash(pwd, salt) {\n    const h1 = await sha256Hex(pwd + salt);\n    return sha256Hex(h1 + salt);\n  }\n  \n  /** 取或创建一个随机 Salt */\n  export function getOrCreateSalt(uid) {\n    const key = `salt_${uid}`;\n    let salt = localStorage.getItem(key);\n    if (!salt) {\n      salt = Array.from(crypto.getRandomValues(new Uint8Array(8))).map(b => b.toString(16).padStart(2,'0')).join('');\n      localStorage.setItem(key, salt);\n    }\n    return salt;\n  }","import { render } from \"./AppDesktop.vue?vue&type=template&id=64e4cab0\"\nimport script from \"./AppDesktop.vue?vue&type=script&lang=js\"\nexport * from \"./AppDesktop.vue?vue&type=script&lang=js\"\n\nimport \"./AppDesktop.vue?vue&type=style&index=0&id=64e4cab0&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- src/AppDesktop.vue -->\n<template>\n  <div>\n    <!-- 登录 Modal -->\n    <LoginModal :show=\"!currentUser\" @login-success=\"handleLogin\" />\n\n    <!-- ================== 已登录主界面 ================== -->\n    <div v-if=\"currentUser\">\n      <!-- 用户自定义背景 -->\n      <div id=\"bgLayer\" :style=\"bgStyle\"></div>\n\n      <!-- 顶部导航 -->\n      <nav>\n        <div class=\"logo\">把回忆拼好给你</div>\n        <div class=\"menu\">\n          <a href=\"#moments\" @click.prevent=\"scrollTo('moments')\" class=\"nav-item nav-item-moments\">\n            <svg viewBox=\"0 0 24 24\" class=\"nav-icon\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"\n              stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <path d=\"M12 2L2 12h3v8h6v-6h2v6h6v-8h3z\" />\n            </svg>\n\n\n\n            <span class=\"nav-label\">\n              主页\n              <span class=\"red\" :class=\"{ hidden: !hasUnread }\"></span>\n            </span>\n          </a>\n\n          <!-- 相册 -->\n          <a href=\"#album\" @click.prevent=\"scrollTo('album')\" class=\"nav-item nav-item-album\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"nav-icon\" fill=\"none\" viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\" stroke-width=\"2\">\n              <rect x=\"3\" y=\"4\" width=\"18\" height=\"16\" rx=\"2\" ry=\"2\" />\n              <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" />\n              <polyline points=\"21 15 16 10 5 21\" />\n            </svg>\n            <span class=\"nav-label\">相册</span>\n          </a>\n          <!-- 投稿 -->\n          <a href=\"#moments\" @click.prevent=\"scrollTo('moments')\" class=\"nav-item nav-item-submit\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"nav-icon\" fill=\"none\" viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\" stroke-width=\"2\">\n              <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" stroke-linecap=\"round\" />\n              <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" stroke-linecap=\"round\" />\n            </svg>\n\n            <span class=\"nav-label\">投稿</span>\n          </a>\n          <!-- ① 在 data() 里新增 navDropdownVisible -->\n          <div class=\"nav-avatar\" @mouseenter=\"navDropdownVisible = true\" @mouseleave=\"navDropdownVisible = false\">\n            <img :src=\"getAvatar(currentUser)\" alt=\"Avatar\" class=\"avatar-img\" />\n            <transition name=\"dropdown-fade\">\n              <div v-show=\"navDropdownVisible\" class=\"nav-dropdown\">\n                <!-- 设置 -->\n                <button class=\"dropdown-item\" @click=\"showSettingsModal = true\">\n                  <!-- 齿轮图标 -->\n                  <svg class=\"dropdown-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                    <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n                    <path\n                      d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09c.71 0 1.34-.41 1.51-1a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06c.48.48 1.14.67 1.82.33a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09c0 .71.41 1.34 1 1.51a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82c.17.59.8 1 1.51 1H21a2 2 0 0 1 0 4h-.09c-.71 0-1.34.41-1.51 1z\" />\n                  </svg>\n                  <span>设置</span>\n                </button>\n\n                <div class=\"dropdown-divider\"></div>\n\n                <!-- 退出（关机图标） -->\n                <button class=\"dropdown-item\" @click=\"logout\">\n                  <!-- Power-off 图标 -->\n                  <svg class=\"dropdown-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                    <path d=\"M18.364 5.636a9 9 0 1 1-12.728 0\"></path>\n                    <line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"12\"></line>\n                  </svg>\n                  <span>退出</span>\n                </button>\n              </div>\n            </transition>\n\n          </div>\n\n\n\n          <button class=\"btn-ghost\" @click=\"toggleTheme\">\n            <svg v-if=\"theme === 'light'\" viewBox=\"0 0 24 24\">\n              <circle cx=\"12\" cy=\"12\" r=\"5\" />\n            </svg>\n            <svg v-else viewBox=\"0 0 24 24\">\n              <path d=\"M21 12.8A9 9 0 1111.2 3 7 7 0 0021 12.8z\" />\n            </svg>\n          </button>\n        </div>\n      </nav>\n\n      <!-- ======================== 投稿区 ======================== -->\n      <section id=\"moments\">\n        <h2 class=\"big\">投稿</h2>\n        <div class=\"np-top\">\n          <div class=\"np-input-wrapper\">\n            <!-- ❶ 直接用一个 contenteditable 的渲染层当输入区 -->\n            <div class=\"ta-preview\" contenteditable=\"true\" ref=\"postInput\" @input=\"handleInput\" @keyup=\"saveCaret\"\n              @mouseup=\"saveCaret\" @keydown.enter.prevent=\"handlePostEnter\" @keydown=\"handleKeydown\"\n              data-placeholder=\"说点什么...\"></div>\n\n            <!-- ② 新的“悬浮”上传按钮，圆形、尺寸更小 -->\n            <label class=\"upload-fab\">\n              <svg viewBox=\"0 0 24 24\">\n                <path d=\"M12 5v14m7-7H5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\n              </svg>\n              <input type=\"file\" accept=\"image/*\" multiple @change=\"handlePostImages\" />\n            </label>\n            <!-- === ① 触发按钮 === -->\n            <button type=\"button\" class=\"emoji-fab\" @click=\"toggleStickerPicker\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"\n                stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                <!-- 外圆 -->\n                <circle cx=\"12\" cy=\"12\" r=\"10\" />\n                <!-- 眼睛 -->\n                <circle cx=\"9\" cy=\"10\" r=\"1\" />\n                <circle cx=\"15\" cy=\"10\" r=\"1\" />\n                <!-- 微笑曲线 -->\n                <path d=\"M8 16c1.333-1 2.667-1 4 0\" />\n              </svg>\n            </button>\n            <!-- === ② 贴图网格 === -->\n            <div v-if=\"stickerPickerVisible\" class=\"sticker-picker\">\n              <img v-for=\"s in displayedStickers\" :key=\"s.id\" :src=\"s.url\" :alt=\"s.id\" @click.stop=\"selectSticker(s)\" />\n\n              <!-- 分页按钮 -->\n              <button class=\"page-btn left\" @click=\"prevStickerPage\" :disabled=\"stickerPage === 0\">‹</button>\n              <button class=\"page-btn right\" @click=\"nextStickerPage\"\n                :disabled=\"(stickerPage + 1) * stickersPerPage >= stickers.length\">›</button>\n            </div>\n\n\n          </div>\n          <div class=\"np-toolbar\">\n            <span class=\"char-count\">{{ newPostCharCount }}/30000</span>\n            <!-- —— Location picker —— -->\n            <div class=\"place-picker\" @click.stop>\n              <button class=\"place-btn\" @click=\"toggleNewPostPicker\">\n                <svg class=\"location-icon\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\"\n                  style=\"width:24px;height:24px;\">\n                  <path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z\" />\n                  <circle cx=\"12\" cy=\"9\" r=\"2.5\" />\n                </svg>\n                <span class=\"place-label\">{{ newPostPlace || '选择地点' }}</span>\n              </button>\n\n              <div v-show=\"newPostPickerVisible\" class=\"place-options\">\n                <button v-for=\"place in placeOptions\" :key=\"place\" class=\"place-item\"\n                  @click=\"selectNewPostPlace(place)\">\n                  {{ place || '无' }}\n                </button>\n              </div>\n            </div>\n\n\n            <!-- ③ 新的“发布”按钮，圆形、尺寸更小 -->\n\n\n            <button class=\"btn-publish\" @click=\"publishPost\" :disabled=\"isPublishing\">\n              <!-- 编辑模式下显示“保存”，否则显示“发布” -->\n              <template v-if=\"!isPublishing\">\n                {{ editingPost ? '保存' : '发布' }}\n              </template>\n              <template v-else>\n                <span class=\"spinner\"></span> {{ editingPost ? '保存中…' : '发布中…' }}\n              </template>\n            </button>\n\n          </div>\n        </div>\n\n        <!-- 图片草稿预览 -->\n        <div v-if=\"draftImgs.length && imageInsertMode === 'preview'\" class=\"np-preview\">\n          <div v-for=\"(img, i) in draftImgs\" :key=\"i\" class=\"thumb\">\n            <img :src=\"img\" /><span class=\"remove\" @click=\"removeDraft(i)\">×</span>\n          </div>\n        </div>\n\n        <!-- 动态列表 -->\n        <h2 class=\"big\">动态</h2>\n        <!-- 1. 骨架屏，当 isListLoading=true 时显示 -->\n        <template v-if=\"isListLoading\">\n          <div class=\"skeleton-list\">\n            <div class=\"skeleton-card\" v-for=\"n in 3\" :key=\"n\">\n              <div class=\"skeleton-head\"></div>\n              <div class=\"skeleton-body\"></div>\n            </div>\n          </div>\n        </template>\n\n        <!-- 2. 列表主结构，用 transition-group 加入进场动画 -->\n        <transition-group name=\"post-fade\" tag=\"div\" id=\"moments-list\">\n          <div v-for=\"post in visiblePosts\" :key=\"post.id\" class=\"post card\">\n            <!-- ——— 保留你原来的 post 结构 —— ——— -->\n            <div class=\"head\" style=\"display:flex;justify-content:space-between;align-items:center;\">\n              <div style=\"display:flex;align-items:center;gap:8px;margin-bottom:12px;\">\n                <div\n                  :style=\"{ width: '34px', height: '34px', borderRadius: '50%', background: 'url(' + getAvatar(post.uid) + ') center/cover' }\">\n                </div>\n                <b>{{ getDisplayName(post.uid) }}</b>\n                <span v-html=\"badgeHTML(post.uid)\"></span>\n                <!-- 勋章后面追加日期 -->\n                <small class=\"post-date\">\n                  {{ new Date(post.ts).toLocaleDateString() }}\n                </small>\n                <span class=\"red\" v-if=\"!isRead(post.id) && post.uid !== currentUser\"></span>\n              </div>\n              <div style=\"display:flex;align-items:center;gap:10px;\">\n                <span style=\"font-size:12px\">\n                  {{ new Date(post.ts).toLocaleTimeString() }}<span v-if=\"post.place\"> · {{ post.place }}</span>\n                </span>\n                <div class=\"more-wrapper\">\n                  <span v-if=\"post.uid === currentUser || currentUser === '217122260'\" class=\"more\"\n                    @click=\"postOptionsPost = postOptionsPost === post ? null : post\">⋯</span>\n                  <transition name=\"options-pop\">\n                    <div v-if=\"postOptionsPost === post\" class=\"post-options\">\n                      <button class=\"edit-post-btn\" @click=\"startEdit(post)\">\n                        <!-- Pencil (edit) 图标 -->\n                        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\"\n                          stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                          <path d=\"M12 20h9\"></path>\n                          <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z\"></path>\n                        </svg>\n                      </button>\n\n\n                      <button class=\"trash-btn\" @click=\"deletePost(post)\">\n                        <!-- 这里是你的删除图标 -->\n                        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\"\n                          stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                          <path d=\"M3 6h18\" />\n                          <path d=\"M9 6v12\" />\n                          <path d=\"M15 6v12\" />\n                          <path d=\"M4 6v14a2 2 0 002 2h12a2 2 0 002-2V6\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </transition>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"body\">\n              <p v-html=\"renderText(post.txt)\"></p>\n            </div>\n\n            <div class=\"photos\">\n              <div v-for=\"(img, i) in post.imgs.slice(0, 3)\" :key=\"i\" class=\"thumb\" @click=\"openModal(post, i)\">\n                <img :src=\"img\" alt=\"\" />\n                <!-- 只有在第三张，且还有多余图片时才显示 +N -->\n                <div v-if=\"i === 2 && post.imgs.length > 3\" class=\"thumb-overlay\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"stack-icon\" viewBox=\"0 0 24 24\" fill=\"none\"\n                    stroke=\"currentColor\" stroke-width=\"2\">\n                    <!-- 上层矩形 -->\n                    <rect x=\"3\" y=\"4\" width=\"18\" height=\"6\" rx=\"1\" ry=\"1\" />\n                    <!-- 下层矩形，略微偏移 -->\n                    <rect x=\"6\" y=\"12\" width=\"18\" height=\"6\" rx=\"1\" ry=\"1\" />\n                  </svg>\n                  <span class=\"overlay-count\">+{{ post.imgs.length - 3 }}</span>\n                </div>\n              </div>\n            </div>\n\n\n\n\n            <div class=\"actions\">\n              <!-- 观看次数图标 -->\n              <svg viewBox=\"0 0 24 24\">\n                <path d=\"M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7z m0 12a5 5 0 110-10 5 5 0 010 10z\" />\n              </svg>\n              <span>{{ post.views }}</span>\n\n              <!-- 新增：评论切换按钮 -->\n              <svg class=\"comment-toggle\" @click=\"toggleComments(post)\" style=\"cursor:pointer; margin-left:8px;\"\n                viewBox=\"0 0 24 24\">\n                <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10z\" fill=\"none\"\n                  stroke=\"currentColor\" stroke-width=\"2\" />\n              </svg>\n              <span>{{ post.cmts.length }}</span>\n            </div>\n\n            <div v-if=\"visibleComments[post.id]\" class=\"comments\">\n              <div v-for=\"(c, idx) in post.cmts\" :key=\"idx\" class=\"comment\">\n                <div class=\"comment-left\">\n                  <span class=\"comment-display\">{{ getDisplayName(c.who) }}: {{ c.txt }}</span>\n                </div>\n                <div class=\"comment-right\">\n                  <span v-if=\"c.who === currentUser\" class=\"comment-edit\" @click=\"editComment(post, idx)\">✎</span>\n                  <span v-if=\"c.who === currentUser\" class=\"comment-delete\" @click=\"deleteComment(post, idx)\">×</span>\n                  <span v-else class=\"comment-author\">{{ getDisplayName(c.who) }}</span>\n                </div>\n              </div>\n              <div class=\"c-input\">\n                <input type=\"text\" v-model=\"newComment[post.id]\" placeholder=\"评论...\"\n                  @keydown.enter.prevent=\"handleCommentEnter($event, post)\" />\n                <button class=\"btn-publish\" style=\"font-size:13px\" @click=\"sendComment(post)\">发送</button>\n              </div>\n            </div>\n            <!-- ———————————————— 结束 ———————————————— -->\n          </div>\n        </transition-group>\n        <div v-if=\"visiblePosts.length < posts.length\" style=\"text-align:center;margin:16px 0;\">\n          <div v-if=\"loadMode === 'manual' && visiblePosts.length < posts.length\"\n            style=\"text-align:center;margin:16px 0;\">\n            <button class=\"btn-ghost\" @click=\"loadMore\">加载更多</button>\n          </div>\n        </div>\n      </section>\n\n      <!-- ======================== 相册 ======================== -->\n      <section id=\"album\">\n        <h2 class=\"big\">相册</h2>\n        <div class=\"album-tabs\">\n          <button :class=\"{ on: albumMode === 'time' }\" @click=\"albumMode = 'time'\">按时间</button>\n          <button :class=\"{ on: albumMode === 'region' }\" @click=\"albumMode = 'region'\">按地区</button>\n        </div>\n\n        <div id=\"album-grid\" class=\"grid\">\n          <template v-for=\"(group, key) in groupedPhotos\" :key=\"key\">\n            <h4 style=\"grid-column:1/-1;margin:4px 0 6px\">{{ key }}</h4>\n            <div v-for=\"(photo, i) in group\" :key=\"i\" class=\"photo\"\n              @click=\"openModal(photo.post, photo.post.imgs.indexOf(photo.url))\">\n              <img :src=\"photo.url\" /><span>{{ photo.place }}</span>\n            </div>\n          </template>\n        </div>\n\n        <div v-if=\"allPhotos.length === 0\" style=\"text-align:center;margin-top:30px;color:#888\">暂无照片，快去上传吧~</div>\n      </section>\n\n      <!-- Settings 弹窗 -->\n      <div v-if=\"showSettingsModal\" class=\"modal show settings-modal\">\n        <div class=\"box\">\n          <!-- 右上角关闭 -->\n          <span class=\"close\" @click=\"showSettingsModal = false\">×</span>\n\n          <!-- 这里直接渲染 SettingsPanel -->\n          <SettingsPanel v-model:theme=\"theme\" v-model:bgSrc=\"bgSrc\" v-model:bgOpacity=\"bgOpacity\"\n            v-model:bgBlur=\"bgBlur\" v-model:loadMode=\"loadMode\" v-model:imageInsertMode=\"imageInsertMode\"\n            v-model:petEnabled=\"petEnabled\" v-model:llmEnabled=\"llmEnabled\" v-model:localDisplayName=\"localDisplayName\"\n            v-model:selectedBadge=\"selectedBadge\" :allowedBadges=\"allowedBadges\" :allowedUids=\"allowedUids\"\n            :currentUser=\"currentUser\" bestBadgeUid=\"246490729\" adminUid=\"217122260\"\n            @open-password-modal=\"openPasswordModal\" @open-badge-modal=\"openBadgeModal\" @reset-password=\"resetPassword\"\n            @add-allowed-uid=\"addAllowedUid\" @remove-allowed-uid=\"removeAllowedUid\"\n            @open-admin-pwd-modal=\"openAdminPwdModal\" />\n        </div>\n      </div>\n\n\n      <!-- 勋章 Modal -->\n      <div v-if=\"showBadgeModal\" class=\"modal show\">\n        <div class=\"box\">\n          <span class=\"close\" @click=\"closeBadgeModal\">×</span>\n          <h3>选择勋章</h3>\n          <div style=\"margin:10px 0;\">\n            <label v-for=\"badge in allowedBadges\" :key=\"badge.id\"\n              style=\"display:flex;align-items:center;gap:6px;margin:4px 0\">\n              <input type=\"radio\" name=\"wear\" :value=\"badge.id\" v-model=\"selectedBadge\" />\n              <span\n                :class=\"['badge', badge.id === 'best' ? 'best' : badge.id === 'catgirl' ? 'catgirl' : badge.id === 'none' ? 'badge-none' : '']\">\n                {{ badge.name }}\n              </span>\n            </label>\n          </div>\n          <button class=\"btn-publish\" style=\"margin-top:12px\" @click=\"confirmBadge\">确认</button>\n        </div>\n      </div>\n\n      <!-- 图片 Slider Modal -->\n      <div v-if=\"showModal\" class=\"modal show slider-modal\" @click.self=\"closeInfoSidebar\">\n        <div class=\"box\">\n          <span class=\"close\" @click=\"closeModal\">×</span>\n          <!-- Modal 图片菜单按钮 -->\n          <span class=\"more modal-more\" @click=\"showImageOptions = !showImageOptions\">⋯</span>\n          <!-- Modal 信息按钮 -->\n          <span class=\"info-btn\" @click=\"toggleInfoSidebar\" :aria-label=\"showInfoSidebar ? '收起信息' : '查看信息'\">\n            <!-- 圆圈里的 i，和 iOS 类似 -->\n            <svg viewBox=\"0 0 24 24\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" />\n              <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"8\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\n              <line x1=\"12\" y1=\"11\" x2=\"12\" y2=\"16\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\n            </svg>\n          </span>\n\n          <!-- Modal 图片操作菜单 -->\n          <transition name=\"options-pop\">\n            <div v-if=\"showImageOptions\" class=\"modal-options\">\n              <button class=\"edit-place-btn\" @click=\"openPlaceModal('image', modalPost)\">\n                <!-- Location Marker 图标 -->\n                <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" stroke-linejoin=\"round\">\n                  <path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z\" />\n                  <circle cx=\"12\" cy=\"9\" r=\"2.5\" />\n                </svg>\n              </button>\n            </div>\n          </transition>\n          <div class=\"slider-content\">\n            <button class=\"slider-btn left\" @click=\"prevModalImg\" :disabled=\"modalIndex === 0\">‹</button>\n            <!-- 桌面鼠标滚轮 -->\n            <img class=\"slider-img\" :src=\"modalImgs[modalIndex]\"\n              :style=\"{ transform: 'scale(' + modalZoom + ')', transition: 'transform .15s' }\" @load=\"handleImgLoad\"\n              @wheel.prevent=\"onWheelZoom\" />\n\n            <button class=\"slider-btn right\" @click=\"nextModalImg\"\n              :disabled=\"modalIndex === modalImgs.length - 1\">›</button>\n          </div>\n          <!-- 新增：固定在右下角的删除按钮 -->\n          <button class=\"modal-delete-btn\" @click=\"deleteImage()\">\n            <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path d=\"M3 6h18M9 6v12m6-12v12M4 6v14a2 2 0 002 2h12a2 2 0 002-2V6\" stroke=\"currentColor\"\n                stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n            </svg>\n          </button>\n          <!-- 缩放条 + 放大镜 -->\n          <div class=\"zoom-control\">\n            <svg class=\"zoom-icon\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" />\n              <line x1=\"16\" y1=\"16\" x2=\"22\" y2=\"22\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\n            </svg>\n            <input type=\"range\" :min=\"minZoom\" :max=\"maxZoom\" step=\"0.1\" v-model.number=\"modalZoom\" />\n          </div>\n          <!-- 侧边栏：照片信息 -->\n          <transition name=\"sidebar-slide\">\n            <div v-if=\"showInfoSidebar\" class=\"info-sidebar\">\n              <p><b>尺寸：</b>{{ infoSize }}</p>\n              <p>\n                <b>地点：</b>\n                {{ modalPost.imgPlaces[modalIndex] || modalPost.place || '未知' }}\n              </p>\n              <p><b>日期：</b>{{ new Date(modalPost.ts).toLocaleString() }}</p>\n            </div>\n          </transition>\n\n          <div class=\"modal-meta\">\n            {{ modalIndex + 1 }} / {{ modalImgs.length }}\n          </div>\n        </div>\n      </div>\n      <!-- 编辑地点 Modal -->\n      <div v-if=\"showPlaceModal\" class=\"modal show\">\n        <div class=\"box place-modal-box\">\n          <span class=\"close\" @click=\"closePlaceModal\">×</span>\n          <h3 style=\"margin-bottom:12px;\">编辑地点</h3>\n          <!-- 跟发帖区一模一样的 np-toolbar -->\n          <div class=\"np-toolbar\" style=\"margin-bottom:12px;\">\n            <!-- —— 同发帖区的 place-picker —— -->\n            <div class=\"place-picker\" @click.stop>\n              <button class=\"place-btn\" @click=\"toggleModalPicker\">\n                <svg class=\"location-icon\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\"\n                  style=\"width:24px;height:24px;\">\n                  <path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z\" />\n                  <circle cx=\"12\" cy=\"9\" r=\"2.5\" />\n                </svg>\n                <span class=\"place-label\">{{ placeModalValue || '无' }}</span>\n              </button>\n\n              <div v-show=\"modalPickerVisible\" class=\"place-options\">\n                <button v-for=\"place in placeOptions\" :key=\"place\" class=\"place-item\" @click=\"selectModalPlace(place)\">\n                  {{ place || '无' }}\n                </button>\n              </div>\n            </div>\n\n          </div>\n\n          <div style=\"text-align:right;\">\n            <button class=\"btn-ghost\" @click=\"closePlaceModal\" style=\"margin-right:8px;\">取消</button>\n            <button class=\"btn-publish\" @click=\"confirmPlaceEdit\">确定</button>\n          </div>\n        </div>\n      </div>\n\n\n\n      <!-- 密码 Modal -->\n      <div v-if=\"showPasswordModal\" class=\"modal show\">\n        <div class=\"box\" style=\"text-align:center;max-width:340px;\">\n          <span class=\"close\" @click=\"closePasswordModal\">×</span>\n          <h3>更改密码</h3>\n          <div style=\"margin-top:16px;\">\n            <input type=\"password\" v-model=\"oldPassword\" placeholder=\"旧密码\"\n              style=\"width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;margin-bottom:8px;\" />\n            <input type=\"password\" v-model=\"newPassword\" placeholder=\"新密码\"\n              style=\"width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;margin-bottom:8px;\" />\n            <input type=\"password\" v-model=\"confirmPassword\" placeholder=\"确认新密码\"\n              style=\"width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;margin-bottom:8px;\" />\n            <button class=\"btn-publish\" style=\"margin-top:12px\" @click=\"changePassword\">确认更改</button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 桌宠 -->\n      <div id=\"pet\" v-if=\"petEnabled\" ref=\"pet\"\n        style=\"position:fixed;right:24px;bottom:24px;width:90px;user-select:none;cursor:move;z-index:90;\"\n        @mousedown=\"dragPet\">\n        <div v-html=\"petSVG\"></div>\n      </div>\n\n      <footer style=\"text-align:center;padding:24px 0;font-size:13px;color:#777\">\n        © 2025 把回忆拼好给你\n      </footer>\n    </div>\n  </div>\n</template>\n\n<script>\n/* ===== 登录白名单 & 常量 ===== */\nconst BEST_BADGE_UID = '246490729';                 // 佩戴「最好的大佬」勋章的 UID\nimport LoginModal from '@/components/LoginModal.vue';\nimport SettingsPanel from '@/components/SettingsPanel.vue';\nimport { getAllowedUids, setAllowedUids } from '@/config/auth';\nimport { getOrCreateSalt, saltedHash } from '@/utils/crypto';\n\nexport default {\n  name: 'App',\n  components: { LoginModal, SettingsPanel },\n  /* ---------- data ---------- */\n  data() {\n    const storedUser = JSON.parse(localStorage.getItem('currentUser') || 'null');\n\n    return {\n      // 当前登录 UID；null 代表未登录\n      currentUser: storedUser,\n\n      /* 业务数据 */\n      posts: JSON.parse(localStorage.getItem('posts') || '[]'),\n\n      /* 主题 / 外观 */\n      theme: localStorage.getItem('theme') || 'light',\n      bgSrc: localStorage.getItem('bgSrc') || '',\n      bgOpacity: parseFloat(localStorage.getItem('bgOpacity') || 0.35),\n      bgBlur: parseInt(localStorage.getItem('bgBlur') || 4),\n\n      /* 导航栏 */\n      navDropdownVisible: false,\n\n      /* 投稿 */\n      newPostText: '',\n      newPostPlace: '',\n      draftImgs: [],\n      isPublishing: false,    // 按钮 loading\n      isListLoading: false,   // 列表骨架屏\n      editingPost: null,\n\n      newPostPickerVisible: false,\n      modalPickerVisible: false,\n      placeOptions: ['', '蒙德', '璃月', '稻妻', '须弥', '枫丹', '纳塔'],\n\n\n      // —— 分页加载配置 —— \n      loadedCount: 5,  // 初始加载 5 条\n      loadStep: 5,     // 每次点击再加载 5 条\n\n      /* 评论 */\n      // localDisplayName: localStorage.getItem('displayName_' + (storedUser || '')) || '',\n      newComment: {},\n\n      /* Modals */\n      showBadgeModal: false,\n      showPasswordModal: false,\n      showModal: false,\n      modalSrc: '',\n      modalMeta: '',\n      modalImgs: [],     // 本次 Modal 要展示的图片列表\n      modalIndex: 0,     // 当前显示的图片下标\n      showPlaceModal: false,      // 控制编辑地点弹窗显隐\n      placeModalTarget: null,     // 要编辑的对象（post 或 modalPost）\n      placeModalType: '',         // 'post' 或 'image'\n      showInfoSidebar: false,          // Info 侧边栏显隐\n      infoSize: '',                    // \"4032 × 3024\" 这样的字符串\n\n      /* 图片缩放 */\n      modalZoom: 1,          // 当前缩放倍数（1 = 100%）\n      minZoom: 0.5,         // 下限\n      maxZoom: 3,           // 上限\n\n      loadMode: localStorage.getItem('loadMode') || 'manual',\n      petEnabled: true,\n      petType: 'cat',\n      llmEnabled: true,\n      petPrompt: '喵～ 记得喝水喔！',\n      localDisplayName: localStorage.getItem('displayName_' + (storedUser || '')) || '',\n      imageInsertMode: localStorage.getItem('imageInsertMode') || 'preview',\n\n      /*头像 */\n      avatarMap: {\n        [storedUser]: localStorage.getItem('avatar-' + storedUser)\n          || 'https://placehold.co/60'\n      },\n      /* 勋章 */\n      BADGES: [\n        { id: 'none', name: '不佩戴' },\n        { id: 'best', name: '最好的大佬' },\n        { id: 'catgirl', name: '你才是猫娘' }\n      ],\n      selectedBadge: localStorage.getItem('wear_' + (storedUser || '')) || 'none',\n      userBadges: (() => {\n        const map = JSON.parse(localStorage.getItem('userBadges') || '{}');\n        // 如果有登录用户，且 map 里还没它的记录，就初始化一下\n        if (storedUser && !(storedUser in map)) {\n          map[storedUser] = localStorage.getItem('wear_' + storedUser) || 'none';\n        }\n        return map;\n      })(),\n\n      editingImgIdx: 0,          // ⑦ 当前在改哪一张\n      placeModalValue: '',       // ⑧ <select v-model> 的值\n\n      /* 密码 */\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: '',\n\n      /* 已读 */\n      readIds: new Set(JSON.parse(localStorage.getItem('readIds_' + (storedUser || '')) || '[]')),\n\n      /* 相册 */\n      albumMode: 'time',\n\n      /* 表情 */\n      stickerPickerVisible: false,\n      stickers: [],          // ↙ 先给空数组\n      stickerPage: 0,   // 当前页\n      stickersPerPage: 32,  // 每页多少张\n      savedRange: null,   // ⭐︎ 光标缓存\n\n      showSettingsModal: false,\n\n      /* 管理员 */\n      adminPwdModalVisible: false,\n      adminTargetUid: '',\n      adminNewPassword: '',\n      newAdminUid: '',\n\n      /* 白名单 */\n      allowedUids: getAllowedUids(),\n      // Modal 内部「⋯」菜单\n      showImageOptions: false,   // 控制图片选项菜单显隐\n      modalPost: null,           // 当前在 Modal 里编辑的 post 对象\n\n      // 动态列表「⋯」菜单\n      postOptionsPost: null,     // 控制哪个 post 的选项菜单显隐\n\n      imageNewPlace: '',  // Modal 编辑时用的 v-model\n      postNewPlace: '',   // 动态列表编辑时用的 v-model\n      visibleComments: {},   // key: post.id, value: Boolean  \n    };\n  },\n\n  /* ---------- computed ---------- */\n  computed: {\n    newPostCharCount() {\n      // 把所有 markdown 图片语法替换成单个占位符\n      const txt = this.newPostText.replace(/!\\[\\]\\([^)]*\\)/g, '□');\n      return txt.length;\n    },\n\n    displayedStickers() {\n      const start = this.stickerPage * this.stickersPerPage\n      return this.stickers.slice(start, start + this.stickersPerPage)\n    },\n    // 只显示已加载的条数\n    visiblePosts() {\n      return this.posts.slice(0, this.loadedCount);\n    },\n\n    displayName() {\n      return this.localDisplayName;\n    },\n    allPhotos() {\n      const out = [];\n      this.posts.forEach(post => {\n        post.imgs.forEach((url, idx) => {\n          out.push({\n            url,\n            // 1️⃣ 如果这张图有 imgPlaces，就用它；否则 fallback 到 post.place\n            place: post.imgPlaces?.[idx] || post.place || '未知',\n            date: new Date(post.ts).toISOString().slice(0, 10),\n            post,\n            idx\n          });\n        });\n      });\n      return out;\n    },\n\n\n    groupedPhotos() {\n      const g = {};\n      this.allPhotos.forEach(p => {\n        const key = this.albumMode === 'time' ? p.date.slice(0, 7) : p.place;\n        if (!g[key]) g[key] = [];\n        g[key].push({ ...p, meta: `${p.date} · ${p.place}` });\n      });\n      return g;\n    },\n    allowedBadges() {\n      return this.BADGES.filter(b => (b.id === 'best' ? this.currentUser === BEST_BADGE_UID : true));\n    },\n    hasUnread() {\n      return this.posts.some(p => !this.readIds.has(p.id) && p.uid !== this.currentUser);\n    },\n    bgStyle() {\n      return {\n        backgroundImage: this.bgSrc ? `url(${this.bgSrc})` : 'none',\n        opacity: this.bgOpacity,\n        filter: `blur(${this.bgBlur}px)`\n      };\n    },\n    petSVG() {\n      return this.petType === 'bird'\n        ? `<svg viewBox=\"0 0 120 120\"><circle cx=\"60\" cy=\"60\" r=\"55\" fill=\"#cdeffd\" stroke=\"#333\" stroke-width=\"3\"/><path d=\"M40 70 Q60 90 80 70\" stroke=\"#333\" stroke-width=\"5\" fill=\"none\" stroke-linecap=\"round\"/><circle cx=\"45\" cy=\"55\" r=\"8\"/><circle cx=\"75\" cy=\"55\" r=\"8\"/></svg>`\n        : `<svg viewBox=\"0 0 120 120\"><circle cx=\"60\" cy=\"60\" r=\"55\" fill=\"#ffe4e1\" stroke=\"#333\" stroke-width=\"3\"/><circle cx=\"45\" cy=\"50\" r=\"10\"/><circle cx=\"75\" cy=\"50\" r=\"10\"/><path d=\"M45 80 Q60 95 75 80\" stroke=\"#333\" stroke-width=\"4\" fill=\"none\" stroke-linecap=\"round\"/></svg>`;\n    },\n  },\n\n  watch: {\n    theme(val) {\n      // 任何地方把 theme 改成 'dark' / 'light'，都会自动同步 DOM 和 localStorage\n      document.body.classList.toggle('dark', val === 'dark');\n      localStorage.setItem('theme', val);\n    },\n    bgOpacity: 'saveBgOpacity',\n    bgBlur: 'saveBgBlur',\n    loadMode(val) {\n      localStorage.setItem('loadMode', val);\n      this.updateLoadBehavior();\n    },\n    imageInsertMode(val) {\n      localStorage.setItem('imageInsertMode', val);\n    },\n\n    // 本地改名时，立刻写入 localStorage\n    localDisplayName(newName) {\n      localStorage.setItem('displayName_' + (this.currentUser || ''), newName);\n    },\n\n    selectedBadge(newVal) {\n      // 直接赋值给响应式对象\n      this.userBadges[this.currentUser] = newVal;\n      localStorage.setItem('userBadges', JSON.stringify(this.userBadges));\n    }\n  },\n\n\n\n  /* ---------- methods ---------- */\n  methods: {\n    /* ========== 登录 ========== */\n    /* 登录成功后的回调 */\n    handleLogin(uid) {\n      this.currentUser = uid;\n      localStorage.setItem('currentUser', JSON.stringify(uid));\n      this.readIds = new Set(JSON.parse(localStorage.getItem('readIds_' + uid) || '[]'));\n      this.localDisplayName = localStorage.getItem('displayName_' + uid) || '';\n      this.posts = JSON.parse(localStorage.getItem('posts') || '[]');\n    },\n    logout() {\n      localStorage.removeItem('currentUser');\n      this.currentUser = null;\n      this.posts = [];\n      this.localDisplayName = '';\n      this.readIds = new Set();\n    },\n    /* ========== 工具函数 ========== */\n    formatMeta(post) {\n      const d = new Date(post.ts);\n      const date = d.toLocaleDateString();      // 本地化日期\n      const time = d.toLocaleTimeString();      // 本地化时分秒\n      return `${date} ${time}${post.place ? ' · ' + post.place : ''}`;\n    },\n\n    // —— 关闭贴图面板 —— //\n    handleClickToCloseSticker(e) {\n      if (this.stickerPickerVisible &&\n        !e.target.closest('.sticker-picker') &&\n        !e.target.closest('.emoji-fab')) {\n        this.stickerPickerVisible = false;\n      }\n    },\n\n    // —— 关闭头像下拉 —— //\n    handleClickToCloseNavDropdown(e) {\n      if (this.navDropdownVisible &&\n        !e.target.closest('.nav-avatar')) {\n        this.navDropdownVisible = false;\n      }\n    },\n\n    // —— 全局点击统一入口 —— //\n    handleGlobalClick(e) {\n      this.handleClickToCloseSticker(e);\n      this.handleClickToCloseNavDropdown(e);\n    },\n\n    badgeHTML(uid) {\n      const val = this.userBadges[uid] || 'none';\n      // 不佩戴就不渲染\n      if (val === 'none') return '';\n      // 只有 best 和 catgirl 两种可渲染\n      const cls = val === 'best' ? 'badge best'\n        : /* catgirl */      'badge catgirl';\n      const name = this.BADGES.find(b => b.id === val)?.name || '';\n      return `<span class=\"${cls}\">${name}</span>`;\n    },\n\n    scrollTo(id) { const el = document.getElementById(id); if (el) el.scrollIntoView({ behavior: 'smooth' }); },\n    // 投稿区 Picker\n    toggleNewPostPicker() {\n      this.newPostPickerVisible = !this.newPostPickerVisible;\n    },\n    selectNewPostPlace(place) {\n      this.newPostPlace = place;\n      this.newPostPickerVisible = false;\n    },\n\n    // Modal 区 Picker\n    toggleModalPicker() {\n      this.modalPickerVisible = !this.modalPickerVisible;\n    },\n    selectModalPlace(place) {\n      this.placeModalValue = place;\n      this.modalPickerVisible = false;\n    },\n\n    getAvatar(uid) {\n      if (!this.avatarMap[uid]) {\n        this.avatarMap[uid] = localStorage.getItem('avatar-' + uid) || 'https://placehold.co/60';\n      }\n      return this.avatarMap[uid];\n    },\n\n\n    getDisplayName(uid) {\n      if (uid === this.currentUser) {\n        return this.displayName;\n      }\n      return localStorage.getItem('displayName_' + uid) || uid;\n    },\n\n    toggleNavDropdown() {\n      this.navDropdownVisible = !this.navDropdownVisible;\n    },\n    toggleComments(post) {\n      // Vue3 响应式里直接赋值即可\n      this.visibleComments[post.id] = !this.visibleComments[post.id];\n    },\n\n    /* ========== 投稿 ========== */\n    handleInput(e) {\n      const nodes = e.target.childNodes\n      let txt = ''\n      nodes.forEach(n => {\n        if (n.nodeType === 3) {                    // 文本节点\n          txt += n.textContent\n        } else if (n.tagName === 'IMG' &&\n          n.classList.contains('inline-sticker')) {\n          txt += `![](${n.src})`\n        } else if (n.tagName === 'BR') {\n          txt += '\\n'\n        }\n      })\n      this.newPostText = txt\n    },\n    handlePostImages(e) {\n      const files = Array.from(e.target.files).slice(0, 50);\n\n      // ① “正文内嵌” —— 像贴图一样插入 <img>\n      if (this.imageInsertMode === 'inline') {\n        files.forEach(f => {\n          const url = URL.createObjectURL(f);\n          this.draftImgs.push(url);\n\n          // —— 在光标处插入一张 <img.inline-sticker> —— \n          this.restoreCaret();\n          const sel = window.getSelection();\n          if (!sel || !sel.rangeCount) return;\n          const range = sel.getRangeAt(0);\n          const img = document.createElement('img');\n          img.src = url;\n          img.className = 'inline-sticker';\n          img.contentEditable = false;\n          range.insertNode(img);\n          range.collapse(false);\n\n          // 在图片后插入一个空格，保持输入流畅\n          this.insertAtCaret(' ');\n        });\n\n        // DOM 变动后，同步更新 markdown 内容\n        this.handleInput({ target: this.$refs.postInput });\n      }\n\n      // ② “预览区” —— 传统的图片预览模式\n      else {\n        this.draftImgs = [];\n        files.forEach(f => this.draftImgs.push(URL.createObjectURL(f)));\n      }\n    },\n\n    removeDraft(i) { this.draftImgs.splice(i, 1); },\n    autoResize(e) {\n      const el = e.target;\n      el.style.height = 'auto';\n      el.style.height = el.scrollHeight + 'px';\n    },\n    /* —— 光标缓存 —— */\n    saveCaret() {\n      const sel = window.getSelection()\n      if (sel && sel.rangeCount) {\n        this.savedRange = sel.getRangeAt(0).cloneRange()\n      }\n    },\n    restoreCaret() {\n      const box = this.$refs.postInput\n      // 1) 没缓存 2) 缓存已经跑到别的元素 → 统一放到文本末尾\n      if (!this.savedRange || !box.contains(this.savedRange.startContainer)) {\n        this.savedRange = document.createRange()\n        this.savedRange.selectNodeContents(box)\n        this.savedRange.collapse(false)\n      }\n      const sel = window.getSelection()\n      sel.removeAllRanges()\n      sel.addRange(this.savedRange)\n      box.focus()\n    },\n    // 开始编辑：把原 post 内容加载到发布区，不改变原 ts\n    startEdit(post) {\n      this.editingPost = post;\n      this.newPostText = post.txt;\n      this.draftImgs = [...post.imgs];\n      this.newPostPlace = post.place || '';\n\n      // 把 contenteditable 区同步内联文本（支持渲染 markdown 图片和换行）\n      if (this.$refs.postInput) {\n        const html = this.renderText(post.txt).replace(/\\n/g, '<br>');\n        this.$refs.postInput.innerHTML = html;\n      }\n\n      // 跳转到投稿区\n      this.scrollTo('moments');\n    },\n\n    publishPost() {\n      if (!this.currentUser) return alert('请先登录');\n\n      this.isPublishing = true;\n      this.isListLoading = true;\n\n      const txt = this.newPostText.trim();\n\n      if (!txt && !this.draftImgs.length) {\n        this.isPublishing = false;\n        this.isListLoading = false;\n        return alert('写点文字或选张图片吧~');\n      }\n\n      if (this.editingPost) {\n        // 编辑已有动态：更新文本、图片、地点，不改 ts\n        this.editingPost.txt = txt;\n        this.editingPost.imgs = [...this.draftImgs];\n        this.editingPost.imgPlaces = this.draftImgs.map(() => null);\n        this.editingPost.place = this.newPostPlace;\n\n        // 更新本地存储（注意：编辑时不清空 imgs）\n        localStorage.setItem('posts', JSON.stringify(this.posts));\n\n        this.editingPost = null;\n      } else {\n        // 发布新动态\n        const post = {\n          id: crypto.randomUUID(),\n          uid: this.currentUser,\n          txt,\n          place: this.newPostPlace,\n          imgPlaces: this.draftImgs.map(() => null),\n          imgs: [...this.draftImgs],\n          ts: Date.now(),\n          views: 0,\n          cmts: []\n        };\n\n        this.posts.unshift(post);\n\n        // 新发布的清空 imgs 保存\n        localStorage.setItem('posts', JSON.stringify(this.posts.map(p => ({ ...p, imgs: [] }))));\n      }\n\n      // 清空输入状态\n      this.newPostText = '';\n      this.newPostPlace = '';\n      this.draftImgs = [];\n\n      // 手动清空 contenteditable\n      if (this.$refs.postInput) {\n        this.$refs.postInput.innerHTML = '';\n      }\n\n      setTimeout(() => {\n        this.isPublishing = false;\n        this.isListLoading = false;\n        this.editingPost = null;\n        // this.scrollTo('post-list');\n      }, 300);\n    },\n\n    handlePostEnter(e) {\n      if (!e.shiftKey) { e.preventDefault(); this.publishPost(); }\n    },\n    deletePost(p) {\n      if (confirm('撤回这条动态？')) {\n        this.posts = this.posts.filter(x => x.id !== p.id);\n        localStorage.setItem('posts', JSON.stringify(this.posts.map(q => ({ ...q, imgs: [] }))));\n      }\n    },\n    /* === 自定义表情 === */\n    toggleStickerPicker() {\n      if (!this.stickerPickerVisible) {      // 正在“打开”面板\n        this.saveCaret();                    // 先记住 Range\n      }\n      this.stickerPage = 0;\n      this.stickerPickerVisible = !this.stickerPickerVisible;\n    },\n\n    // 👉 下一页贴图（只有当前页未满时才生效）\n    nextStickerPage() {\n      if ((this.stickerPage + 1) * this.stickersPerPage < this.stickers.length)\n        this.stickerPage++\n    },\n\n    // 👉 上一页贴图（第一页时无效）\n    prevStickerPage() {\n      if (this.stickerPage > 0) this.stickerPage--\n    },\n\n    // 👉 在 textarea 光标处插入文本（适用于贴图插入、emoji 插入等）\n    insertAtCaret(txt) {\n      const sel = window.getSelection()\n      if (!sel || !sel.rangeCount) return\n      const range = sel.getRangeAt(0)\n      range.deleteContents()\n      range.insertNode(document.createTextNode(txt))\n      // 把光标移到新插入文本后面\n      range.collapse(false)\n      sel.removeAllRanges()\n      sel.addRange(range)\n      // 同步到数据\n      this.newPostText = this.$refs.postInput.innerText\n    },\n\n\n    selectSticker(s) {\n      /* ---------- 1. 让光标回到用户刚才的位置 ---------- */\n      this.restoreCaret()                 // ← 前面 saveCaret() 过\n\n      const sel = window.getSelection()\n      if (!sel || !sel.rangeCount) return\n      const range = sel.getRangeAt(0)\n\n      /* ---------- 2. 插入 <img> 节点 ---------- */\n      const img = document.createElement('img')\n      img.src = s.url\n      img.className = 'inline-sticker'\n      img.contentEditable = false        // 不可被直接编辑\n      range.deleteContents()              // 把可能的选中内容清掉\n      range.insertNode(img)\n\n      /* ---------- 3. 在 <img> 后补一个空格，再把光标放到空格后 ---------- */\n      const space = document.createTextNode(' ')\n      range.setStartAfter(img)\n      range.insertNode(space)\n\n      const newRange = document.createRange()\n      newRange.setStart(space, 1)\n      newRange.collapse(true)\n      sel.removeAllRanges()\n      sel.addRange(newRange)\n      this.savedRange = newRange.cloneRange()   // 更新缓存，方便继续插\n\n      /* ---------- 4. 用现成的 handleInput 把 DOM → markdown ---------- */\n      this.handleInput({ target: this.$refs.postInput })\n\n      /* ---------- 5. 关面板 ---------- */\n      this.stickerPickerVisible = false\n    },\n\n\n    renderText(raw) {\n      // 把换行变 <br>，把 markdown 图片变 <img>\n      return raw\n        .replace(/!\\[\\]\\((.+?)\\)/g, (_, u) => `<img class=\"inline-sticker\" src=\"${u}\">`)\n        .replace(/\\n/g, '<br>')\n    },\n\n    handleKeydown(event) {\n      if (event.key !== 'Backspace') return;\n      const sel = window.getSelection();\n      if (!sel || !sel.rangeCount) return;\n\n      const range = sel.getRangeAt(0);\n      if (!range.collapsed) return;\n\n      let nodeBefore;\n      const { startContainer, startOffset } = range;\n\n      // 如果光标在文本节点开头，检查前一个兄弟节点\n      if (startContainer.nodeType === Node.TEXT_NODE && startOffset === 0) {\n        nodeBefore = startContainer.previousSibling;\n      }\n      // 如果光标在元素节点中，检查 startOffset 前的子节点\n      else if (startContainer.nodeType === Node.ELEMENT_NODE && startOffset > 0) {\n        nodeBefore = startContainer.childNodes[startOffset - 1];\n      }\n\n      // 检查是否是贴图 IMG，并执行删除\n      if (\n        nodeBefore &&\n        nodeBefore.nodeType === Node.ELEMENT_NODE &&\n        nodeBefore.tagName === 'IMG' &&\n        nodeBefore.classList.contains('inline-sticker')\n      ) {\n        event.preventDefault();\n        nodeBefore.remove(); // 删除该 IMG\n\n        // 将光标设置到原位置\n        const newRange = document.createRange();\n        newRange.setStart(startContainer, Math.max(0, startOffset - 1));\n        newRange.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(newRange);\n\n        // 触发输入处理，更新 markdown 内容\n        this.handleInput({ target: this.$refs.postInput });\n      }\n    },\n\n    // Modal: 确认修改图片地点\n    openPlaceModal(type, target) {\n      this.placeModalType = type;\n      this.placeModalTarget = target;\n      this.showPlaceModal = true;\n      if (type === 'image') {\n        this.editingImgIdx = this.modalIndex;\n        this.placeModalValue = target.imgPlaces[this.modalIndex] ?? target.place ?? '';\n      } else {\n        this.placeModalValue = target.place ?? '';\n      }\n    },\n    // 取消\n    closePlaceModal() {\n      this.showPlaceModal = false;\n      this.placeModalTarget = null;\n    },\n    // 确认，保存到 localStorage\n    confirmPlaceEdit() {\n      const val = this.placeModalValue;\n      if (this.placeModalType === 'image') {               // ⑨ 单张\n        this.placeModalTarget.imgPlaces[this.editingImgIdx] = val || null;\n      } else {                                             // 动态\n        const old = this.placeModalTarget.place;\n        this.placeModalTarget.place = val || '';\n        // 把仍在“继承”旧地点的图片同步到新地点（继承 = imgPlace 为 null）\n        this.placeModalTarget.imgPlaces = this.placeModalTarget.imgPlaces.map(p =>\n          p === null ? null : p\n        );\n      }\n\n      // 持久化\n      // 只调用一次 setItem，把整个 this.posts 序列化\n      localStorage.setItem('posts', JSON.stringify(this.posts));\n      this.updateModalMeta();        // 如果正在看 Modal，立即刷新\n      this.closePlaceModal();\n    },\n\n\n    isRead(id) { return this.readIds.has(id); },\n\n    /* ========== 图片 Modal ========== */\n    openModal(post, startIndex = 0) {               // ③ 只传 post 和索引\n      // —— 保底：确保这一条动态带 imgPlaces —— \n      if (!Array.isArray(post.imgPlaces) || post.imgPlaces.length !== post.imgs.length) {\n        post.imgPlaces = post.imgs.map(() => null);\n      }\n\n      this.modalPost = post;\n      this.modalImgs = post.imgs;\n      this.modalIndex = startIndex;\n      this.modalZoom = 1;\n      this.showModal = true;\n      this.showInfoSidebar = false;\n      this.showImageOptions = false;\n\n      this.updateModalMeta();                        // 初始页脚文字\n    },\n    // ④ 把页脚文字封装成单独函数\n    updateModalMeta() {\n      if (!this.modalPost) {\n        return;\n      }\n      const p = this.modalPost;\n      const place = p.imgPlaces?.[this.modalIndex] ?? p.place ?? '';\n      const d = new Date(p.ts);\n      const date = d.toLocaleDateString();\n      const time = d.toLocaleTimeString();\n      this.modalMeta = place ? `${date} ${time} · ${place}` : `${date} ${time}`;\n    },\n\n    prevModalImg() {\n      if (this.modalIndex > 0) {\n        this.modalIndex--;\n        this.updateModalMeta();\n      }\n    },\n    nextModalImg() {\n      if (this.modalIndex < this.modalImgs.length - 1) {\n        this.modalIndex++;\n        this.updateModalMeta();\n      }\n    },\n    closeModal() { this.showModal = false; },\n    // Modal 里：编辑当前 post 的地点\n    editImagePlace() {\n      const newPlace = prompt('请输入新的地点', this.modalPost.place);\n      if (newPlace != null) {\n        this.modalPost.place = newPlace;\n        // 同步回 localStorage\n        localStorage.setItem('posts', JSON.stringify(this.posts));\n        this.modalMeta = `${new Date(this.modalPost.ts).toISOString().slice(0, 10)} · ${newPlace}`;\n      }\n      this.showImageOptions = false;\n    },\n\n    toggleInfoSidebar() {\n      this.showInfoSidebar = !this.showInfoSidebar;\n    },\n\n    // 在 <img> load 时记录尺寸\n    handleImgLoad(e) {\n      const { naturalWidth: w, naturalHeight: h } = e.target;\n      this.infoSize = `${w} × ${h}`;\n    },\n\n    closeInfoSidebar() {\n      this.showInfoSidebar = false;\n    },\n    /* ========= = 图片缩放 ========== */\n    onWheelZoom(e) {\n      const delta = e.deltaY > 0 ? -0.1 : 0.1;         // 上滚放大、下滚缩小\n      this.modalZoom = this.clampZoom(this.modalZoom + delta);\n    },\n\n    clampZoom(v) {                                      // 辅助函数：限制范围\n      return Math.min(this.maxZoom, Math.max(this.minZoom, parseFloat(v.toFixed(2))));\n    },\n\n\n    // Modal 里：删除当前图片\n    deleteImage() {\n      if (!confirm('确定要删除这张图片吗？')) {\n        return; // 用户点击“取消”就直接退出\n      }\n      this.modalPost.imgs.splice(this.modalIndex, 1);\n      this.modalPost.imgPlaces.splice(this.modalIndex, 1);   // ⑩ 同步\n      this.modalImgs.splice(this.modalIndex, 1);\n      // 更新 storage\n      localStorage.setItem('posts', JSON.stringify(this.posts));\n      if (this.modalIndex >= this.modalImgs.length) this.modalIndex = this.modalImgs.length - 1;\n      this.showImageOptions = false;\n      if (this.modalImgs.length === 0) {\n        this.showModal = false;\n      }\n\n    },\n\n    // 动态列表里：编辑 post.place\n    editPostPlace(post) {\n      const newPlace = prompt('请输入新的地点', post.place);\n      if (newPlace != null) {\n        post.place = newPlace;\n        localStorage.setItem('posts', JSON.stringify(this.posts));\n      }\n      this.postOptionsPost = null;\n    },\n    // 点击“加载更多”\n    updateLoadBehavior() {\n      window.removeEventListener('scroll', this.onScrollLoad);\n      if (this.loadMode === 'auto') {\n        window.addEventListener('scroll', this.onScrollLoad);\n      }\n    },\n    onScrollLoad() {\n      const scrollBottom = window.innerHeight + window.scrollY;\n      const listBottom = document.getElementById('moments-list').offsetHeight;\n      // 如果滚动到接近底部，就加载更多\n      if (scrollBottom >= listBottom - 200) {\n        this.loadMore();\n      }\n    },\n    loadMore() {\n      this.loadedCount += this.loadStep;\n    },\n\n\n    /* ========== 评论 ========== */\n    sendComment(p) {\n      const t = this.newComment[p.id];\n      if (t && t.trim()) { p.cmts.push({ who: this.currentUser, txt: t.trim() }); this.newComment[p.id] = ''; }\n    },\n    deleteComment(p, i) { if (confirm('确定撤回该评论吗？')) p.cmts.splice(i, 1); },\n    editComment(p, i) {\n      const old = p.cmts[i].txt, neo = prompt('编辑评论：', old);\n      if (neo !== null && neo.trim() && neo !== old) p.cmts[i].txt = neo.trim();\n    },\n    handleCommentEnter(e, post) {\n      if (e.shiftKey) return;\n      this.sendComment(post);\n    },\n\n    /* ========== 背景 ========== */\n    changeBackground(e) {\n      const f = e.target.files[0]; if (!f) return;\n      const r = new FileReader();\n      r.onload = ev => { this.bgSrc = ev.target.result; localStorage.setItem('bgSrc', this.bgSrc); };\n      r.readAsDataURL(f);\n    },\n\n    clearBackground() {\n      this.bgSrc = '';\n      localStorage.removeItem('bgSrc');\n    },\n    saveBgOpacity() { localStorage.setItem('bgOpacity', this.bgOpacity); },\n    saveBgBlur() { localStorage.setItem('bgBlur', this.bgBlur); },\n\n    /* ========== 个人资料 / 勋章 ========== */\n    changeAvatar(e) {\n      const f = e.target.files[0]\n      if (!f) return\n      const r = new FileReader()\n      r.onload = ev => {\n        const url = ev.target.result\n        // —— 更新响应式 avatarMap，让所有用到它的地方都自动刷新 —— \n        this.avatarMap[this.currentUser] = url\n        // —— 同步到 localStorage，保证刷新或下次登录还能继续用 —— \n        localStorage.setItem('avatar-' + this.currentUser, url)\n      }\n      r.readAsDataURL(f)\n    },\n\n\n    updateDisplayName() { localStorage.setItem('displayName_' + this.currentUser, this.localDisplayName); },\n    openBadgeModal() { this.showBadgeModal = true; },\n    closeBadgeModal() { this.showBadgeModal = false; },\n    confirmBadge() {\n      // 直接赋值，触发响应式\n      this.userBadges[this.currentUser] = this.selectedBadge;\n      localStorage.setItem('userBadges', JSON.stringify(this.userBadges));\n      alert('勋章已更换');\n      this.closeBadgeModal();\n    },\n\n\n    /* ========== 密码修改 ========== */\n    openPasswordModal() { this.showPasswordModal = true; this.oldPassword = this.newPassword = this.confirmPassword = ''; },\n    closePasswordModal() { this.showPasswordModal = false; },\n    async changePassword() {\n      const key = `password_${this.currentUser}`;\n      const saltKey = `salt_${this.currentUser}`;\n      const oldPwd = this.oldPassword;\n      const newPwd = this.newPassword;\n      const confirm = this.confirmPassword;\n\n      const storedHash = localStorage.getItem(key);\n      const salt = localStorage.getItem(saltKey);\n      if (!storedHash || !salt) {\n        return alert('请先登录并设置密码');\n      }\n\n      const sha256Hex = async (str) => {\n        const buf = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(str));\n        return Array.from(new Uint8Array(buf))\n          .map(b => b.toString(16).padStart(2, '0')).join('');\n      };\n\n      const saltedHash = async (pwd) => {\n        const h1 = await sha256Hex(pwd + salt);\n        return sha256Hex(h1 + salt);\n      };\n\n      const oldHash = await saltedHash(oldPwd);\n      if (oldHash !== storedHash) {\n        return alert('旧密码不正确！');\n      }\n\n      if (newPwd !== confirm) {\n        return alert('两次输入的新密码不一致！');\n      }\n      if (newPwd.length < 4) {\n        return alert('新密码长度至少 4 位！');\n      }\n\n      const newHash = await saltedHash(newPwd);\n      localStorage.setItem(key, newHash);\n      alert('密码修改成功！');\n      this.closePasswordModal();\n    },\n\n    /* ========== Admin 密码设置 ========== */\n    openAdminPwdModal(uid) {\n      this.adminTargetUid = uid;\n      this.adminNewPassword = '';\n      this.adminPwdModalVisible = true;\n    },\n    closeAdminPwdModal() {\n      this.adminPwdModalVisible = false;\n    },\n    addAllowedUid(uid) {\n      const u = (uid || '').trim();\n      if (!u) return alert('请输入 UID');\n      const list = Array.from(new Set([...this.allowedUids, u])); // ← 用当前响应式数据\n      setAllowedUids(list);              // 写入 localStorage\n      this.allowedUids = list;           // 更新本地响应式变量（自动刷新模板）\n      this.newAdminUid = '';             // 清空输入框\n      alert(`已添加 UID：${u}`);\n    },\n\n    removeAllowedUid(uid) {\n      if (!confirm(`确认移除 ${uid}？`)) return;\n      const list = this.allowedUids.filter(u => u !== uid); // ← 用当前响应式数据\n      setAllowedUids(list);              // 写入 localStorage\n      this.allowedUids = list;           // 更新本地响应式变量\n      alert(`已移除 ${uid}`);\n    },\n\n    resetPassword(uid) {\n      if (!confirm(`将清除 ${uid} 的本地密码，下次登录需重设？`)) return;\n      localStorage.removeItem(`password_${uid}`);\n      localStorage.removeItem(`salt_${uid}`);\n      alert(`已清除 ${uid} 的本地密码`);\n    },\n\n\n    async confirmAdminSetPassword() {\n      if (this.adminNewPassword.length < 4) {\n        return alert('新密码长度至少 4 位');\n      }\n      // 假设你已有 getOrCreateSalt(uid) 和 saltedHash(pwd, salt) 工具\n      const salt = getOrCreateSalt(this.adminTargetUid);\n      const hash = await saltedHash(this.adminNewPassword, salt);\n      localStorage.setItem(`password_${this.adminTargetUid}`, hash);\n      alert('管理员密码已设置');\n      this.closeAdminPwdModal();\n    },\n\n\n    /* ========== 桌宠拖拽 ========== */\n    dragPet(e) {\n      const pet = this.$refs.pet;\n      const ox = e.offsetX, oy = e.offsetY;\n      document.onmousemove = ev => { pet.style.left = (ev.pageX - ox) + 'px'; pet.style.top = (ev.pageY - oy) + 'px'; };\n      document.onmouseup = () => document.onmousemove = null;\n    },\n\n    /* ========== 主题 ========== */\n    toggleTheme() {\n      this.theme = this.theme === 'light' ? 'dark' : 'light';\n      document.body.classList.toggle('dark', this.theme === 'dark');\n      localStorage.setItem('theme', this.theme);\n    }\n  },\n\n  mounted() {\n    this.updateLoadBehavior();\n    const ctx = require.context(\n      '@/assets/stickers/原神表情', // 表情图的根目录\n      true,                        // 递归子目录\n      /\\.png$/                     // 匹配所有 .png 文件\n    );\n    this.stickers = ctx.keys().map((key, idx) => ({\n      id: 'sticker-' + idx,\n      url: ctx(key)                // ctx(key) 返回图片的 URL\n    }));\n\n\n    // ✅ 统一绑定全局点击事件（只注册一次）\n    document.addEventListener('click', this.handleGlobalClick);\n\n    // 同步主题\n    document.body.classList.toggle('dark', this.theme === 'dark');\n\n    // 确保所有 post 都初始化好 imgPlaces\n    this.posts.forEach(p => {\n      if (!Array.isArray(p.imgPlaces) || p.imgPlaces.length !== p.imgs.length) {\n        p.imgPlaces = p.imgs.map(() => null);\n      }\n    });\n\n\n  },\n  beforeUnmount() {\n    document.removeEventListener('click', this.handleGlobalClick);\n    window.removeEventListener('scroll', this.onScrollLoad);\n  },\n\n};\n</script>\n<style>\n:root {\n  --bg-light: #f5f5f5;\n  --bg-dark: #0f0f11;\n  --card-light: rgba(255, 255, 255, .75);\n  --card-dark: rgba(30, 30, 31, .55);\n  --text-light: #333;\n  --text-dark: #d2d2d2;\n  --primary: #4a90e2;\n  --accent: #e91e63;\n  --radius: 14px;\n  --blur: 16px;\n  --glass-border: 1px solid rgba(0, 0, 0, 0.1);\n  --login-bg: #f5f5f5;\n  --login-text: #333;\n  --login-border: rgba(0, 0, 0, 0.1);\n  --bg-opacity: .35;\n  --bg-blur: 4px;\n  --card-hover-light: rgba(255, 255, 255, 0.9);\n}\n\nbody.dark {\n  background: var(--bg-dark);\n  color: var(--text-dark);\n  --login-bg: #1c1c1c;\n  --login-text: #d2d2d2;\n  --login-border: rgba(255, 255, 255, 0.1);\n  --card-hover-dark: rgba(60, 60, 61, 0.55);\n}\n\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  font-family: Inter, \\\"PingFang SC\\\", sans-serif;\n  transition: .3s background-color, .3s color\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n  cursor: pointer\n}\n\n.hidden {\n  display: none\n}\n\n/* 背景层 */\n#bgLayer {\n  position: fixed;\n  inset: 0;\n  z-index: -1;\n  pointer-events: none;\n  background: center/cover no-repeat;\n  opacity: var(--bg-opacity);\n  filter: blur(var(--bg-blur));\n  transition: .3s opacity, .3s filter\n}\n\n/* 导航栏 */\nnav {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: rgba(255, 255, 255, 0.18);\n  backdrop-filter: blur(20px);\n  border-bottom: var(--glass-border);\n  padding: 14px 24px\n}\n\nbody.dark nav {\n  background: rgba(0, 0, 0, 0.22);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1)\n}\n\n.logo {\n  font-weight: 700;\n  font-size: 20px\n}\n\n.menu {\n  display: flex;\n  gap: 18px;\n  align-items: center\n}\n\n.menu a {\n  padding: 6px 12px;\n  border-radius: var(--radius);\n  transition: .25s background\n}\n\n.menu a:hover {\n  background: rgba(0, 0, 0, 0.08)\n}\n\nbody.dark .menu a:hover {\n  background: rgba(255, 255, 255, 0.12)\n}\n\n.red {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: var(--accent);\n  margin-left: 4px\n}\n\n/* ---------- 玻璃背景·系统原生下拉 ---------- */\n/* 让 select 看起来和 .btn-publish 一样，且不显示箭头 */\n.np-toolbar select,\n.setting-item select {\n  appearance: none;\n  /* 还原原生布局 */\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  background: #333;\n  /* 跟 .btn-publish 一致的深灰背景 */\n  color: #fff;\n  /* 白色文字 */\n  border: none;\n  /* 去掉边框 */\n  border-radius: var(--radius);\n  padding: 6px 12px;\n  /* 调整内边距 */\n  font-size: 14px;\n  cursor: pointer;\n  background-image: none !important;\n}\n\n/* 深色模式下保持同样效果（如果你有暗色主题也可以留空） */\nbody.dark .np-toolbar select,\nbody.dark .setting-item select {\n  background: #333;\n  color: #fff;\n}\n\n/* 投稿按钮改为横向布局并加宽 */\n.menu .nav-item.nav-item-submit {\n  flex-direction: row;      /* 横向排列 icon + 文字 */\n  align-items: center;      /* 垂直居中对齐 */\n  gap: 4px;                 /* 图标和文字间距 */\n  padding: 6px 12px;        /* 左右内边距增大点 */\n  min-width: 64px;          /* 最小宽度，你可以按需调大 */\n}\n\n/* 聚焦态用主题色框住 */\n.np-toolbar select:focus,\n.setting-item select:focus {\n  outline: none;\n  border-color: var(--primary);\n  box-shadow: 0 0 0 2px var(--primary-alpha, rgba(74, 144, 226, 0.2));\n}\n\n/* —— Option 外观 —— */\n/* 纯色底，保证对比 */\n.np-toolbar select option,\n.setting-item select option {\n  background: inherit;\n  /* 跟随父 select 的底色 */\n  color: inherit;\n  padding: 0.5em 1em;\n  line-height: 1.6;\n}\n\n/* Hover／选中反馈 */\n.np-toolbar select option:hover,\n.setting-item select option:hover {\n  background: rgba(74, 144, 226, 0.1);\n  /* 主色 10% 透明度 */\n}\n\n/* 暗色下的下拉选项：深灰 + 亮灰文字 */\nbody.dark .np-toolbar select option,\nbody.dark .setting-item select option {\n  background: #2a2a2a;\n  /* 深灰：比纯黑柔和 */\n  color: #e0e0e0;\n  /* 亮灰，减少眼睛疲劳 */\n}\n\n/* hover 时微微提亮，给出反馈 */\nbody.dark .np-toolbar select option:hover,\nbody.dark .setting-item select option:hover {\n  background: #3a3a3a;\n  /* Hover 深灰，比默认提亮约 10% */\n}\n\n\n\n/* 获得焦点时给 1px 黑边就够 */\n.np-toolbar select:focus,\n.setting-item select:focus {\n  outline: none;\n  border: 1px solid #000;\n}\n\n/* 按钮 */\n.btn-ghost,\n.btn-publish {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 20px;\n  font-size: 14px;\n  border-radius: var(--radius);\n  cursor: pointer;\n  transition: .25s background, .2s transform\n}\n\n.btn-ghost {\n  background: var(--card-light);\n  border: var(--glass-border);\n  backdrop-filter: blur(calc(var(--blur)/2))\n}\n\nbody.dark .btn-ghost {\n  background: rgba(255, 255, 255, 0.08);\n  border-color: rgba(255, 255, 255, 0.15)\n}\n\n.btn-ghost:hover {\n  background: rgba(0, 0, 0, 0.08)\n}\n\nbody.dark .btn-ghost:hover {\n  background: rgba(255, 255, 255, 0.15)\n}\n\n.btn-publish {\n  background: #333;\n  color: #fff;\n  border: none\n}\n\n.btn-publish:hover {\n  transform: scale(1.03);\n  background: #2a2a2a\n}\n\nbody.dark .btn-publish {\n  background: #444\n}\n\nbody.dark .btn-publish:hover {\n  background: #3a3a3a\n}\n\n/* 统一卡片 */\n.card {\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  border-radius: var(--radius);\n  border: var(--glass-border);\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);\n  padding: 18px\n}\n\nbody.dark .card {\n  background: var(--card-dark);\n  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.45)\n}\n\n/* 页面标题 */\nh2.big {\n  margin: 70px 0 22px;\n  font-size: 26px\n}\n\n/* 投稿 */\n#moments {\n  padding: 40px 8%\n}\n\n.np-top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px\n}\n\n.np-toolbar {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  align-items: center\n}\n\n.np-top textarea {\n  resize: none;\n  height: 78px;\n  border-radius: var(--radius);\n  border: var(--glass-border);\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  padding: 10px;\n  font-size: 14px;\n  width: 100%\n}\n\nbody.dark .np-top textarea {\n  background: var(--card-dark);\n  color: var(--text-dark)\n}\n\n.char-count {\n  font-size: 12px;\n  color: #888\n}\n\n.np-preview {\n  display: flex;\n  gap: 8px;\n  overflow-x: auto\n}\n\n.np-preview img {\n  width: 70px;\n  height: 50px;\n  border-radius: 8px;\n  object-fit: cover\n}\n\n.np-preview .remove {\n  position: absolute;\n  top: -6px;\n  right: -6px;\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: rgba(0, 0, 0, 0.6);\n  color: #fff;\n  font-size: 14px;\n  line-height: 18px;\n  text-align: center;\n  cursor: pointer;\n  transition: background .2s\n}\n\n.np-preview .remove:hover {\n  background: rgba(0, 0, 0, 0.85)\n}\n\n.np-preview .thumb {\n  position: relative;\n}\n\n.np-preview {\n  display: flex;\n  gap: 8px;\n  overflow-x: auto;\n  margin-top: 8px;\n  /* ← 增加这一句 */\n}\n\n\n/* 动态列表 */\n#moments-list {\n  display: flex;\n  flex-direction: column;\n  gap: 26px\n}\n\n.post .photos {\n  display: flex;\n  gap: 8px;\n  margin-top: 8px;\n  overflow-x: auto\n}\n\n.post .photos img {\n  width: 96px;\n  height: 68px;\n  border-radius: 8px;\n  object-fit: cover\n}\n\n.post .body p {\n  margin: 0 0 6px;\n  white-space: pre-wrap;\n  line-height: 1.5\n}\n\n.post small {\n  display: block;\n  margin-top: 4px;\n  font-size: 12px;\n  color: #888\n}\n\n.actions {\n  display: flex;\n  gap: 8px;\n  font-size: 13px;\n  margin-top: 8px;\n  align-items: center;\n  color: var(--primary)\n}\n\n.actions svg {\n  width: 18px;\n  height: 18px;\n  fill: currentColor\n}\n\n.more {\n  cursor: pointer;\n  font-size: 18px;\n  padding: 2px 6px;\n  border-radius: 50%;\n  transition: .2s background\n}\n\n.more:hover {\n  background: rgba(0, 0, 0, 0.08)\n}\n\n.post .head {\n  position: relative;\n}\n\n.post .more {\n  position: relative;\n  z-index: 101;\n  /* 略高于 .post-options */\n}\n\n.post-options {\n  position: absolute;\n  top: calc(100% + 4px);\n  left: 0;\n  background: var(--card-light);\n  padding: 4px;\n  border-radius: 6px;\n  backdrop-filter: blur(calc(var(--blur)/2));\n  display: flex;\n  flex-direction: column;\n  z-index: 100;\n  min-width: max-content;\n}\n\n.more-wrapper {\n  position: relative;\n  display: inline-block;\n  /* 让宽度包裹按钮 */\n}\n\nbody.dark .post-options {\n  background: var(--card-dark);\n}\n\n.post-options button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  text-align: left;\n  padding: 4px 8px;\n}\n\n#moments-list .post.card {\n  width: 100%;\n  max-width: 680px;\n  margin: 0 auto;\n  padding: 24px;\n  /* 更舒适的PC内边距 */\n}\n\n.post-options .edit-place-btn {\n  /* same “glass” button look as .trash-btn */\n  background: rgba(120, 120, 120, 0.15);\n  border: 1px solid rgba(200, 200, 200, 0.4);\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  backdrop-filter: blur(4px);\n  box-shadow: 0 0 6px rgba(120, 120, 120, 0.6);\n  cursor: pointer;\n  transition: transform .1s, box-shadow .2s, background .2s;\n}\n\n.post-options .edit-place-btn:hover {\n  background: rgba(120, 120, 120, 0.25);\n  transform: scale(1.1);\n  box-shadow: 0 0 12px rgba(120, 120, 120, 0.8);\n}\n\n/* make the SVG inside fill currentColor & size nicely */\n.post-options .edit-place-btn svg {\n  width: 16px;\n  height: 16px;\n  stroke: currentColor;\n}\n\n\n\n\n/* 评论 */\n.comments {\n  margin-top: 8px;\n  padding-top: 4px;\n  border-top: 1px solid rgba(0, 0, 0, 0.1)\n}\n\n.comment {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 4px 0;\n  padding: 6px 8px;\n  border-radius: 6px;\n  background: rgba(0, 0, 0, 0.03);\n  font-size: 13px\n}\n\nbody.dark .comment {\n  background: rgba(255, 255, 255, 0.05)\n}\n\n.comment-edit,\n.comment-delete {\n  cursor: pointer;\n  padding: 2px 6px;\n  border-radius: 4px;\n  transition: background .2s\n}\n\n.comment-edit:hover,\n.comment-delete:hover {\n  background: rgba(0, 0, 0, 0.1)\n}\n\n.c-input {\n  display: flex;\n  gap: 8px;\n  margin-top: 8px\n}\n\n.c-input input {\n  flex: 1;\n  padding: 6px 10px;\n  border-radius: var(--radius);\n  border: var(--glass-border);\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  font-size: 14px;\n  transition: box-shadow .2s\n}\n\nbody.dark .c-input input {\n  background: var(--card-dark);\n  color: var(--text-dark)\n}\n\n.c-input input:focus {\n  outline: none;\n  /* 去掉浏览器默认的白色 outline */\n  box-shadow: none;\n  /* 关闭原来的阴影 */\n  border: 1px solid #000;\n  /* 只要 1px 黑色边框 */\n}\n\n/* 相册 */\n#album {\n  padding: 40px 8%\n}\n\n.album-tabs {\n  display: flex;\n  gap: 16px;\n  margin-bottom: 18px\n}\n\n.album-tabs button {\n  background: none;\n  border: none;\n  font-weight: 600;\n  cursor: pointer;\n  font-size: 15px;\n  padding: 6px 10px;\n  border-radius: var(--radius);\n  transition: .25s background\n}\n\n.album-tabs .on {\n  background: rgba(0, 0, 0, 0.08)\n}\n\nbody.dark .album-tabs button:hover {\n  background: rgba(255, 255, 255, 0.1)\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  gap: 18px\n}\n\n.photo {\n  border-radius: var(--radius);\n  overflow: hidden;\n  position: relative;\n  cursor: pointer\n}\n\n.photo img {\n  width: 100%;\n  height: 120px;\n  object-fit: cover;\n  transition: .3s transform\n}\n\n.photo:hover img {\n  transform: scale(1.05)\n}\n\n.photo span {\n  position: absolute;\n  bottom: 6px;\n  left: 6px;\n  background: rgba(0, 0, 0, 0.45);\n  color: #fff;\n  font-size: 12px;\n  padding: 2px 6px;\n  border-radius: var(--radius)\n}\n\nfieldset {\n  border: none;\n  padding: 0;\n  margin: 0 0 24px\n}\n\nlegend {\n  font-weight: 600;\n  font-size: 15px;\n  margin-bottom: 8px\n}\n\n.setting-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 12px 0\n}\n\n.setting-item+.setting-item {\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  padding-top: 12px\n}\n\nbody.dark .setting-item+.setting-item {\n  border-top: 1px solid rgba(255, 255, 255, 0.1)\n}\n\n.setting-item input[type=text] {\n  width: 60%;\n  padding: 6px;\n  border-radius: var(--radius);\n  border: var(--glass-border);\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2))\n}\n\nbody.dark .setting-item input[type=text] {\n  background: var(--card-dark);\n  color: var(--text-dark)\n}\n\n/* 重写所有文字输入框和多行输入框的聚焦效果 */\n.setting-item input[type=\"text\"]:focus,\n.np-top textarea:focus {\n  outline: none;\n  /* 去掉默认 outline */\n  box-shadow: none;\n  /* 去掉阴影 */\n  border: 1px solid #000;\n  /* 1px 黑色实线边框 */\n}\n\n/* Badge */\n.badge {\n  font-size: 10px;\n  padding: 2px 4px;\n  border-radius: 4px;\n  margin-left: 4px;\n  display: inline-block;\n  min-width: 40px;\n  text-align: center;\n  color: #fff\n}\n\n.badge.best {\n  background: linear-gradient(270deg, #4a90e2, #e91e63, #4a90e2);\n  background-size: 400% 400%;\n  animation: gradient 10s ease infinite\n}\n\n.badge.catgirl {\n  background: linear-gradient(135deg, #ff87c3, #ffb6c1)\n}\n\n.badge.badge-none {\n  background: none;\n  border: 1px dashed #aaa;\n  color: #aaa\n}\n\n@keyframes gradient {\n  0% {\n    background-position: 0% 50%\n  }\n\n  50% {\n    background-position: 100% 50%\n  }\n\n  100% {\n    background-position: 0% 50%\n  }\n}\n\n.admin-row {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.admin-uid {\n  min-width: 100px;\n  font-weight: bold;\n}\n\n.admin-buttons {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n/* Modal 通用 */\n.modal {\n  z-index: 9999;\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.55);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s ease\n}\n\n.modal.show {\n  opacity: 1;\n  visibility: visible\n}\n\n/* 1. 固定 Modal 大小：替换原有 .box 定义 */\n.box {\n  background: var(--card-light);\n  backdrop-filter: blur(var(--blur));\n  border: var(--glass-border);\n  border-radius: var(--radius);\n\n  /* 固定宽度，高度自适应，但在小屏幕时不超出 */\n  width: 600px;\n  max-width: 90vw;\n  max-height: 80vh;\n\n  overflow: auto;\n  padding: 20px;\n  position: relative;\n}\n\n/* 2. 列表里 “删除” 按钮，复用 modal-delete-btn 风格，文本跟随主题 */\n.post-options .trash-btn {\n  /* 复制 modal-delete-btn 的核心风格 */\n  background: rgba(120, 120, 120, 0.15);\n  border: 1px solid rgba(200, 200, 200, 0.4);\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  backdrop-filter: blur(4px);\n  box-shadow: 0 0 6px rgba(120, 120, 120, 0.6);\n  transition: transform .1s, box-shadow .2s, background .2s;\n  cursor: pointer;\n\n  /* 文字 / 图标 跟随主题色 */\n  color: inherit;\n}\n\n.post-options .trash-btn:hover {\n  background: rgba(120, 120, 120, 0.25);\n  transform: scale(1.1);\n  box-shadow: 0 0 12px rgba(120, 120, 120, 0.8);\n}\n\n/* 确保 svg 图标大小合适 */\n.post-options .trash-btn svg {\n  width: 16px;\n  height: 16px;\n  stroke: currentColor;\n  fill: none;\n}\n\n@media (max-width: 480px) {\n  .box {\n    width: 95vw;\n    padding: 12px;\n  }\n}\n\nbody.dark .box {\n  background: var(--card-dark);\n  border: 1px solid rgba(255, 255, 255, 0.2)\n}\n\n.close {\n  position: absolute;\n  top: 10px;\n  right: 16px;\n  font-size: 24px;\n  cursor: pointer\n}\n\n/* Slider Modal 箭头按钮 */\n.slider-btn {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background: rgba(0, 0, 0, 0.3);\n  border: none;\n  color: #fff;\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\nbody.dark .slider-btn {\n  background: rgba(255, 255, 255, 0.3);\n  color: #333;\n}\n\n.slider-btn.left {\n  left: 10px;\n}\n\n.slider-btn.right {\n  right: 10px;\n}\n\n/* 保证 .box 是定位容器 */\n.slider-modal .box {\n  position: relative;\n}\n\n/* 固定页码到底部中央 */\n.slider-modal .modal-meta {\n  position: absolute;\n  bottom: 16px;\n  /* 距底部 16px，可调 */\n  left: 50%;\n  transform: translateX(-50%);\n  margin-top: 0;\n  /* 覆盖原 margin-top */\n  font-size: 13px;\n  padding: 4px 8px;\n  /* 可选：加点内边距，提高可读性 */\n  border-radius: 4px;\n  /* 可选：圆角框 */\n  background: rgba(0, 0, 0, 0.3);\n  /* 可选：半透明底，确保对比度 */\n  color: #fff !important;\n  /* 强制白色文字 */\n  z-index: 10;\n  /* 确保浮在图片之上 */\n}\n\n/* 深色模式下调整文字色 */\nbody.dark .slider-modal .modal-meta {\n  color: #ddd !important;\n}\n\n.modal-more {\n  position: absolute;\n  top: 10px;\n  right: 50px;\n  cursor: pointer;\n}\n\n.info-btn {\n  position: absolute;\n  top: 10px;\n  right: 82px;\n  /* 刚好挨着 ⋯，可自行微调 */\n  cursor: pointer;\n  font-size: 18px;\n  padding: 2px 6px;\n  border-radius: 50%;\n  transition: .2s background;\n  color: var(--text-light);\n}\n\nbody.dark .info-btn {\n  color: var(--text-dark);\n}\n\n.info-btn:hover {\n  background: rgba(0, 0, 0, 0.08);\n}\n\nbody.dark .info-btn:hover {\n  background: rgba(255, 255, 255, 0.12);\n}\n\n.info-btn svg {\n  width: 20px;\n  height: 20px;\n  display: block;\n  /* 确保可以用 margin 调整 */\n  margin-top: 4px;\n  /* 向下移动 icon */\n}\n\n.modal-options {\n  position: absolute;\n  top: 36px;\n  right: 50px;\n  background: var(--card-light);\n  padding: 6px;\n  border-radius: 6px;\n  backdrop-filter: blur(calc(var(--blur)/2));\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\nbody.dark .modal-options {\n  background: var(--card-dark);\n}\n\n.modal-options button {\n  background: none;\n  border: none;\n  cursor: pointer;\n}\n\n.post-options,\n.modal-options {\n  color: var(--text-light);\n}\n\nbody.dark .post-options,\nbody.dark .modal-options {\n  color: var(--text-dark);\n}\n\n/* 按钮文字也要跟随主题 */\n.post-options button,\n.modal-options button {\n  color: inherit;\n}\n\n/* -----------------------------------------------------------------------------\n   Override global focus/option styles for any np-toolbar select inside a modal\n   ----------------------------------------------------------------------------- */\n.modal.show .np-toolbar select:focus {\n  outline: none !important;\n  /* match the glass-border used everywhere else */\n  border: var(--glass-border) !important;\n  box-shadow: none !important;\n}\n\n.modal.show .np-toolbar select option {\n  /* 👇 same flat background & text color as 投稿区 select options */\n  background: var(--card-light) !important;\n  color: var(--text-light) !important;\n}\n\nbody.dark .modal.show .np-toolbar select option {\n  background: var(--card-dark) !important;\n  color: var(--text-dark) !important;\n}\n\n.modal-delete-btn {\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(120, 120, 120, 0.15);\n  /* 浅灰半透明背景 */\n  border: 1px solid rgba(200, 200, 200, 0.4);\n  /* 细灰边框 */\n  color: #e0e0e0;\n  /* 图标浅灰色 */\n  border-radius: 50%;\n  backdrop-filter: blur(4px);\n  /* 玻璃模糊效果 */\n  box-shadow: 0 0 6px rgba(120, 120, 120, 0.6);\n  /* 科技感微光 */\n  transition: transform .1s, box-shadow .2s, background .2s;\n  cursor: pointer;\n}\n\n.modal-delete-btn:hover {\n  background: rgba(120, 120, 120, 0.25);\n  /* 深一点的灰 */\n  transform: scale(1.1);\n  /* 放大反馈 */\n  box-shadow: 0 0 12px rgba(120, 120, 120, 0.8);\n  /* 更强的光晕 */\n}\n\n.modal-delete-btn svg {\n  width: 20px;\n  height: 20px;\n  stroke: currentColor;\n  /* 跟随 color */\n  fill: none;\n}\n\n\n\n\n/* 桌宠 */\n#pet svg {\n  width: 100%;\n  animation: breathe 3s ease-in-out infinite\n}\n\n@keyframes breathe {\n\n  0%,\n  100% {\n    transform: translateY(0)\n  }\n\n  50% {\n    transform: translateY(-4px)\n  }\n}\n\n/* 过渡 */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity .3s ease\n}\n\n.fade-enter,\n.fade-leave-to {\n  opacity: 0\n}\n\n/* 更多按钮主题自适应 */\n.more,\n.modal-more {\n  color: var(--text-light);\n}\n\nbody.dark .more,\nbody.dark .modal-more {\n  color: var(--text-dark);\n}\n\n/* 小型环形 loading */\n.spinner {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  border: 2px solid transparent;\n  border-top-color: currentColor;\n  border-radius: 50%;\n  animation: spin .8s linear infinite;\n  vertical-align: middle;\n  margin-right: 4px;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg)\n  }\n}\n\n/* —— 优化后的骨架屏（玻璃 + 流光） —— */\n.skeleton-list {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.skeleton-card {\n  position: relative;\n  border-radius: var(--radius);\n  background: var(--card-light);\n  /* 浅色模式下半透明玻璃 */\n  backdrop-filter: blur(calc(var(--blur)/2));\n  overflow: hidden;\n  padding: 12px;\n}\n\nbody.dark .skeleton-card {\n  background: var(--card-dark);\n  /* 深色模式下半透明玻璃 */\n}\n\n.skeleton-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg,\n      transparent,\n      rgba(255, 255, 255, 0.6),\n      transparent);\n  animation: shimmer 1.2s ease-in-out infinite;\n}\n\n.skeleton-head,\n.skeleton-body {\n  background: rgba(255, 255, 255, 0.2);\n  /* 统一浅色打底 */\n  border-radius: 4px;\n  margin-bottom: 8px;\n}\n\nbody.dark .skeleton-head,\nbody.dark .skeleton-body {\n  background: rgba(0, 0, 0, 0.2);\n  /* 深色模式调整为暗色调 */\n}\n\n.skeleton-head {\n  width: 40%;\n  height: 16px;\n}\n\n.skeleton-body {\n  width: 100%;\n  height: 60px;\n}\n\n/* 流光动画 */\n@keyframes shimmer {\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(200%);\n  }\n}\n\n/* 保留进场动画 */\n.post-fade-enter-active {\n  transition: all .3s ease;\n}\n\n.post-fade-leave-active {\n  transition: all .2s ease;\n}\n\n.post-fade-enter {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n\n.modal {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.lightbox {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: 16px;\n}\n\n.lightbox img {\n  max-width: 90vw;\n  max-height: 90vh;\n  object-fit: contain;\n  border-radius: 8px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);\n}\n\n.close-btn {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  background: none;\n  border: none;\n  font-size: 28px;\n  color: #fff;\n  cursor: pointer;\n  padding: 4px;\n}\n\n.nav-btn {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  font-size: 32px;\n  color: #fff;\n  width: 48px;\n  height: 48px;\n  cursor: pointer;\n  border-radius: 50%;\n}\n\n.nav-btn:hover {\n  background: rgba(255, 255, 255, 0.4);\n}\n\n.prev {\n  left: 16px;\n}\n\n.next {\n  right: 16px;\n}\n\n.caption {\n  margin-top: 12px;\n  font-size: 14px;\n  color: #eee;\n}\n\n/* —— 针对 Slider Modal —— */\n/* —— Slider Modal 重写 —— */\n.slider-modal .box {\n  position: relative;\n  /* 变为定位容器 */\n  display: block;\n  /* 去掉 flex 布局 */\n  width: 80vw;\n  max-width: 90vw;\n  height: 80vh;\n  max-height: 90vh;\n  background: var(--card-light);\n  border-radius: var(--radius);\n  overflow: hidden;\n}\n\n.slider-modal .slider-btn {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  background: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  /* 其它你喜欢的样式… */\n}\n\n.slider-modal .slider-btn.left {\n  left: 16px;\n}\n\n.slider-modal .slider-btn.right {\n  right: 16px;\n}\n\n/* —— Slider Modal 最终版 —— */\n.slider-modal .slider-content {\n  text-align: center;\n  /* 水平居中 */\n  padding: 20px 0;\n  /* 上下留白 */\n}\n\n.slider-modal .slider-img {\n  display: inline-block;\n  /* 保持内联块，不要被 flex 或 width:100% 拉伸 */\n  width: auto !important;\n  /* 让浏览器用图片本身宽度 */\n  height: auto !important;\n  /* 让浏览器用图片本身高度 */\n  max-width: 90vw;\n  /* 只有超宽时才缩到 90vw */\n  max-height: 80vh;\n  /* 超高时才缩到 80vh */\n\n}\n\n/* 1. 让 box 继续作 flex column 布局 */\n.slider-modal .box {\n  display: flex;\n  flex-direction: column;\n}\n\n/* 2. slider-content 占满剩余空间，并水平/垂直双向居中 */\n.slider-modal .slider-content {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n/* 3. 图片只在过大时缩放，平常按原始大小 */\n.slider-modal .slider-img {\n  display: block;\n  /* block 或 inline-block 都可 */\n  width: auto !important;\n  height: auto !important;\n  max-width: 90vw;\n  max-height: 80vh;\n}\n\n/* ---- Info 侧边栏 ---- */\n.info-sidebar {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  /* 占满横向 */\n  padding: 18px 22px 28px;\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  border-top: var(--glass-border);\n  border-bottom-left-radius: var(--radius);\n  border-bottom-right-radius: var(--radius);\n  font-size: 14px;\n  box-shadow: 0 -4px 18px rgba(0, 0, 0, 0.15);\n}\n\nbody.dark .info-sidebar {\n  background: var(--card-dark);\n}\n\n/* Slide-up 过渡 */\n.sidebar-slide-enter-from,\n.sidebar-slide-leave-to {\n  transform: translateY(100%);\n  opacity: 0;\n}\n\n.sidebar-slide-enter-active,\n.sidebar-slide-leave-active {\n  transition: .25s ease transform, .25s ease opacity;\n}\n\n.zoom-control {\n  position: absolute;\n  /* 右下角贴边 */\n  bottom: 18px;\n  right: 62px;\n  /* 不挡删除按钮 */\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  background: rgba(120, 120, 120, .15);\n  border: 1px solid rgba(200, 200, 200, .4);\n  padding: 4px 8px;\n  border-radius: 20px;\n  backdrop-filter: blur(4px);\n}\n\nbody.dark .zoom-control {\n  background: rgba(255, 255, 255, .08);\n}\n\n.zoom-control input[type=range] {\n  width: 100px;\n  /* 长度随意 */\n}\n\n.zoom-icon {\n  width: 18px;\n  height: 18px;\n  stroke: currentColor;\n  fill: none;\n}\n\n.nav-avatar {\n  position: relative;\n  /* 关键：让子元素 .nav-dropdown 参照它定位 */\n  display: inline-block;\n  /* 确保宽度包裹头像 */\n  cursor: pointer;\n}\n\n.avatar-img {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  object-fit: cover;\n}\n\n.nav-dropdown {\n  /* 让下拉菜单至少宽到能容纳其内容 */\n  min-width: max-content;\n  /* 其余保持不变 */\n  position: absolute;\n  top: calc(100% + 8px);\n  left: 0;\n  background: var(--card-light);\n  backdrop-filter: blur(12px);\n  border: var(--glass-border);\n  border-radius: var(--radius);\n  display: flex;\n  flex-direction: column;\n  padding: 6px 0;\n  z-index: 200;\n}\n\n.dropdown-item {\n  /* 自动根据自己内容撑宽，不要限制成 100% */\n  width: auto;\n  /* 允许文字在需要的时候换行（默认即可） */\n  white-space: normal;\n  background: none;\n  border: none;\n  padding: 12px 16px;\n  text-align: left;\n  cursor: pointer;\n  font-size: 14px;\n  color: var(--text-light);\n}\n\n.dropdown-item:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n\nbody.dark .nav-dropdown {\n  background: var(--card-dark);\n}\n\nbody.dark .dropdown-item:hover {\n  background: rgba(255, 255, 255, 0.15);\n}\n\nbody.dark .dropdown-item {\n  color: #fff;\n}\n\n.menu .nav-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2px;\n  padding: 6px 8px;\n  border-radius: var(--radius);\n  transition: background .25s;\n}\n\n.menu .nav-item:hover {\n  background: rgba(0, 0, 0, 0.08);\n}\n\nbody.dark .menu .nav-item:hover {\n  background: rgba(255, 255, 255, 0.12);\n}\n\n.menu .nav-item.nav-item-submit {\n  gap: 1.5px;\n}\n\n.nav-icon {\n  width: 22px;\n  height: 22px;\n}\n\n.nav-label {\n  font-size: 12px;\n  color: var(--text-light);\n}\n\nbody.dark .nav-label {\n  color: var(--text-dark);\n}\n\n.nav-item-submit .nav-icon {\n  width: 24px;\n  height: 24px;\n}\n\n/* 让 textarea 成为相对定位的参照物 */\n.np-input-wrapper {\n  position: relative;\n}\n\n.np-input-wrapper {\n  position: relative;\n  /* 如果你之前给它加了 overflow:hidden，也请改成 visible */\n}\n\n.ta-preview {\n  position: relative;\n  /* 跟普通块一样排版 */\n  pointer-events: auto;\n  /* 能接收点击、聚焦、输入 */\n  z-index: 1;\n  /* 背景层级 */\n  min-height: 78px;\n  /* 和 textarea 原来高度一致 */\n  padding: 10px;\n  border-radius: var(--radius);\n  border: var(--glass-border);\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  white-space: pre-wrap;\n  word-break: break-word;\n  outline: none;\n}\n\n/* 深色模式下底色、文字色 */\nbody.dark .ta-preview {\n  background: var(--card-dark);\n  color: var(--text-dark);\n}\n\n/* 浮动按钮都放在 ta-preview 之上 */\n.upload-fab,\n.emoji-fab {\n  position: absolute;\n  z-index: 2;\n  /* 你的 bottom/left/right/top 坐标照旧 */\n}\n\n/* 举例： */\n.upload-fab {\n  bottom: 10px;\n  left: 10px;\n}\n\n.emoji-fab {\n  bottom: 10px;\n  left: 48px;\n}\n\n\n\n\n/* 圆形玻璃按钮 —— 复用 btn-ghost 的配色 */\n.upload-fab {\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  width: 28px;\n  /* ← 直径调小 */\n  height: 28px;\n  border-radius: 50%;\n  background: var(--card-light);\n  border: var(--glass-border);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  color: var(--text-light);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: background .25s, transform .15s;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, .15);\n}\n\nbody.dark .upload-fab {\n  background: var(--card-dark);\n  color: var(--text-dark);\n}\n\n/* hover 效果沿用 btn-ghost */\n.upload-fab:hover {\n  background: rgba(0, 0, 0, 0.08);\n}\n\nbody.dark .upload-fab:hover {\n  background: rgba(255, 255, 255, 0.12);\n}\n\n.upload-fab svg {\n  width: 16px;\n  height: 16px;\n}\n\n/* 图标跟着缩小 */\n.upload-fab input {\n  display: none;\n}\n\n/* 隐藏真正的 file input */\n\n/* —— Emoji 按钮 —— */\n.emoji-fab {\n  position: absolute;\n  bottom: 10px;\n  left: 48px;\n  /* upload-fab（10px） + 宽度28px + 间距10px = 48px */\n  width: 28px;\n  height: 28px;\n  border-radius: 50%;\n  background: var(--card-light);\n  border: var(--glass-border);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  color: var(--text-light);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: background .25s, transform .15s;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, .15);\n}\n\nbody.dark .emoji-fab {\n  background: var(--card-dark);\n  color: var(--text-dark);\n}\n\n.emoji-fab:hover {\n  background: rgba(0, 0, 0, 0.08);\n}\n\nbody.dark .emoji-fab:hover {\n  background: rgba(255, 255, 255, 0.12);\n}\n\n/* SVG 图标缩放 */\n.emoji-fab svg {\n  width: 16px;\n  height: 16px;\n}\n\n/* === Sticker 选择面板 === */\n.sticker-picker {\n  position: absolute;\n  bottom: 48px;\n  /* 紧贴两个圆钮上方 */\n  left: 48px;\n  display: grid;\n  grid-template-columns: repeat(4, 40px);\n  gap: 8px;\n  padding: 10px;\n  background: var(--card-light);\n  border: var(--glass-border);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  border-radius: var(--radius);\n  box-shadow: 0 6px 18px rgba(0, 0, 0, .18);\n  z-index: 400;\n}\n\nbody.dark .sticker-picker {\n  background: var(--card-dark);\n}\n\n.sticker-picker img {\n  width: 40px;\n  height: 40px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: transform .15s;\n}\n\n.sticker-picker img:hover {\n  transform: scale(1.15);\n}\n\n/* 行内贴图：跟随字体，默认≈1行文字高 */\n.inline-sticker {\n  height: 3em;\n  /* 高度 ≈ 一行字 */\n  width: auto;\n  /* 宽度等比缩放 */\n  vertical-align: -.25em;\n  /* 略微下沉，使中心对齐文字基线 */\n  display: inline-block;\n  /* 防止被视为文本行高 */\n}\n\nbody.dark .ta-preview {\n  background: var(--card-dark);\n  color: var(--text-dark);\n}\n\n.ta-preview {\n  /* —— 日常字体 —— */\n  font-family: Arial, sans-serif;\n\n  position: relative;\n  pointer-events: auto;\n  z-index: 1;\n  min-height: 78px;\n  padding: 10px;\n  border-radius: var(--radius);\n  border: var(--glass-border);\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  white-space: pre-wrap;\n  word-break: break-word;\n  outline: none;\n}\n\n/* —— 占位文字 —— */\n.ta-preview:empty::before {\n  content: attr(data-placeholder);\n  color: #888;\n  pointer-events: none;\n}\n\n/* 进场（enter）和离场（leave）的动画 */\n.dropdown-fade-enter-active,\n.dropdown-fade-leave-active {\n  transition: all 0.25s ease;\n}\n\n.dropdown-fade-enter-from,\n.dropdown-fade-leave-to {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n\n.dropdown-item {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  /* 图标和文字之间的距离 */\n  padding: 12px 16px;\n  /* 更大的点击区域 */\n  font-size: 14px;\n  background: none;\n  border: none;\n  cursor: pointer;\n  transition: background .25s;\n}\n\n.dropdown-icon {\n  width: 18px;\n  height: 18px;\n  stroke: currentColor;\n}\n\n/* —— 每个 fieldset 之间增加垂直间距 —— */\nfieldset+fieldset {\n  margin-top: 36px;\n}\n\n/* —— 更醒目的分组标题 —— */\nlegend {\n  font-size: 18px;\n  /* 字号调大 */\n  font-weight: 700;\n  /* 加粗 */\n  margin-bottom: 16px;\n  /* 与内容保持呼吸感 */\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  /* 底部细线分隔 */\n  padding-bottom: 4px;\n  /* 线和文字间距 */\n}\n\n/* —— 深色模式下调整分隔线颜色 —— */\nbody.dark legend {\n  border-color: rgba(255, 255, 255, 0.2);\n}\n\n\n/* 容器去掉滚动条，三列等宽 */\n.post .photos {\n  display: grid;\n  grid-template-columns: repeat(3, 0.5fr);\n  gap: 8px;\n  overflow: visible;\n  /* 不要再 overflow-x:auto */\n  padding-right: 20%;\n}\n\n/* 缩略图容器保持裁剪逻辑 */\n.post .photos .thumb {\n  position: relative;\n  /* 为 overlay 提供定位上下文 */\n  width: 100%;\n  aspect-ratio: 4 / 3;\n  overflow: hidden;\n  border-radius: 8px;\n  background: #f0f0f0;\n  max-height: 120px;\n\n}\n\n.post .photos .thumb img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  object-position: center;\n  display: block;\n}\n\n/* 第三张上的 +N 遮罩 */\n.post .photos .thumb-overlay {\n  position: absolute;\n  bottom: 6px;\n  right: 6px;\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  background: rgba(0, 0, 0, 0.6);\n  color: #fff;\n  font-size: 14px;\n  font-weight: bold;\n  padding: 2px 6px;\n  border-radius: 4px;\n  pointer-events: none;\n}\n\n.stack-icon {\n  width: 16px;\n  height: 16px;\n  flex-shrink: 0;\n}\n\n.overlay-count {\n  line-height: 1;\n  /* 让数字垂直居中 */\n}\n\n.options-pop-enter-active {\n  transition: transform .18s ease-out, opacity .18s ease-out;\n}\n\n.options-pop-leave-active {\n  transition: transform .14s ease-in, opacity .14s ease-in;\n}\n\n.options-pop-enter-from,\n.options-pop-leave-to {\n  transform: translateY(-8px) scale(0.95);\n  opacity: 0;\n}\n\n.options-pop-enter-to,\n.options-pop-leave-from {\n  transform: translateY(0) scale(1);\n  opacity: 1;\n}\n\n.modal-options .edit-place-btn {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  background: rgba(120, 120, 120, 0.15);\n  border: 1px solid rgba(200, 200, 200, 0.4);\n  width: auto;\n  padding: 6px 10px;\n  border-radius: 50%;\n  backdrop-filter: blur(4px);\n  cursor: pointer;\n  transition: background .2s, transform .1s;\n}\n\n.modal-options .edit-place-btn:hover {\n  background: rgba(120, 120, 120, 0.25);\n  transform: scale(1.1);\n}\n\n.modal-options .edit-place-btn svg {\n  width: 16px;\n  height: 16px;\n}\n\n\n/* 图标 */\n.icon {\n  width: 16px;\n  height: 16px;\n  stroke: currentColor;\n  fill: none;\n}\n\n/* 1. 过渡类 */\n.slide-fade-enter-active,\n.slide-fade-leave-active {\n  transition: max-height 0.3s ease, opacity 0.3s ease, transform 0.3s ease;\n}\n\n.slide-fade-enter-from,\n.slide-fade-leave-to {\n  max-height: 0;\n  opacity: 0;\n  transform: translateY(-5px);\n}\n\n.slide-fade-enter-to,\n.slide-fade-leave-from {\n  /* 根据你每个分组的最大高度来设一个足够大的值 */\n  max-height: 400px;\n  opacity: 1;\n  transform: translateY(0);\n}\n\n/* 只对 Settings 弹窗生效，去掉最大高度、内部滚动，拉满宽度 */\n.settings-modal .box {\n  /* 不再限制 max-height，允许自适应内容高度 */\n  max-height: none !important;\n  height: auto !important;\n  overflow: visible !important;\n  /* 根据屏幕宽度自动伸缩，上限 1200px */\n  width: min(80vw, 1200px);\n}\n\n.place-picker {\n  position: relative;\n  display: inline-block;\n}\n\n.place-btn {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding: 6px;\n  background: none;\n  border: none;\n  cursor: pointer;\n}\n\n.place-options {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  background: var(--card-light);\n  border: var(--glass-border);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  border-radius: var(--radius);\n  margin-top: 4px;\n  padding: 6px 0;\n  z-index: 300;\n  display: flex;\n  flex-direction: column;\n}\n\n.place-item {\n  padding: 6px 12px;\n  font-size: 14px;\n  background: none;\n  border: none;\n  text-align: left;\n  cursor: pointer;\n}\n\n.place-item:hover {\n  background: rgba(74, 144, 226, 0.1);\n}\n\n/* 暗色模式下，地点选择器背景和文字颜色 */\nbody.dark .place-btn {\n  color: var(--text-dark);\n}\n\nbody.dark .place-btn .location-icon {\n  stroke: currentColor;\n}\n\nbody.dark .place-options {\n  background: var(--card-dark);\n  border-color: rgba(255, 255, 255, 0.15);\n}\n\nbody.dark .place-item {\n  color: var(--text-dark);\n}\n\nbody.dark .place-item:hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n/* —— 编辑地点 弹窗专用 —— */\n.place-modal-box {\n  /* 自适应布局，宽度在 400–480px 之间 */\n  width: 80vw;\n  max-width: 480px;\n  min-width: 400px;\n\n  /* 更充裕的内边距 */\n  padding: 20px 24px;\n\n  /* 底部投影加强层次感 */\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n\n  position: relative;\n  /* 保留原来定位 */\n  border-radius: var(--radius);\n  /* 与其他 .box 保持一致 */\n  background: var(--card-light);\n  backdrop-filter: blur(calc(var(--blur)/2));\n  border: var(--glass-border);\n}\n\n/* 响应式：在窄屏上依然保证能显示 */\n@media (max-width: 480px) {\n  .place-modal-box {\n    width: 95vw;\n    min-width: auto;\n  }\n}\n</style>","import { render } from \"./AppMobile.vue?vue&type=template&id=5213fc5e\"\nimport script from \"./AppMobile.vue?vue&type=script&lang=js\"\nexport * from \"./AppMobile.vue?vue&type=script&lang=js\"\n\nimport \"./AppMobile.vue?vue&type=style&index=0&id=5213fc5e&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=f4947118\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue';\nimport App from './App.vue';\nimport './assets/styles.css';\n\nconst app = createApp(App);\n\n// 判断是否是移动设备（简单基于宽度）\napp.config.globalProperties.$isMobile = window.innerWidth <= 768;\n\n// 监听窗口大小变化，动态更新\nwindow.addEventListener('resize', () => {\n  app.config.globalProperties.$isMobile = window.innerWidth <= 768;\n});\n\napp.mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmy_vue_app\"] = self[\"webpackChunkmy_vue_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(61697)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","$isMobile","class","viewBox","style","show","currentUser","handleLogin","bgStyle","href","scrollTo","fill","stroke","d","hasUnread","xmlns","x1","y1","x2","y2","navDropdownVisible","src","getAvatar","alt","name","showSettingsModal","cx","cy","r","logout","toggleTheme","theme","contenteditable","ref","handleInput","saveCaret","handlePostEnter","handleKeydown","type","accept","multiple","handlePostImages","toggleStickerPicker","displayedStickers","s","key","url","selectSticker","prevStickerPage","disabled","stickerPage","nextStickerPage","stickersPerPage","stickers","length","newPostCharCount","publishPost","isPublishing","editingPost","draftImgs","imageInsertMode","img","i","removeDraft","n","tag","visiblePosts","post","uid","getDisplayName","badgeHTML","Date","ts","toLocaleDateString","isRead","toLocaleTimeString","place","postOptionsPost","startEdit","deletePost","renderText","txt","imgs","slice","openModal","x","y","width","height","rx","ry","views","toggleComments","cmts","visibleComments","c","idx","who","editComment","deleteComment","newComment","placeholder","handleCommentEnter","$event","sendComment","posts","loadMode","loadMore","albumMode","groupedPhotos","group","photo","indexOf","allPhotos","bgSrc","bgOpacity","bgBlur","petEnabled","llmEnabled","localDisplayName","selectedBadge","allowedBadges","allowedUids","bestBadgeUid","adminUid","openPasswordModal","openBadgeModal","resetPassword","addAllowedUid","removeAllowedUid","openAdminPwdModal","showNicknameModal","closeBadgeModal","badge","value","confirmBadge","closeInfoSidebar","closeModal","showImageOptions","toggleInfoSidebar","showInfoSidebar","openPlaceModal","modalPost","prevModalImg","modalIndex","modalImgs","modalZoom","transition","handleImgLoad","onWheelZoom","nextModalImg","deleteImage","min","minZoom","max","maxZoom","step","number","infoSize","imgPlaces","toLocaleString","closePlaceModal","confirmPlaceEdit","closePasswordModal","oldPassword","newPassword","confirmPassword","changePassword","dragPet","petSVG","DEFAULT_ALLOWED_UIDS","getAllowedUids","raw","localStorage","getItem","arr","JSON","parse","Array","isArray","setAllowedUids","list","setItem","stringify","MAX_FAIL","props","emit","loginForm","password","error","loading","tick","submitTimeout","credKey","trim","failKey","storedCred","isFirstLogin","canSubmit","visible","async","pbkdf2Hash","pwd","salt","iter","enc","TextEncoder","crypto","subtle","importKey","encode","bits","deriveBits","iterations","hash","from","Uint8Array","b","toString","padStart","join","equalTiming","aHex","bHex","diff","charCodeAt","createSalt","getRandomValues","handleSubmit","includes","fails","Number","sessionStorage","cred","calc","removeItem","setTimeout","submit","err","console","v","clearTimeout","__exports__","activeSection","toggleSection","checked","changeBackground","proxyBgOpacity","proxyBgBlur","saveLoadModeSwitch","$emit","target","saveImageInsertModeSwitch","newAdminUid","isAdmin","emits","String","Boolean","data","computed","this","get","set","methods","k","f","files","FileReader","onload","ev","result","readAsDataURL","saveLoadMode","sha256Hex","str","buf","digest","saltedHash","h1","getOrCreateSalt","BEST_BADGE_UID","components","LoginModal","SettingsPanel","storedUser","parseFloat","parseInt","newPostText","newPostPlace","isListLoading","loadedCount","loadStep","showBadgeModal","showPasswordModal","showModal","modalSrc","modalMeta","showPlaceModal","placeModalTarget","placeModalType","petType","petPrompt","avatarMap","BADGES","userBadges","editingImgIdx","placeModalValue","readIds","Set","stickerPickerVisible","savedRange","adminPwdModalVisible","adminTargetUid","adminNewPassword","imageNewPlace","postNewPlace","replace","start","displayName","out","forEach","push","date","toISOString","g","p","meta","filter","some","has","backgroundImage","opacity","watch","val","document","body","classList","toggle","updateLoadBehavior","newName","newVal","formatMeta","time","handleClickToCloseSticker","closest","handleClickToCloseNavDropdown","handleGlobalClick","cls","find","el","getElementById","scrollIntoView","behavior","toggleNavDropdown","nodes","childNodes","nodeType","textContent","tagName","contains","URL","createObjectURL","restoreCaret","sel","window","getSelection","rangeCount","range","getRangeAt","createElement","className","contentEditable","insertNode","collapse","insertAtCaret","$refs","postInput","splice","autoResize","scrollHeight","cloneRange","box","startContainer","createRange","selectNodeContents","removeAllRanges","addRange","focus","html","innerHTML","alert","randomUUID","now","unshift","shiftKey","preventDefault","confirm","q","deleteContents","createTextNode","innerText","space","setStartAfter","newRange","setStart","_","u","event","collapsed","nodeBefore","startOffset","Node","TEXT_NODE","previousSibling","ELEMENT_NODE","remove","Math","updateModalMeta","startIndex","editImagePlace","newPlace","prompt","naturalWidth","w","naturalHeight","h","delta","deltaY","clampZoom","toFixed","editPostPlace","removeEventListener","onScrollLoad","addEventListener","scrollBottom","innerHeight","scrollY","listBottom","offsetHeight","t","old","neo","clearBackground","saveBgOpacity","saveBgBlur","changeAvatar","updateDisplayName","saltKey","oldPwd","newPwd","storedHash","oldHash","newHash","closeAdminPwdModal","confirmAdminSetPassword","pet","ox","offsetX","oy","offsetY","onmousemove","left","pageX","top","pageY","onmouseup","mounted","ctx","beforeUnmount","toggleNewPostPicker","placeOptions","selectNewPostPlace","newPostPickerVisible","toggleModalPicker","selectModalPlace","modalPickerVisible","AppDesktop","AppMobile","render","app","App","config","globalProperties","innerWidth","mount","__webpack_module_cache__","moduleId","cachedModule","undefined","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","definition","defineProperty","enumerable","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}