{"version":3,"file":"js/app.15327055.js","mappings":"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","sources":["webpack://my-vue-app/./src/utils/crypto.js","webpack://my-vue-app/./src/App.vue","webpack://my-vue-app/./src/App.vue?7ccd","webpack://my-vue-app/./src/components/organisms/HeaderNav.vue","webpack://my-vue-app/./src/components/organisms/HeaderNav.vue?7cff","webpack://my-vue-app/./src/components/icons/AlbumIcon.vue","webpack://my-vue-app/./src/components/icons/HomeIcon.vue","webpack://my-vue-app/./src/components/icons/MomentsIcon.vue","webpack://my-vue-app/./src/components/icons/PostIcon.vue","webpack://my-vue-app/./src/components/icons/Icon.vue","webpack://my-vue-app/./src/components/icons/Icon.vue?0163","webpack://my-vue-app/./src/components/molecules/NavItem.vue","webpack://my-vue-app/./src/components/molecules/NavItem.vue?82d6","webpack://my-vue-app/./src/components/organisms/SideBar.vue","webpack://my-vue-app/./src/layout/ShellLayout.vue","webpack://my-vue-app/./src/layout/ShellLayout.vue?428f","webpack://my-vue-app/./src/views/AlbumPage.vue","webpack://my-vue-app/./src/components/organisms/ImageSliderModal.vue","webpack://my-vue-app/./src/components/organisms/ImageSliderModal.vue?f41e","webpack://my-vue-app/./src/views/AlbumPage.vue?b960","webpack://my-vue-app/./src/views/EditorPage.vue","webpack://my-vue-app/./src/views/EditorPage.vue?da73","webpack://my-vue-app/./src/config/auth.js","webpack://my-vue-app/./src/components/atoms/ErrorMessage.vue","webpack://my-vue-app/./src/components/atoms/LoginButton.vue","webpack://my-vue-app/./src/components/atoms/LoginButton.vue?129f","webpack://my-vue-app/./src/components/molecules/AnimatedTitle.vue","webpack://my-vue-app/./src/components/molecules/AnimatedTitle.vue?8271","webpack://my-vue-app/./src/components/atoms/InputField.vue","webpack://my-vue-app/./src/components/atoms/InputField.vue?863a","webpack://my-vue-app/./src/components/molecules/FormGroup.vue","webpack://my-vue-app/./src/components/molecules/FormGroup.vue?61b5","webpack://my-vue-app/./src/components/organisms/LoginModal.vue","webpack://my-vue-app/./src/components/organisms/LoginModal.vue?276c","webpack://my-vue-app/./src/views/LoginPage.vue","webpack://my-vue-app/./src/views/LoginPage.vue?fce3","webpack://my-vue-app/./src/components/atoms/LoadMoreButton.vue","webpack://my-vue-app/./src/components/atoms/PostActions.vue","webpack://my-vue-app/./src/components/atoms/PostCard.vue","webpack://my-vue-app/./src/components/atoms/PostImages.vue","webpack://my-vue-app/./src/components/molecules/MomentsList.vue","webpack://my-vue-app/./src/components/molecules/MomentsList.vue?a93b","webpack://my-vue-app/./src/views/MomentsPage.vue","webpack://my-vue-app/./src/views/MomentsPage.vue?ed2f","webpack://my-vue-app/./src/router/index.js","webpack://my-vue-app/./src/main.js","webpack://my-vue-app/./src/stores/user.js","webpack://my-vue-app/webpack/bootstrap","webpack://my-vue-app/webpack/runtime/chunk loaded","webpack://my-vue-app/webpack/runtime/define property getters","webpack://my-vue-app/webpack/runtime/ensure chunk","webpack://my-vue-app/webpack/runtime/get javascript chunk filename","webpack://my-vue-app/webpack/runtime/get mini-css chunk filename","webpack://my-vue-app/webpack/runtime/global","webpack://my-vue-app/webpack/runtime/hasOwnProperty shorthand","webpack://my-vue-app/webpack/runtime/load script","webpack://my-vue-app/webpack/runtime/make namespace object","webpack://my-vue-app/webpack/runtime/publicPath","webpack://my-vue-app/webpack/runtime/css loading","webpack://my-vue-app/webpack/runtime/jsonp chunk loading","webpack://my-vue-app/webpack/startup"],"sourcesContent":["/** 计算字符串的 SHA‑256 Hex */\nexport async function sha256Hex(str) {\n  const buf = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(str));\n  return Array.from(new Uint8Array(buf)).map(b => b.toString(16).padStart(2, '0')).join('');\n}\n\n/** 双重 Salted 哈希 */\nexport async function saltedHash(pwd, salt) {\n  const h1 = await sha256Hex(pwd + salt);\n  return sha256Hex(h1 + salt);\n}\n/** PBKDF2‑HMAC‑SHA256 —— 与 LoginModal 保持一致 */\nexport async function pbkdf2Hash(pwd, salt, iter = 100000) {\n  const enc = new TextEncoder()\n  const key = await crypto.subtle.importKey(\n    'raw', enc.encode(pwd), { name: 'PBKDF2' }, false, ['deriveBits']\n  )\n  const bits = await crypto.subtle.deriveBits(\n    { name: 'PBKDF2', salt: enc.encode(salt), iterations: iter, hash: 'SHA-256' },\n    key, 256\n  )\n  return Array.from(new Uint8Array(bits))\n    .map(b => b.toString(16).padStart(2, '0'))\n    .join('')\n}\n\n/** 取或创建一个随机 Salt */\nexport function getOrCreateSalt(uid) {\n  const key = `salt_${uid}`;\n  let salt = localStorage.getItem(key);\n  if (!salt) {\n    salt = Array.from(crypto.getRandomValues(new Uint8Array(8))).map(b => b.toString(16).padStart(2, '0')).join('');\n    localStorage.setItem(key, salt);\n  }\n  return salt;\n}","<!-- App.vue -->\n<template>\n  <router-view />\n</template>\n\n<script>\nexport default { name: 'App' }\n</script>\n","import { render } from \"./App.vue?vue&type=template&id=79199e5b\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <header class=\"app-header\">\n    <!-- 左区：汉堡 + Logo + 主页 -->\n    <div class=\"header-left\">\n      <button class=\"icon-btn hamburger\" @click=\"$emit('toggle-sidebar')\" aria-label=\"切换侧栏\">\n        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n          <path d=\"M4 6h16M4 12h16M4 18h16\" />\n        </svg>\n      </button>\n      <span class=\"logo\" @click=\"$emit('refresh')\">{{ title }}</span>\n      <button class=\"icon-btn home-btn\" @click=\"$emit('refresh')\" aria-label=\"主页\">\n        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n          <path d=\"M3 12l9-9 9 9M4 10v10h6v-6h4v6h6V10\" />\n        </svg>\n      </button>\n    </div>\n\n    <!-- 中区：搜索 -->\n    <form class=\"header-center search-form\" @submit.prevent=\"emitSearch\">\n      <input v-model=\"searchQuery\" class=\"search-input\" placeholder=\"Search…\" aria-label=\"搜索\" />\n      <button type=\"submit\" class=\"icon-btn\" aria-label=\"搜索\">\n        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n          <circle cx=\"11\" cy=\"11\" r=\"8\" />\n          <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\" />\n        </svg>\n      </button>\n    </form>\n\n    <!-- 右区：投稿 / 通知 / AI / 头像下拉 -->\n    <div class=\"header-right\">\n      <button class=\"icon-btn\" @click=\"$emit('post')\" aria-label=\"投稿\">\n        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n          <path d=\"M12 4v16M20 12H4\" />\n        </svg>\n      </button>\n      <button class=\"icon-btn\" @click=\"$emit('notify')\" aria-label=\"通知\">\n        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n          <path d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0 1 18 14.158V11\n                   a6 6 0 0 0-5-5.917V5\n                   a2 2 0 1 0-4 0v.083\n                   A6 6 0 0 0 4 11v3.159\n                   c0 .538-.214 1.055-.595 1.436L2 17h5\" />\n          <path d=\"M12 21a2 2 0 0 0 2-2H10a2 2 0 0 0 2 2z\" />\n        </svg>\n      </button>\n      <button class=\"icon-btn\" @click=\"$emit('ai')\" aria-label=\"AI 助手\">\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#FFF\" stroke-width=\"2.5\">\n          <path d=\"M8 16l4-8 4 8\" />\n          <path d=\"M9 16.5l4-8 4 8\" stroke-opacity=\".2\" />\n          <line x1=\"10\" y1=\"12\" x2=\"14\" y2=\"12\" />\n          <line x1=\"17\" y1=\"8\" x2=\"17\" y2=\"16\" />\n          <line x1=\"17.6\" y1=\"8.6\" x2=\"17.6\" y2=\"16.6\" stroke-opacity=\".2\" />\n        </svg>\n      </button>\n\n      <!-- 头像 & 下拉 -->\n      <div class=\"nav-avatar\" @mouseenter=\"dropdown = true\" @mouseleave=\"dropdown = false\">\n        <img :src=\"avatar\" class=\"avatar-img\" alt=\"avatar\" />\n        <transition name=\"dropdown-fade\">\n          <div v-show=\"dropdown\" class=\"nav-dropdown\">\n            <button class=\"dropdown-item\" @click=\"goSettings\">设置</button>\n            <div class=\"dropdown-divider\"></div>\n            <button class=\"dropdown-item\" @click=\"handleLogout\">\n              退出\n            </button>\n          </div>\n        </transition>\n      </div>\n    </div>\n  </header>\n</template>\n\n<script setup>\nimport { useUserStore } from '@/stores/user'\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\nconst props = defineProps({\n  title: { type: String, required: true },\n  avatar: { type: String, required: true }\n})\nconst emit = defineEmits([\n  'toggle-sidebar',\n  'refresh',\n  'search',\n  'post',\n  'notify',\n  'ai',\n  'settings'\n])\n\nconst searchQuery = ref('')\nconst dropdown = ref(false)\n\nfunction emitSearch() {\n  emit('search', searchQuery.value)\n}\n\n// 注入 Pinia Store 和 Vue Router\nconst userStore = useUserStore()\nconst router = useRouter()\n\nfunction handleLogout() {\n  userStore.logout()\n  router.push({ name: 'Login' })\n}\nfunction goSettings () {\n  dropdown.value = false\n  router.push('/settings')\n}\n</script>\n\n<style scoped>\n.app-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 56px;\n  padding: 0 24px;\n  background: #181818;\n  border-bottom: 1px solid #303030;\n  position: sticky;\n  top: 0;\n  z-index: 100;\n}\n\n.header-left,\n.header-right {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.logo {\n  font-size: 18px;\n  font-weight: 600;\n  cursor: pointer;\n  color: #e0e0e0;\n}\n\n.icon-btn {\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: none;\n  border: none;\n  cursor: pointer;\n  border-radius: 4px;\n}\n\n.icon-btn:hover {\n  background: #383838;\n}\n\n.icon-btn svg {\n  width: 24px;\n  height: 24px;\n  stroke: #e0e0e0;\n}\n\n.header-center {\n  flex: 1;\n  max-width: 400px;\n  display: flex;\n}\n\n.search-input {\n  flex: 1;\n  padding: 6px 10px;\n  background: #282828;\n  color: #e0e0e0;\n  border: 1px solid #303030;\n  border-right: none;\n  border-radius: 2px 0 0 2px;\n}\n\n.search-input::placeholder {\n  color: #aaa;\n}\n\n.search-form .icon-btn {\n  border: 1px solid #303030;\n  border-left: none;\n  border-radius: 0 2px 2px 0;\n}\n\n.nav-avatar {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n}\n\n.avatar-img {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  object-fit: cover;\n}\n\n.nav-dropdown {\n  position: absolute;\n  top: calc(100% + 8px);\n  right: 0;\n  min-width: 160px;\n  background: #2a2a2a;\n  border: 1px solid #303030;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.8);\n  border-radius: 8px;\n  padding: 8px 0;\n  z-index: 200;\n}\n\n.dropdown-item {\n  width: 100%;\n  background: none;\n  border: none;\n  padding: 8px 16px;\n  text-align: left;\n  color: #e0e0e0;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.dropdown-item:hover {\n  background: #383838;\n}\n\n.dropdown-divider {\n  height: 1px;\n  margin: 4px 0;\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.dropdown-fade-enter-active,\n.dropdown-fade-leave-active {\n  transition: opacity .25s, transform .25s;\n}\n\n.dropdown-fade-enter-from,\n.dropdown-fade-leave-to {\n  opacity: 0;\n  transform: translateY(-6px);\n}\n</style>\n","import script from \"./HeaderNav.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HeaderNav.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HeaderNav.vue?vue&type=style&index=0&id=d00109d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d00109d0\"]])\n\nexport default __exports__","import script from \"./AlbumIcon.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AlbumIcon.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AlbumIcon.vue?vue&type=style&index=0&id=78572ae1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-78572ae1\"]])\n\nexport default __exports__","import script from \"./HomeIcon.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomeIcon.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomeIcon.vue?vue&type=style&index=0&id=0410df9a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0410df9a\"]])\n\nexport default __exports__","import script from \"./MomentsIcon.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MomentsIcon.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MomentsIcon.vue?vue&type=style&index=0&id=bf6083b8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-bf6083b8\"]])\n\nexport default __exports__","import script from \"./PostIcon.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PostIcon.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PostIcon.vue?vue&type=style&index=0&id=c2a4305c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c2a4305c\"]])\n\nexport default __exports__","<!-- src/components/icons/Icon.vue -->\n<script setup>\nimport { computed } from 'vue'\n\n// 从同目录下引入这四个已经存在的图标组件\nimport AlbumIcon from './AlbumIcon.vue'\nimport HomeIcon from './HomeIcon.vue'\nimport MomentsIcon from './MomentsIcon.vue'\nimport PostIcon from './PostIcon.vue'\n\nconst props = defineProps({\n  name: { type: String, required: true } // 'home' | 'moments' | 'albums' | 'post'\n})\n\n// 根据 props.name 映射到对应的组件\nconst map = {\n  home:    HomeIcon,\n  moments: MomentsIcon,\n  albums:  AlbumIcon,\n  post:    PostIcon,\n}\nconst Comp = computed(() => map[props.name] || null)\n</script>\n\n<template>\n  <component :is=\"Comp\" v-if=\"Comp\" />\n</template>\n","import script from \"./Icon.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Icon.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <button\n    class=\"nav-item\"\n    :class=\"{ active }\"\n    @click=\"go\"\n  >\n    <Icon :name=\"icon\" />\n    <span>{{ label }}</span>\n  </button>\n</template>\n\n<script setup>\nimport Icon from '@/components/icons/Icon.vue'\nimport { computed } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\n\nconst props = defineProps({\n  to:    { type: String, required: true },\n  icon:  { type: String, required: true },\n  label: { type: String, required: true }\n})\n\nconst router = useRouter()\nconst route  = useRoute()\n\nconst active = computed(() => {\n  // 以路由 path 或 name 判断\n  return route.path === props.to\n})\n\nfunction go() {\n  if (route.path !== props.to) {\n    router.push(props.to)\n  }\n}\n</script>\n\n<style scoped>\n.nav-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 16px 0;\n  border: none;\n  background: none;\n  cursor: pointer;\n  color: #e0e0e0;\n  transition: background .2s;\n}\n.nav-item:hover,\n.nav-item.active {\n  background: #383838;\n}\n.nav-item span {\n  margin-top: 4px;\n  font-size: 12px;\n}\n</style>\n","import script from \"./NavItem.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NavItem.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NavItem.vue?vue&type=style&index=0&id=4466c212&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4466c212\"]])\n\nexport default __exports__","import script from \"./SideBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SideBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SideBar.vue?vue&type=style&index=0&id=74dcf506&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-74dcf506\"]])\n\nexport default __exports__","<template>\n  <div class=\"shell\">\n    <HeaderNav\n      @toggle-sidebar=\"sidebarOpen = !sidebarOpen\"\n      @refresh=\"refreshPage\"\n      @search=\"onSearch\"\n    >\n      <template #right-extra>\n        <HeaderRightStuff />\n      </template>\n    </HeaderNav>\n\n    <div class=\"body\">\n      <SideBar :collapsed=\"!sidebarOpen\" />\n\n      <main :class=\"['app-main', { 'sidebar-collapsed': !sidebarOpen }]\">\n        <router-view/>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport HeaderNav from '@/components/organisms/HeaderNav.vue'\nimport SideBar from '@/components/organisms/SideBar.vue'\nimport { ref } from 'vue'\n\nconst sidebarOpen = ref(true)\nfunction refreshPage() { window.location.reload() }\nfunction onSearch(q) { console.log('搜索', q) }\n</script>\n\n<style scoped>\n.shell { display:flex; flex-direction:column; height:100vh }\n.body  { display:flex; flex:1; overflow:hidden }\n.app-main {\n  flex:1; margin-left:72px; padding:16px;\n  background:#121212; color:#e0e0e0;\n  transition: margin-left .2s;\n  overflow-y:auto;\n}\n.app-main.sidebar-collapsed { margin-left:0 }\n</style>\n","import script from \"./ShellLayout.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ShellLayout.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ShellLayout.vue?vue&type=style&index=0&id=71986a3f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-71986a3f\"]])\n\nexport default __exports__","// src/views/AlbumsPage.vue\n<template>\n  <div class=\"albums-page\">\n    <h2 class=\"page-title\">相册 (本地上传测试)</h2>\n    <div class=\"upload-area\">\n      <label class=\"upload-label\">\n        <svg class=\"icon upload-icon\" viewBox=\"0 0 24 24\"><path d=\"M12 5v14m7-7H5\"/></svg>\n        选择本地照片\n        <input type=\"file\" accept=\"image/*\" multiple @change=\"onFileChange\" />\n      </label>\n    </div>\n\n    <div v-if=\"photos.length\" class=\"photo-grid\">\n      <div\n        v-for=\"(url, idx) in photos\"\n        :key=\"idx\"\n        class=\"photo-item\"\n        @click=\"openSlider(idx)\"\n      >\n        <img :src=\"url\" alt=\"photo\" class=\"photo-thumb\" />\n      </div>\n    </div>\n    <div v-else class=\"empty-state\">暂无照片，快去上传吧~</div>\n\n    <ImageSliderModal\n      :images=\"photos\"\n      :initial-index=\"sliderIndex\"\n      v-model:visible=\"sliderVisible\"\n      @delete-image=\"onDeleteImage\"\n    />\n  </div>\n</template>\n\n<script>\nimport ImageSliderModal from '@/components/organisms/ImageSliderModal.vue';\nexport default {\n  name: 'AlbumsPage',\n  components: { ImageSliderModal },\n  data() {\n    return {\n      photos: [],\n      sliderVisible: false,\n      sliderIndex: 0,\n    };\n  },\n  methods: {\n    onFileChange(e) {\n      Array.from(e.target.files).forEach(f => {\n        this.photos.push(URL.createObjectURL(f));\n      });\n    },\n    openSlider(idx) {\n      this.sliderIndex = idx;\n      this.sliderVisible = true;\n    },\n    onDeleteImage(idx) {\n      this.photos.splice(idx, 1);\n      if (!this.photos.length) this.sliderVisible = false;\n      else if (idx >= this.photos.length) this.sliderIndex = this.photos.length - 1;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.albums-page { padding: 24px; max-width: 900px; margin: 0 auto; }\n.page-title { font-size: 24px; text-align: center; margin-bottom: 16px; }\n.upload-area { text-align: center; margin-bottom: 24px; }\n.upload-label { display: inline-flex; align-items: center; gap: 8px; cursor: pointer; color: var(--primary); font-weight: 500; }\n.upload-label input { display: none; }\n.upload-icon { width: 20px; height: 20px; stroke: currentColor; fill: none; stroke-width: 2; }\n.photo-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 18px; justify-items: center; }\n.photo-item { width: 100%; cursor: pointer; overflow: hidden; border-radius: 8px; transition: transform .2s; }\n.photo-item:hover { transform: scale(1.05); }\n.photo-thumb { width: 100%; height: 120px; object-fit: cover; display: block; }\n.empty-state { text-align: center; color: #888; margin-top: 40px; }\n</style>\n","// src/components/ImageSliderModal.vue\n<template>\n    <div v-if=\"visible\" class=\"overlay\" @click.self=\"close\">\n        <div class=\"slider-box\">\n            <button class=\"close-btn\" @click=\"close\">×</button>\n            <button class=\"more-btn\" @click=\"toggleOptions\">⋯</button>\n            <button class=\"info-btn\" @click=\"toggleInfo\" :aria-label=\"infoVisible ? '收起信息' : '查看信息'\">\n                <svg viewBox=\"0 0 24 24\" class=\"icon\">\n                    <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" />\n                    <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"8\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\n                    <line x1=\"12\" y1=\"11\" x2=\"12\" y2=\"16\" stroke=\"currentColor\" stroke-width=\"2\"\n                        stroke-linecap=\"round\" />\n                </svg>\n            </button>\n\n            <transition name=\"options-pop\">\n                <div v-if=\"optionsVisible\" class=\"options-panel\">\n                    <button class=\"option\" @click=\"$emit('delete-image', currentIndex)\">删除</button>\n                </div>\n            </transition>\n\n            <div class=\"slider-content\">\n                <button class=\"nav-btn left\" @click=\"prev\" :disabled=\"currentIndex <= 0\">‹</button>\n                <img ref=\"slideImg\" class=\"slide-img\" :src=\"images[currentIndex]\" @load=\"updateSize\"\n                    :style=\"{ transform: `scale(${zoom})`, transition: 'transform .15s' }\" @wheel.prevent=\"onWheel\" />\n                <button class=\"nav-btn right\" @click=\"next\" :disabled=\"currentIndex >= images.length - 1\">›</button>\n            </div>\n\n            <button class=\"delete-btn\" @click=\"$emit('delete-image', currentIndex)\">\n                <svg viewBox=\"0 0 24 24\" class=\"icon\">\n                    <path d=\"M3 6h18M9 6v12m6-12v12M4 6v14a2 2 0 002 2h12a2 2 0 002-2V6\" />\n                </svg>\n            </button>\n\n            <div class=\"zoom-control\">\n                <svg class=\"icon zoom-icon\" viewBox=\"0 0 24 24\">\n                    <circle cx=\"11\" cy=\"11\" r=\"8\" />\n                    <line x1=\"16\" y1=\"16\" x2=\"22\" y2=\"22\" />\n                </svg>\n                <input type=\"range\" :min=\"minZoom\" :max=\"maxZoom\" step=\"0.1\" v-model.number=\"zoom\" />\n            </div>\n\n            <transition name=\"sidebar-slide\">\n                <div v-if=\"infoVisible\" class=\"info-panel\">\n                    <p><b>尺寸：</b>{{ size }}</p>\n                    <p><b>日期：</b>{{ formattedDate }}</p>\n                </div>\n            </transition>\n\n            <div class=\"meta\">{{ currentIndex + 1 }} / {{ images.length }}</div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'ImageSliderModal',\n    props: {\n        images: Array,\n        initialIndex: Number,\n        visible: Boolean\n    },\n    data() {\n        return {\n            currentIndex: this.initialIndex,\n            zoom: 1, minZoom: 0.5, maxZoom: 3,\n            optionsVisible: false,\n            infoVisible: false,\n            size: ''\n        };\n    },\n    computed: {\n        formattedDate() {\n            return new Date().toLocaleString();\n        }\n    },\n    watch: {\n        initialIndex(val) { this.currentIndex = val; },\n        currentIndex() {\n            this.zoom = 1; this.optionsVisible = false; this.infoVisible = false;\n            this.updateSize();\n        }\n    },\n    methods: {\n        close() { this.$emit('update:visible', false); },\n        prev() { if (this.currentIndex > 0) this.currentIndex--; },\n        next() { if (this.currentIndex < this.images.length - 1) this.currentIndex++; },\n        onWheel(e) {\n            const d = e.deltaY > 0 ? -0.1 : 0.1;\n            this.zoom = Math.min(this.maxZoom, Math.max(this.minZoom, +(this.zoom + d).toFixed(2)));\n        },\n        updateSize(e) {\n            const img = e?.target || this.$refs.slideImg;\n            if (img) this.size = `${img.naturalWidth} × ${img.naturalHeight}`;\n        },\n        toggleOptions() { this.optionsVisible = !this.optionsVisible; },\n        toggleInfo() { this.infoVisible = !this.infoVisible; }\n    },\n    mounted() { this.updateSize(); }\n};\n</script>\n\n<style scoped>\n.overlay {\n    position: fixed;\n    inset: 0;\n    background: rgba(0, 0, 0, .7);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n}\n\n.slider-box {\n    position: relative;\n    width: 80vw;\n    max-width: 800px;\n    background: var(--card-light);\n    border-radius: 8px;\n    overflow: hidden;\n}\n\n.close-btn,\n.more-btn,\n.info-btn {\n    position: absolute;\n    background: none;\n    border: none;\n    cursor: pointer;\n    font-size: 18px;\n    padding: 8px;\n}\n\n.close-btn {\n    top: 8px;\n    right: 16px;\n}\n\n.more-btn {\n    top: 8px;\n    right: 48px;\n}\n\n.info-btn {\n    top: 8px;\n    right: 80px;\n}\n\n.icon {\n    width: 20px;\n    height: 20px;\n    stroke: currentColor;\n    fill: none;\n}\n\n.options-panel {\n    position: absolute;\n    top: 40px;\n    right: 48px;\n    background: var(--card-light);\n    border-radius: 4px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n}\n\n.option {\n    display: block;\n    padding: 8px 12px;\n    border: none;\n    background: none;\n    text-align: left;\n    cursor: pointer;\n}\n\n.slider-content {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #000;\n    position: relative;\n}\n\n.nav-btn {\n    background: rgba(255, 255, 255, 0.2);\n    border: none;\n    color: #fff;\n    font-size: 24px;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    cursor: pointer;\n    z-index: 2;\n}\n\n.nav-btn.left {\n    margin-right: 16px;\n}\n\n.nav-btn.right {\n    margin-left: 16px;\n}\n\n.slide-img {\n    max-width: 90%;\n    max-height: 70vh;\n    display: block;\n}\n\n.delete-btn {\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  background: rgba(255, 255, 255, 0.08); /* 微弱白感，深色适配 */\n  border: 1px solid rgba(255, 255, 255, 0.12); /* 极细白边，突出轮廓 */\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: background 0.2s, transform 0.2s, border 0.2s;\n  z-index: 5;\n}\n\n.delete-btn:hover {\n  background: rgba(255, 255, 255, 0.15); /* hover 稍亮一点点 */\n  transform: scale(1.1);\n  border-color: rgba(255, 255, 255, 0.2);\n}\n\n.delete-btn .icon {\n  stroke: #ffffff;\n  width: 20px;\n  height: 20px;\n}\n\n.zoom-control {\n    position: absolute;\n    bottom: 16px;\n    left: 16px;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n}\n\n.zoom-icon {\n    width: 18px;\n    height: 18px;\n    stroke: currentColor;\n}\n\n.zoom-control input {\n    width: 100px;\n}\n\n/* sidebar-slide transitions */\n.info-panel {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    background: var(--card-light);\n    padding: 12px 16px;\n}\n\n.meta {\n    position: absolute;\n    bottom: 16px;\n    left: 50%;\n    transform: translateX(-50%);\n    background: rgba(0, 0, 0, 0.4);\n    color: #fff;\n    padding: 4px 8px;\n    border-radius: 4px;\n}\n</style>","import { render } from \"./ImageSliderModal.vue?vue&type=template&id=5a69fac8&scoped=true\"\nimport script from \"./ImageSliderModal.vue?vue&type=script&lang=js\"\nexport * from \"./ImageSliderModal.vue?vue&type=script&lang=js\"\n\nimport \"./ImageSliderModal.vue?vue&type=style&index=0&id=5a69fac8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5a69fac8\"]])\n\nexport default __exports__","import { render } from \"./AlbumPage.vue?vue&type=template&id=38d639a7&scoped=true\"\nimport script from \"./AlbumPage.vue?vue&type=script&lang=js\"\nexport * from \"./AlbumPage.vue?vue&type=script&lang=js\"\n\nimport \"./AlbumPage.vue?vue&type=style&index=0&id=38d639a7&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-38d639a7\"]])\n\nexport default __exports__","<template><h2 style=\"padding:24px\">EditorPage 占位</h2></template>\n","import { render } from \"./EditorPage.vue?vue&type=template&id=162874f8\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// src/config/auth.js\n\n// 默认的白名单（第一次打开时会用到）\nconst DEFAULT_ALLOWED_UIDS = [\n  '217122260',  // 你的 UID\n  '246490729',\n  // …可以在这里继续补充默认的 UID\n];\n\n/**\n * 获取当前白名单（优先读 localStorage，没有则返回 DEFAULT_ALLOWED_UIDS）\n * @returns {string[]}\n */\nexport function getAllowedUids() {\n  try {\n    const raw = localStorage.getItem('allowed_uids');\n    const arr = JSON.parse(raw);\n    if (Array.isArray(arr)) return arr;\n  } catch(e) { /* ignore */ }\n  return DEFAULT_ALLOWED_UIDS;\n}\n\n/**\n * 覆盖写入白名单\n * @param {string[]} list\n */\nexport function setAllowedUids(list) {\n  localStorage.setItem('allowed_uids', JSON.stringify(list));\n}\n","import script from \"./ErrorMessage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ErrorMessage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ErrorMessage.vue?vue&type=style&index=0&id=3425be1b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3425be1b\"]])\n\nexport default __exports__","// src/components/atoms/Button.vue\n<template>\n  <button\n    v-bind=\"$attrs\"\n    class=\"btn-atom\"\n    :disabled=\"disabled\"\n    @click=\"onClick\"\n  >\n    <span v-if=\"loading\">请稍候...</span>\n    <slot v-else></slot>\n  </button>\n</template>\n\n<script setup>\nimport { defineEmits, defineProps } from 'vue'\nconst props = defineProps({\n  disabled: { type: Boolean, default: false },\n  loading:  { type: Boolean, default: false }\n})\nconst emit = defineEmits(['click'])\nfunction onClick(e) { if (!props.disabled) emit('click', e) }\n</script>\n\n<style scoped>\n.btn-atom {\n  width:100%;height:48px;\n  background:var(--btn-bg,#32414a);\n  color:var(--btn-text,#ddd);\n  border:none;border-radius:8px;font-size:15px;\n  cursor:pointer;transition:transform .1s;\n}\n.btn-atom:disabled{opacity:.6;cursor:not-allowed;}\n.btn-atom:not(:disabled):hover{transform:translateY(-1px);background:var(--btn-hover-bg,#2b3540);}\n</style>","import script from \"./LoginButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginButton.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginButton.vue?vue&type=style&index=0&id=0d4d6c09&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0d4d6c09\"]])\n\nexport default __exports__","<!-- src/components/molecules/AnimatedTitle.vue -->\n<template>\n  <transition name=\"fade-scale\">\n    <!-- 在这里加上 v-bind=\"$attrs\"，让 class、style 等 attrs 都能穿透进来 -->\n    <h3\n      v-if=\"visible\"\n      class=\"animated-title\"\n      v-bind=\"$attrs\"\n    >\n      {{ displayedText }}<span class=\"typing-cursor\"></span>\n    </h3>\n  </transition>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\n\nconst props = defineProps({\n  text:           { type: String, required: true },\n  speedFirst:     { type: Number, default: 120 },\n  speedMid:       { type: Number, default: 60 },\n  speedLast:      { type: Number, default: 40 },\n  fadeDuration:   { type: Number, default: 150 },\n  pauseDuration:  { type: Number, default: 150 }\n})\n\nconst displayedText = ref('')\nconst visible       = ref(false)\nlet timerId\n\nfunction startTyping(text) {\n  displayedText.value = ''\n  visible.value       = true\n  let i = 0\n\n  function typeChar() {\n    if (i < text.length) {\n      displayedText.value += text[i++]\n      const delay =\n        i === 1               ? props.speedFirst :\n        i === text.length     ? props.speedLast  :\n                                props.speedMid\n      timerId = setTimeout(typeChar, delay)\n    }\n  }\n\n  typeChar()\n}\n\nfunction fadeOutThenType(text) {\n  visible.value = false\n  clearTimeout(timerId)\n  setTimeout(() => startTyping(text), props.fadeDuration + props.pauseDuration)\n}\n\nwatch(\n  () => props.text,\n  newText => fadeOutThenType(newText),\n  { immediate: true }\n)\n</script>\n\n<style scoped>\n.animated-title {\n  display: inline-block;\n  margin-bottom: 20px;\n  font-size: 20px;\n  font-weight: 600;\n  text-align: center;\n  /* 这里的 var(--text-primary) 会被外部的 .dark-title 覆盖掉 */\n  color: var(--text-primary);\n}\n\n.fade-scale-enter-active,\n.fade-scale-leave-active {\n  transition: opacity 0.3s ease, transform 0.3s ease;\n}\n.fade-scale-enter-from,\n.fade-scale-leave-to {\n  opacity: 0;\n  transform: scale(0.95);\n}\n\n.typing-cursor {\n  display: inline-block;\n  width: 1px;\n  height: 1em;\n  background-color: currentColor;\n  margin-left: 4px;\n  animation: blink 1s steps(1) infinite;\n}\n\n@keyframes blink {\n  0%, 100% { opacity: 1; }\n  50%      { opacity: 0; }\n}\n</style>\n","import script from \"./AnimatedTitle.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AnimatedTitle.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AnimatedTitle.vue?vue&type=style&index=0&id=e07500f0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e07500f0\"]])\n\nexport default __exports__","<template>\n  <div>\n    <input\n      :value=\"modelValue\"\n      :type=\"type\"\n      :placeholder=\"placeholder\"\n      :maxlength=\"maxlength\"\n      :autocomplete=\"autocomplete\"\n      @input=\"onInput\"\n      :class=\"['input-field', { 'has-error': error }]\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { defineEmits, defineProps } from 'vue'\n\nconst props = defineProps({\n  modelValue: { type: String, required: true },\n  type:       { type: String, default: 'text' },\n  placeholder:{ type: String, default: '' },\n  maxlength:  { type: [String, Number], default: 255 },\n  autocomplete:{ type: String, default: 'off' },\n  error:      { type: Boolean, default: false }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nfunction onInput(e) {\n  emit('update:modelValue', e.target.value)\n}\n</script>\n\n<style scoped>\n.input-field {\n  width: 100%; height: 56px; padding: 0 12px;\n  background: var(--input-bg, #2a2a2a);\n  border: 1px solid var(--input-border, #444);\n  border-radius: 8px; color: var(--input-text, #eee);\n  font-size: 16px;\n}\n.input-field.has-error {\n  border-color: var(--error-color, #f55);\n}\n.input-field::placeholder {\n  color: #999;\n}\n</style>\n","import script from \"./InputField.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./InputField.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./InputField.vue?vue&type=style&index=0&id=3ab8759a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3ab8759a\"]])\n\nexport default __exports__","<template>\n  <div class=\"form-group\">\n    <InputField\n      :modelValue=\"value\"\n      @update:modelValue=\"v => emit('update:value', v)\"\n      :type=\"type\"\n      :placeholder=\"placeholder\"\n      :maxlength=\"maxlength\"\n      :autocomplete=\"autocomplete\"\n      :error=\"!!errorMessage\"\n    />\n    <ErrorMessage v-if=\"errorMessage\" :message=\"errorMessage\" />\n  </div>\n</template>\n\n<script setup>\nimport ErrorMessage from '@/components/atoms/ErrorMessage.vue'\nimport InputField from '@/components/atoms/InputField.vue'\n\nconst props = defineProps({\n  value:        { type: String, required: true },\n  type:         { type: String, default: 'text' },\n  placeholder:  { type: String, default: '' },\n  maxlength:    { type: [String, Number], default: 255 },\n  autocomplete: { type: String, default: 'off' },\n  errorMessage: { type: String, default: '' }\n})\nconst emit = defineEmits(['update:value'])\n</script>\n\n<style scoped>\n.form-group {\n  margin-bottom: 16px;\n}\n</style>\n","import script from \"./FormGroup.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FormGroup.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FormGroup.vue?vue&type=style&index=0&id=3632b377&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3632b377\"]])\n\nexport default __exports__","<!-- src/components/organisms/LoginModal.vue -->\n<template>\n  <transition name=\"fade\">\n    <div v-if=\"show\" class=\"fullpage-login\" tabindex=\"0\" @keyup.enter=\"canSubmit && handleSubmit()\">\n      <div class=\"login-box\">\n        <!-- 动画标题（白色覆写见 style） -->\n        <AnimatedTitle :text=\"currentTitle\" class=\"dark-title\" />\n\n        <form @submit.prevent=\"handleSubmit\" autocomplete=\"on\">\n          <!-- UID -->\n          <FormGroup v-model:value=\"uid\" placeholder=\"请输入 UID\" :error-message=\"error && !storedCred ? error : ''\" />\n\n          <!-- 密码 -->\n          <FormGroup v-model:value=\"password\" type=\"password\" :placeholder=\"isFirstLogin\n            ? '首次设置密码（建议至少 4 位）'\n            : '请输入密码'\" :autocomplete=\"isFirstLogin ? 'new-password' : 'current-password'\"\n            :error-message=\"error && storedCred ? error : ''\" />\n\n          <!-- 通用错误 -->\n          <ErrorMessage v-if=\"showGeneralErr\" :message=\"error\" />\n\n          <!-- 提交按钮 -->\n          <Button type=\"submit\" :disabled=\"!canSubmit\" :loading=\"loading\">\n            {{ isFirstLogin ? '设置并登录' : '登录' }}\n          </Button>\n        </form>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script setup>\n/* ────── imports ────── */\nimport { getAllowedUids } from '@/config/auth'\nimport { pbkdf2Hash } from '@/utils/crypto'\nimport { computed, ref, watch } from 'vue'\n\nimport ErrorMessage from '@/components/atoms/ErrorMessage.vue'\nimport Button from '@/components/atoms/LoginButton.vue'\nimport AnimatedTitle from '@/components/molecules/AnimatedTitle.vue'\nimport FormGroup from '@/components/molecules/FormGroup.vue'\n\n/* ────── props / emits ────── */\nconst props = defineProps({ show: Boolean })\nconst emit = defineEmits(['login-success'])\n\n/* ────── state ────── */\nconst uid = ref('')\nconst password = ref('')\nconst currentTitle = ref('登录 Captured Moments')\nconst error = ref('')\nconst loading = ref(false)\nconst bump = ref(0)         // 手动触发 storedCred 的重新计算\n\n/* ────── 计算属性 ────── */\nconst credKey = computed(() => `cred_${uid.value.trim()}`)\nconst storedCred = computed(() => { bump.value; return safeJSON(localStorage.getItem(credKey.value)) })\nconst isFirstLogin = computed(() => uid.value.trim() !== '' && !storedCred.value)\nconst canSubmit = computed(() => {\n  const u = uid.value.trim()\n  const p = password.value\n  return !!u && p.length >= (isFirstLogin.value ? 4 : 1) && !loading.value\n})\nconst showGeneralErr = computed(() =>\n  error.value && !(isFirstLogin.value || !storedCred.value)\n)\n\n/* ────── methods ────── */\nfunction safeJSON(raw) {\n  try { return JSON.parse(raw || 'null') }\n  catch { return null }\n}\n\nfunction timingSafeEqual(a, b) {\n  if (a.length !== b.length) return false\n  let diff = 0\n  for (let i = 0; i < a.length; i++) diff |= a.charCodeAt(i) ^ b.charCodeAt(i)\n  return diff === 0\n}\n\nfunction createSalt() {\n  return Array.from(crypto.getRandomValues(new Uint8Array(8)))\n    .map(b => b.toString(16).padStart(2, '0')).join('')\n}\n\nasync function handleSubmit() {\n  if (!canSubmit.value) return\n  const id = uid.value.trim()\n  loading.value = true\n  error.value = ''\n\n  try {\n    /* 1️⃣ 账号合法性 */\n    const allowed = getAllowedUids()\n    if (!allowed.includes(id)) { throw new Error('用户不存在') }\n\n    /* 2️⃣ 首次 / 已注册两种流程 */\n    if (!storedCred.value) {\n      // —— 第一次：长度检查 + 写入 localStorage ——  \n      if (password.value.length < 4) throw new Error('密码至少 4 位')\n      const salt = createSalt()\n      const hash = await pbkdf2Hash(password.value, salt)\n      localStorage.setItem(\n        credKey.value,\n        JSON.stringify({ hash, salt, iter: 100_000 })\n      )\n      bump.value++                               // ⬅️ 立刻触发 storedCred 更新\n    } else {\n      // —— 已注册：计算 PBKDF2 再对比 ——  \n      const { hash, salt, iter = 100_000 } = storedCred.value\n      const calc = await pbkdf2Hash(password.value, salt, iter)\n      if (!timingSafeEqual(calc, hash)) throw new Error('密码不正确，请重试')\n    }\n\n    /* 3️⃣ 成功 → 写 session + emit */\n    sessionStorage.setItem('currentUser', id)\n    error.value = ''\n    emit('login-success', id)\n  } catch (e) {\n    error.value = e.message || '系统错误'\n  } finally {\n    loading.value = false\n  }\n}\n\n/* ────── watch ────── */\nwatch(() => props.show, v => {\n  if (v) {                           // 打开时重置表单\n    uid.value = ''\n    password.value = ''\n    error.value = ''\n    loading.value = false\n    bump.value++\n  }\n})\nwatch([uid, password], () => {\n  if (error.value) error.value = ''                // 打开时重置错误\n  error.value = ''\n})\n</script>\n\n<style scoped>\n.fullpage-login {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  background: #121212;\n}\n\n.login-box {\n  width: 100%;\n  max-width: 400px;\n  margin: 0 auto;\n  padding: 24px;\n  text-align: center;\n  background: rgba(18, 18, 18, 0.9);\n  backdrop-filter: blur(10px);\n  border-radius: 12px;\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.55);\n}\n\n/* 进入/离开动画 */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n/* 覆写 AnimatedTitle 文字色 */\n.dark-title {\n  color: #fff !important;\n}\n</style>\n","import script from \"./LoginModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginModal.vue?vue&type=style&index=0&id=d1540cee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d1540cee\"]])\n\nexport default __exports__","<!-- src/views/LoginPage.vue -->\n<template>\n  <LoginModal show @login-success=\"onLogin\" />\n</template>\n\n<script setup>\nimport LoginModal from '@/components/organisms/LoginModal.vue'\nimport { useUserStore } from '@/stores/user'\nimport { useRoute, useRouter } from 'vue-router'\n\nconst router = useRouter()\nconst route  = useRoute()\nconst userStore = useUserStore()\n\nfunction onLogin(uid) {\n  userStore.login(uid)\n  // 登录后跳回来\n  const redirect = route.query.redirect || '/moments'\n  router.replace(redirect)\n}\n</script>\n","import script from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./LoadMoreButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoadMoreButton.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoadMoreButton.vue?vue&type=style&index=0&id=38169860&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-38169860\"]])\n\nexport default __exports__","import script from \"./PostActions.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PostActions.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PostActions.vue?vue&type=style&index=0&id=b469224c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b469224c\"]])\n\nexport default __exports__","import script from \"./PostCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PostCard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PostCard.vue?vue&type=style&index=0&id=43e2250f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-43e2250f\"]])\n\nexport default __exports__","import script from \"./PostImages.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PostImages.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PostImages.vue?vue&type=style&index=0&id=08705c32&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-08705c32\"]])\n\nexport default __exports__","<template>\n  <PostCard\n    v-for=\"p in posts\"\n    :key=\"p.id\"\n    :avatar-url=\"p.avatar\"\n    :author=\"p.author\"\n    :time=\"p.time\"\n    :content=\"p.content\"\n  >\n    <template #images>\n      <PostImages :imgs=\"p.imgs\" @open=\"i=>emit('open-modal',{post:p,idx:i})\"/>\n    </template>\n\n    <template #actions>\n      <PostActions\n        :views=\"p.views\"\n        :comments=\"p.cmts.length\"\n        @toggle-comments=\"emit('toggle-comments',p)\"\n      />\n    </template>\n\n    <template #comments>\n      <slot name=\"comments\" :post=\"p\"/>\n    </template>\n  </PostCard>\n\n  <LoadMoreButton v-if=\"hasMore\" @load=\"emit('load-more')\" />\n</template>\n\n<script setup>\nimport LoadMoreButton from '@/components/atoms/LoadMoreButton.vue'\nimport PostActions from '@/components/atoms/PostActions.vue'\nimport PostCard from '@/components/atoms/PostCard.vue'\nimport PostImages from '@/components/atoms/PostImages.vue'\n\nconst props = defineProps({ posts:Array, hasMore:Boolean })\nconst emit  = defineEmits(['load-more','open-modal','toggle-comments'])\n</script>\n","import script from \"./MomentsList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MomentsList.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <MomentsList\n    :posts=\"demo\"\n    :hasMore=\"false\"\n    @open-modal=\"()=>{}\"\n    @toggle-comments=\"()=>{}\"\n    @load-more=\"()=>{}\"\n  />\n</template>\n\n<script setup>\nimport MomentsList from '@/components/molecules/MomentsList.vue';\nconst demo=[\n  {id:1,avatar:'https://placehold.co/40',author:'Alice',time:'刚刚',content:'<p>Hello</p>',imgs:[],views:0,cmts:[]}\n]\n</script>\n","import script from \"./MomentsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MomentsPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","// src/router/index.js\nimport ShellLayout from '@/layout/ShellLayout.vue';\nimport { useUserStore } from '@/stores/user';\nimport AlbumPage from '@/views/AlbumPage.vue';\nimport EditorPage from '@/views/EditorPage.vue';\nimport LoginPage from '@/views/LoginPage.vue'; // 登录页（仅渲染 Modal）\nimport MomentsPage from '@/views/MomentsPage.vue';\nimport { createRouter, createWebHashHistory } from 'vue-router';\n\n// 路由配置\nconst routes = [\n  {\n    path: '/login',\n    name: 'Login',\n    component: LoginPage\n  },\n  // 404\n  { path: '/:pathMatch(.*)*', name: 'not-found', component: () => import('@/views/NotFound.vue') },\n  {\n    path: '/',\n    component: ShellLayout,\n    meta: { requiresAuth: true },\n    children: [\n      { path: '', redirect: '/moments' },\n      { path: 'moments', name: 'Moments', component: MomentsPage },\n      { path: 'albums', name: 'Albums', component: AlbumPage },\n      { path: 'editor', name: 'Editor', component: EditorPage },\n      { path: 'settings', name: 'Settings', component: () => import('@/views/SettingsPage.vue') },\n      {\n        path: '/settings/:section?',\n        name: 'Settings',\n        component: () => import('@/views/SettingsPage.vue')\n      }\n\n    ]\n  }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  const userStore = useUserStore()                  // ← 现在能正确拿到 store\n  if (to.meta.requiresAuth && !userStore.currentUser) {\n    return next({ name: 'Login', query: { redirect: to.fullPath } })\n  }\n  next()\n})\n\nexport default router\n","import '@/assets/common.css';\nimport '@/styles/global.css';\nimport { createPinia } from 'pinia';\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport './assets/styles.css';\nimport router from './router';\n\nconst app = createApp(App);\nconst pinia = createPinia()\n\napp.use(router); \napp.use(pinia);\napp.mount('#app');\n","// src/stores/user.js\nimport { defineStore } from 'pinia';\n\nexport const useUserStore = defineStore('user', {\n  // 1. state：初始化时，从 localStorage 读，确保刷新后还能拿到上次登录状态\n  state: () => ({\n    currentUser: localStorage.getItem('cm_currentUser') || null,\n    avatarMap: JSON.parse(localStorage.getItem('cm_avatarMap') || '{}')\n  }),\n\n  // 2. getters：可选，给模板或别的 Store 用来快速读值\n  getters: {\n    isLoggedIn: state => !!state.currentUser,\n\n    // 新增：统一的头像取值 + 默认回退\n    getAvatar: (state) => {\n      return (uid) => {\n        const url = state.avatarMap[uid];\n        return url && url.length > 0\n          ? url\n          : 'https://placehold.co/60';\n      };\n    }\n  },\n\n  // 3. actions：所有修改 state 的场景，都顺带同步到 localStorage\n  actions: {\n    login(uid) {\n      console.log('🔥 userStore.login called with', uid)\n      this.currentUser = uid\n      localStorage.setItem('cm_currentUser', uid)\n    },\n    logout() {\n      this.currentUser = null\n      localStorage.removeItem('cm_currentUser')\n    },\n    setAvatar(uid, url) {\n      // 更新内存中 avatarMap\n      this.avatarMap = { ...this.avatarMap, [uid]: url }\n      // 同步到 localStorage\n      localStorage.setItem('cm_avatarMap', JSON.stringify(this.avatarMap))\n    }\n  }\n})\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"694\":\"74041b43\",\"899\":\"86836c6a\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"694\":\"60f7f061\",\"899\":\"96c2e450\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"my-vue-app:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/CapturedMoments/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = (chunkId, fullhref, oldTag, resolve, reject) => {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = (event) => {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = (href, fullhref) => {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = (chunkId) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.miniCss = (chunkId, promises) => {\n\tvar cssChunks = {\"694\":1,\"899\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, (e) => {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmy_vue_app\"] = self[\"webpackChunkmy_vue_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(225)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["async","pbkdf2Hash","pwd","salt","iter","enc","TextEncoder","key","crypto","subtle","importKey","encode","name","bits","deriveBits","iterations","hash","Array","from","Uint8Array","map","b","toString","padStart","join","__exports__","render","emit","searchQuery","dropdown","emitSearch","value","userStore","router","handleLogout","logout","push","goSettings","props","home","HomeIcon","moments","MomentsIcon","albums","AlbumIcon","post","PostIcon","Comp","route","active","path","to","go","sidebarOpen","refreshPage","window","location","reload","onSearch","q","console","log","class","viewBox","d","type","accept","multiple","onFileChange","photos","url","idx","openSlider","src","alt","images","sliderIndex","visible","sliderVisible","onDeleteImage","close","toggleOptions","toggleInfo","infoVisible","cx","cy","r","fill","stroke","x1","y1","x2","y2","$emit","currentIndex","prev","disabled","ref","updateSize","style","zoom","transition","onWheel","next","length","min","minZoom","max","maxZoom","step","number","size","formattedDate","initialIndex","Number","Boolean","data","this","optionsVisible","computed","Date","toLocaleString","watch","val","methods","e","deltaY","Math","toFixed","img","target","$refs","slideImg","naturalWidth","naturalHeight","mounted","components","ImageSliderModal","files","forEach","f","URL","createObjectURL","splice","script","DEFAULT_ALLOWED_UIDS","getAllowedUids","raw","localStorage","getItem","arr","JSON","parse","isArray","onClick","displayedText","timerId","startTyping","text","i","typeChar","delay","speedFirst","speedLast","speedMid","setTimeout","fadeOutThenType","clearTimeout","fadeDuration","pauseDuration","newText","immediate","onInput","uid","password","currentTitle","error","loading","bump","credKey","trim","storedCred","safeJSON","isFirstLogin","canSubmit","u","p","showGeneralErr","timingSafeEqual","a","diff","charCodeAt","createSalt","getRandomValues","handleSubmit","id","allowed","includes","Error","calc","setItem","stringify","sessionStorage","message","show","v","onLogin","login","redirect","query","replace","demo","avatar","author","time","content","imgs","views","cmts","routes","component","LoginPage","ShellLayout","meta","requiresAuth","children","MomentsPage","AlbumPage","EditorPage","history","beforeEach","currentUser","fullPath","app","App","use","mount","useUserStore","state","avatarMap","getters","isLoggedIn","getAvatar","actions","removeItem","setAvatar","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","definition","o","defineProperty","enumerable","get","chunkId","Promise","all","reduce","promises","miniCssF","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","document","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","onScriptComplete","event","onerror","onload","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","createStylesheet","fullhref","oldTag","resolve","reject","linkTag","rel","nonce","onLinkComplete","errorType","realHref","href","err","code","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","then","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}