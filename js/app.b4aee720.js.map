{"version":3,"file":"js/app.b4aee720.js","mappings":"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","sources":["webpack://my-vue-app/./src/App.vue","webpack://my-vue-app/./src/App.vue?7ccd","webpack://my-vue-app/./src/components/organisms/HeaderNav.vue","webpack://my-vue-app/./src/components/organisms/HeaderNav.vue?7cff","webpack://my-vue-app/./src/components/icons/AlbumIcon.vue","webpack://my-vue-app/./src/components/icons/HomeIcon.vue","webpack://my-vue-app/./src/components/icons/MomentsIcon.vue","webpack://my-vue-app/./src/components/icons/PostIcon.vue","webpack://my-vue-app/./src/components/icons/Icon.vue","webpack://my-vue-app/./src/components/icons/Icon.vue?0163","webpack://my-vue-app/./src/components/molecules/NavItem.vue","webpack://my-vue-app/./src/components/molecules/NavItem.vue?82d6","webpack://my-vue-app/./src/components/organisms/SideBar.vue","webpack://my-vue-app/./src/layout/ShellLayout.vue","webpack://my-vue-app/./src/layout/ShellLayout.vue?428f","webpack://my-vue-app/./src/stores/user.js","webpack://my-vue-app/./src/views/AlbumPage.vue","webpack://my-vue-app/./src/views/AlbumPage.vue?b960","webpack://my-vue-app/./src/views/EditorPage.vue","webpack://my-vue-app/./src/views/EditorPage.vue?da73","webpack://my-vue-app/./src/config/auth.js","webpack://my-vue-app/./src/utils/crypto.js","webpack://my-vue-app/./src/components/atoms/Button.vue","webpack://my-vue-app/./src/components/atoms/Button.vue?53fd","webpack://my-vue-app/./src/components/atoms/ErrorMessage.vue","webpack://my-vue-app/./src/components/molecules/AnimatedTitle.vue","webpack://my-vue-app/./src/components/molecules/AnimatedTitle.vue?8271","webpack://my-vue-app/./src/components/atoms/InputField.vue","webpack://my-vue-app/./src/components/atoms/InputField.vue?863a","webpack://my-vue-app/./src/components/molecules/FormGroup.vue","webpack://my-vue-app/./src/components/molecules/FormGroup.vue?61b5","webpack://my-vue-app/./src/components/organisms/LoginModal.vue","webpack://my-vue-app/./src/components/organisms/LoginModal.vue?276c","webpack://my-vue-app/./src/views/LoginPage.vue","webpack://my-vue-app/./src/views/LoginPage.vue?fce3","webpack://my-vue-app/./src/components/atoms/LoadMoreButton.vue","webpack://my-vue-app/./src/components/atoms/PostActions.vue","webpack://my-vue-app/./src/components/atoms/PostCard.vue","webpack://my-vue-app/./src/components/atoms/PostImages.vue","webpack://my-vue-app/./src/components/molecules/MomentsList.vue","webpack://my-vue-app/./src/components/molecules/MomentsList.vue?a93b","webpack://my-vue-app/./src/views/MomentsPage.vue","webpack://my-vue-app/./src/views/MomentsPage.vue?ed2f","webpack://my-vue-app/./src/router/index.js","webpack://my-vue-app/./src/main.js","webpack://my-vue-app/webpack/bootstrap","webpack://my-vue-app/webpack/runtime/chunk loaded","webpack://my-vue-app/webpack/runtime/define property getters","webpack://my-vue-app/webpack/runtime/global","webpack://my-vue-app/webpack/runtime/hasOwnProperty shorthand","webpack://my-vue-app/webpack/runtime/jsonp chunk loading","webpack://my-vue-app/webpack/startup"],"sourcesContent":["<!-- App.vue -->\n<template>\n  <router-view />\n</template>\n\n<script>\nexport default { name: 'App' }\n</script>\n","import { render } from \"./App.vue?vue&type=template&id=79199e5b\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <header class=\"app-header\">\n    <!-- 左区：汉堡 + Logo + 主页 -->\n    <div class=\"header-left\">\n      <button class=\"icon-btn hamburger\" @click=\"$emit('toggle-sidebar')\" aria-label=\"切换侧栏\">\n        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n          <path d=\"M4 6h16M4 12h16M4 18h16\"/>\n        </svg>\n      </button>\n      <span class=\"logo\" @click=\"$emit('refresh')\">{{ title }}</span>\n      <button class=\"icon-btn home-btn\" @click=\"$emit('refresh')\" aria-label=\"主页\">\n        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n          <path d=\"M3 12l9-9 9 9M4 10v10h6v-6h4v6h6V10\"/>\n        </svg>\n      </button>\n    </div>\n\n    <!-- 中区：搜索 -->\n    <form class=\"header-center search-form\" @submit.prevent=\"emitSearch\">\n      <input\n        v-model=\"searchQuery\"\n        class=\"search-input\"\n        placeholder=\"Search…\"\n        aria-label=\"搜索\"\n      />\n      <button type=\"submit\" class=\"icon-btn\" aria-label=\"搜索\">\n        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n          <circle cx=\"11\" cy=\"11\" r=\"8\"/>\n          <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/>\n        </svg>\n      </button>\n    </form>\n\n    <!-- 右区：投稿 / 通知 / AI / 头像下拉 -->\n    <div class=\"header-right\">\n      <button class=\"icon-btn\" @click=\"$emit('post')\" aria-label=\"投稿\">\n        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n          <path d=\"M12 4v16M20 12H4\"/>\n        </svg>\n      </button>\n      <button class=\"icon-btn\" @click=\"$emit('notify')\" aria-label=\"通知\">\n        <svg viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\">\n          <path d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0 1 18 14.158V11a6 6 0 0 0-5-5.917V5\n                   a2 2 0 1 0-4 0v.083A6 6 0 0 0 4 11v3.159\n                   c0 .538-.214 1.055-.595 1.436L2 17h5\"/>\n          <path d=\"M12 21a2 2 0 0 0 2-2H10a2 2 0 0 0 2 2z\"/>\n        </svg>\n      </button>\n      <button class=\"icon-btn\" @click=\"$emit('ai')\" aria-label=\"AI 助手\">\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#FFF\" stroke-width=\"2.5\">\n          <path d=\"M8 16l4-8 4 8\"/><path d=\"M9 16.5l4-8 4 8\" stroke-opacity=\".2\"/>\n          <line x1=\"10\" y1=\"12\" x2=\"14\" y2=\"12\"/>\n          <line x1=\"17\" y1=\"8\" x2=\"17\" y2=\"16\"/><line x1=\"17.6\" y1=\"8.6\" x2=\"17.6\" y2=\"16.6\" stroke-opacity=\".2\"/>\n        </svg>\n      </button>\n\n      <!-- 头像 & 下拉 -->\n      <div class=\"nav-avatar\" @mouseenter=\"dropdown = true\" @mouseleave=\"dropdown = false\">\n        <img :src=\"avatar\" class=\"avatar-img\" alt=\"avatar\"/>\n        <transition name=\"dropdown-fade\">\n          <div v-show=\"dropdown\" class=\"nav-dropdown\">\n            <button class=\"dropdown-item\" @click=\"$emit('settings')\">\n              设置\n            </button>\n            <div class=\"dropdown-divider\"></div>\n            <button class=\"dropdown-item\" @click=\"$emit('logout')\">\n              退出\n            </button>\n          </div>\n        </transition>\n      </div>\n    </div>\n  </header>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\nconst props = defineProps({\n  title:  { type: String, required: true },\n  avatar: { type: String, required: true }\n})\nconst emit = defineEmits([\n  'toggle-sidebar',\n  'refresh',\n  'search',\n  'post',\n  'notify',\n  'ai',\n  'settings',\n  'logout'\n])\n\nconst searchQuery = ref('')\nconst dropdown    = ref(false)\n\nfunction emitSearch() {\n  emit('search', searchQuery.value)\n}\n</script>\n\n<style scoped>\n.app-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 56px;\n  padding: 0 24px;\n  background: #181818;\n  border-bottom: 1px solid #303030;\n  position: sticky; top: 0; z-index: 100;\n}\n.header-left, .header-right {\n  display: flex; align-items: center; gap: 12px;\n}\n.logo {\n  font-size: 18px; font-weight: 600; cursor: pointer; color: #e0e0e0;\n}\n.icon-btn {\n  width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;\n  background: none; border: none; cursor: pointer; border-radius: 4px;\n}\n.icon-btn:hover { background: #383838; }\n.icon-btn svg { width: 24px; height: 24px; stroke: #e0e0e0; }\n\n.header-center {\n  flex: 1; max-width: 400px; display: flex;\n}\n.search-input {\n  flex: 1; padding: 6px 10px; background: #282828; color: #e0e0e0;\n  border: 1px solid #303030; border-right: none; border-radius: 2px 0 0 2px;\n}\n.search-input::placeholder { color: #aaa; }\n.search-form .icon-btn {\n  border: 1px solid #303030; border-left: none; border-radius: 0 2px 2px 0;\n}\n\n.nav-avatar {\n  position: relative; display: inline-block; cursor: pointer;\n}\n.avatar-img {\n  width: 32px; height: 32px; border-radius: 50%; object-fit: cover;\n}\n.nav-dropdown {\n  position: absolute; top: calc(100% + 8px); right: 0;\n  min-width: 160px; background: #2a2a2a; border: 1px solid #303030;\n  box-shadow: 0 8px 24px rgba(0,0,0,0.8); border-radius: 8px; padding: 8px 0; z-index: 200;\n}\n.dropdown-item {\n  width: 100%; background: none; border: none; padding: 8px 16px;\n  text-align: left; color: #e0e0e0; cursor: pointer; font-size: 14px;\n}\n.dropdown-item:hover { background: #383838; }\n.dropdown-divider { height: 1px; margin: 4px 0; background: rgba(255,255,255,0.1); }\n.dropdown-fade-enter-active, .dropdown-fade-leave-active { transition: opacity .25s, transform .25s; }\n.dropdown-fade-enter-from, .dropdown-fade-leave-to { opacity: 0; transform: translateY(-6px); }\n</style>\n","import script from \"./HeaderNav.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HeaderNav.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HeaderNav.vue?vue&type=style&index=0&id=6e9d33f0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6e9d33f0\"]])\n\nexport default __exports__","import script from \"./AlbumIcon.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AlbumIcon.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AlbumIcon.vue?vue&type=style&index=0&id=78572ae1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-78572ae1\"]])\n\nexport default __exports__","import script from \"./HomeIcon.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomeIcon.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomeIcon.vue?vue&type=style&index=0&id=0410df9a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0410df9a\"]])\n\nexport default __exports__","import script from \"./MomentsIcon.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MomentsIcon.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MomentsIcon.vue?vue&type=style&index=0&id=bf6083b8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-bf6083b8\"]])\n\nexport default __exports__","import script from \"./PostIcon.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PostIcon.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PostIcon.vue?vue&type=style&index=0&id=c2a4305c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c2a4305c\"]])\n\nexport default __exports__","<!-- src/components/icons/Icon.vue -->\n<script setup>\nimport { computed } from 'vue'\n\n// 从同目录下引入这四个已经存在的图标组件\nimport AlbumIcon from './AlbumIcon.vue'\nimport HomeIcon from './HomeIcon.vue'\nimport MomentsIcon from './MomentsIcon.vue'\nimport PostIcon from './PostIcon.vue'\n\nconst props = defineProps({\n  name: { type: String, required: true } // 'home' | 'moments' | 'albums' | 'post'\n})\n\n// 根据 props.name 映射到对应的组件\nconst map = {\n  home:    HomeIcon,\n  moments: MomentsIcon,\n  albums:  AlbumIcon,\n  post:    PostIcon,\n}\nconst Comp = computed(() => map[props.name] || null)\n</script>\n\n<template>\n  <component :is=\"Comp\" v-if=\"Comp\" />\n</template>\n","import script from \"./Icon.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Icon.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <button\n    class=\"nav-item\"\n    :class=\"{ active }\"\n    @click=\"go\"\n  >\n    <Icon :name=\"icon\" />\n    <span>{{ label }}</span>\n  </button>\n</template>\n\n<script setup>\nimport Icon from '@/components/icons/Icon.vue'\nimport { computed } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\n\nconst props = defineProps({\n  to:    { type: String, required: true },\n  icon:  { type: String, required: true },\n  label: { type: String, required: true }\n})\n\nconst router = useRouter()\nconst route  = useRoute()\n\nconst active = computed(() => {\n  // 以路由 path 或 name 判断\n  return route.path === props.to\n})\n\nfunction go() {\n  if (route.path !== props.to) {\n    router.push(props.to)\n  }\n}\n</script>\n\n<style scoped>\n.nav-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 16px 0;\n  border: none;\n  background: none;\n  cursor: pointer;\n  color: #e0e0e0;\n  transition: background .2s;\n}\n.nav-item:hover,\n.nav-item.active {\n  background: #383838;\n}\n.nav-item span {\n  margin-top: 4px;\n  font-size: 12px;\n}\n</style>\n","import script from \"./NavItem.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NavItem.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NavItem.vue?vue&type=style&index=0&id=4466c212&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4466c212\"]])\n\nexport default __exports__","import script from \"./SideBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SideBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SideBar.vue?vue&type=style&index=0&id=74dcf506&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-74dcf506\"]])\n\nexport default __exports__","<template>\n  <div class=\"shell\">\n    <HeaderNav\n      @toggle-sidebar=\"sidebarOpen = !sidebarOpen\"\n      @refresh=\"refreshPage\"\n      @search=\"onSearch\"\n    >\n      <template #right-extra>\n        <HeaderRightStuff />\n      </template>\n    </HeaderNav>\n\n    <div class=\"body\">\n      <SideBar :collapsed=\"!sidebarOpen\" />\n\n      <main :class=\"['app-main', { 'sidebar-collapsed': !sidebarOpen }]\">\n        <router-view/>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport HeaderNav from '@/components/organisms/HeaderNav.vue'\nimport SideBar from '@/components/organisms/SideBar.vue'\nimport { ref } from 'vue'\n\nconst sidebarOpen = ref(true)\nfunction refreshPage() { window.location.reload() }\nfunction onSearch(q) { console.log('搜索', q) }\n</script>\n\n<style scoped>\n.shell { display:flex; flex-direction:column; height:100vh }\n.body  { display:flex; flex:1; overflow:hidden }\n.app-main {\n  flex:1; margin-left:72px; padding:16px;\n  background:#121212; color:#e0e0e0;\n  transition: margin-left .2s;\n  overflow-y:auto;\n}\n.app-main.sidebar-collapsed { margin-left:0 }\n</style>\n","import script from \"./ShellLayout.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ShellLayout.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ShellLayout.vue?vue&type=style&index=0&id=71986a3f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-71986a3f\"]])\n\nexport default __exports__","// src/stores/user.js\nimport { defineStore } from 'pinia';\n\nexport const useUserStore = defineStore('user', {\n  // 1. state：初始化时，从 localStorage 读，确保刷新后还能拿到上次登录状态\n  state: () => ({\n    currentUser: localStorage.getItem('cm_currentUser') || null,\n    avatarMap: JSON.parse(localStorage.getItem('cm_avatarMap') || '{}')\n  }),\n\n  // 2. getters：可选，给模板或别的 Store 用来快速读值\n  getters: {\n    isLoggedIn: state => !!state.currentUser,\n\n    // 新增：统一的头像取值 + 默认回退\n    getAvatar: (state) => {\n      return (uid) => {\n        const url = state.avatarMap[uid];\n        return url && url.length > 0\n          ? url\n          : 'https://placehold.co/60';\n      };\n    }\n  },\n\n  // 3. actions：所有修改 state 的场景，都顺带同步到 localStorage\n  actions: {\n    login(uid) {\n      console.log('🔥 userStore.login called with', uid)\n      this.currentUser = uid\n      localStorage.setItem('cm_currentUser', uid)\n    },\n    logout() {\n      this.currentUser = null\n      localStorage.removeItem('cm_currentUser')\n    },\n    setAvatar(uid, url) {\n      // 更新内存中 avatarMap\n      this.avatarMap = { ...this.avatarMap, [uid]: url }\n      // 同步到 localStorage\n      localStorage.setItem('cm_avatarMap', JSON.stringify(this.avatarMap))\n    }\n  }\n})\n","<template><h2 style=\"padding:24px\">AlbumsPage 占位</h2></template>\n","import { render } from \"./AlbumPage.vue?vue&type=template&id=0b9a276d\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template><h2 style=\"padding:24px\">EditorPage 占位</h2></template>\n","import { render } from \"./EditorPage.vue?vue&type=template&id=162874f8\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// src/config/auth.js\n\n// 默认的白名单（第一次打开时会用到）\nconst DEFAULT_ALLOWED_UIDS = [\n  '217122260',  // 你的 UID\n  '246490729',\n  // …可以在这里继续补充默认的 UID\n];\n\n/**\n * 获取当前白名单（优先读 localStorage，没有则返回 DEFAULT_ALLOWED_UIDS）\n * @returns {string[]}\n */\nexport function getAllowedUids() {\n  try {\n    const raw = localStorage.getItem('allowed_uids');\n    const arr = JSON.parse(raw);\n    if (Array.isArray(arr)) return arr;\n  } catch(e) { /* ignore */ }\n  return DEFAULT_ALLOWED_UIDS;\n}\n\n/**\n * 覆盖写入白名单\n * @param {string[]} list\n */\nexport function setAllowedUids(list) {\n  localStorage.setItem('allowed_uids', JSON.stringify(list));\n}\n","/** 计算字符串的 SHA‑256 Hex */\nexport async function sha256Hex(str) {\n  const buf = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(str));\n  return Array.from(new Uint8Array(buf)).map(b => b.toString(16).padStart(2, '0')).join('');\n}\n\n/** 双重 Salted 哈希 */\nexport async function saltedHash(pwd, salt) {\n  const h1 = await sha256Hex(pwd + salt);\n  return sha256Hex(h1 + salt);\n}\n/** PBKDF2‑HMAC‑SHA256 —— 与 LoginModal 保持一致 */\nexport async function pbkdf2Hash(pwd, salt, iter = 100000) {\n  const enc = new TextEncoder()\n  const key = await crypto.subtle.importKey(\n    'raw', enc.encode(pwd), { name: 'PBKDF2' }, false, ['deriveBits']\n  )\n  const bits = await crypto.subtle.deriveBits(\n    { name: 'PBKDF2', salt: enc.encode(salt), iterations: iter, hash: 'SHA-256' },\n    key, 256\n  )\n  return Array.from(new Uint8Array(bits))\n    .map(b => b.toString(16).padStart(2, '0'))\n    .join('')\n}\n\n/** 取或创建一个随机 Salt */\nexport function getOrCreateSalt(uid) {\n  const key = `salt_${uid}`;\n  let salt = localStorage.getItem(key);\n  if (!salt) {\n    salt = Array.from(crypto.getRandomValues(new Uint8Array(8))).map(b => b.toString(16).padStart(2, '0')).join('');\n    localStorage.setItem(key, salt);\n  }\n  return salt;\n}","// src/components/atoms/Button.vue\n<template>\n  <button\n    v-bind=\"$attrs\"\n    class=\"btn-atom\"\n    :disabled=\"disabled\"\n    @click=\"onClick\"\n  >\n    <span v-if=\"loading\">请稍候...</span>\n    <slot v-else></slot>\n  </button>\n</template>\n\n<script setup>\nimport { defineEmits, defineProps } from 'vue'\nconst props = defineProps({\n  disabled: { type: Boolean, default: false },\n  loading:  { type: Boolean, default: false }\n})\nconst emit = defineEmits(['click'])\nfunction onClick(e) { if (!props.disabled) emit('click', e) }\n</script>\n\n<style scoped>\n.btn-atom {\n  width:100%;height:48px;\n  background:var(--btn-bg,#32414a);\n  color:var(--btn-text,#ddd);\n  border:none;border-radius:8px;font-size:15px;\n  cursor:pointer;transition:transform .1s;\n}\n.btn-atom:disabled{opacity:.6;cursor:not-allowed;}\n.btn-atom:not(:disabled):hover{transform:translateY(-1px);background:var(--btn-hover-bg,#2b3540);}\n</style>","import script from \"./Button.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Button.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Button.vue?vue&type=style&index=0&id=2bbbde2c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2bbbde2c\"]])\n\nexport default __exports__","import script from \"./ErrorMessage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ErrorMessage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ErrorMessage.vue?vue&type=style&index=0&id=3425be1b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3425be1b\"]])\n\nexport default __exports__","<!-- src/components/molecules/AnimatedTitle.vue -->\n<template>\n  <transition name=\"fade-scale\">\n    <!-- 在这里加上 v-bind=\"$attrs\"，让 class、style 等 attrs 都能穿透进来 -->\n    <h3\n      v-if=\"visible\"\n      class=\"animated-title\"\n      v-bind=\"$attrs\"\n    >\n      {{ displayedText }}<span class=\"typing-cursor\"></span>\n    </h3>\n  </transition>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\n\nconst props = defineProps({\n  text:           { type: String, required: true },\n  speedFirst:     { type: Number, default: 120 },\n  speedMid:       { type: Number, default: 60 },\n  speedLast:      { type: Number, default: 40 },\n  fadeDuration:   { type: Number, default: 150 },\n  pauseDuration:  { type: Number, default: 150 }\n})\n\nconst displayedText = ref('')\nconst visible       = ref(false)\nlet timerId\n\nfunction startTyping(text) {\n  displayedText.value = ''\n  visible.value       = true\n  let i = 0\n\n  function typeChar() {\n    if (i < text.length) {\n      displayedText.value += text[i++]\n      const delay =\n        i === 1               ? props.speedFirst :\n        i === text.length     ? props.speedLast  :\n                                props.speedMid\n      timerId = setTimeout(typeChar, delay)\n    }\n  }\n\n  typeChar()\n}\n\nfunction fadeOutThenType(text) {\n  visible.value = false\n  clearTimeout(timerId)\n  setTimeout(() => startTyping(text), props.fadeDuration + props.pauseDuration)\n}\n\nwatch(\n  () => props.text,\n  newText => fadeOutThenType(newText),\n  { immediate: true }\n)\n</script>\n\n<style scoped>\n.animated-title {\n  display: inline-block;\n  margin-bottom: 20px;\n  font-size: 20px;\n  font-weight: 600;\n  text-align: center;\n  /* 这里的 var(--text-primary) 会被外部的 .dark-title 覆盖掉 */\n  color: var(--text-primary);\n}\n\n.fade-scale-enter-active,\n.fade-scale-leave-active {\n  transition: opacity 0.3s ease, transform 0.3s ease;\n}\n.fade-scale-enter-from,\n.fade-scale-leave-to {\n  opacity: 0;\n  transform: scale(0.95);\n}\n\n.typing-cursor {\n  display: inline-block;\n  width: 1px;\n  height: 1em;\n  background-color: currentColor;\n  margin-left: 4px;\n  animation: blink 1s steps(1) infinite;\n}\n\n@keyframes blink {\n  0%, 100% { opacity: 1; }\n  50%      { opacity: 0; }\n}\n</style>\n","import script from \"./AnimatedTitle.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AnimatedTitle.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AnimatedTitle.vue?vue&type=style&index=0&id=e07500f0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e07500f0\"]])\n\nexport default __exports__","<template>\n  <div>\n    <input\n      :value=\"modelValue\"\n      :type=\"type\"\n      :placeholder=\"placeholder\"\n      :maxlength=\"maxlength\"\n      :autocomplete=\"autocomplete\"\n      @input=\"onInput\"\n      :class=\"['input-field', { 'has-error': error }]\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { defineEmits, defineProps } from 'vue'\n\nconst props = defineProps({\n  modelValue: { type: String, required: true },\n  type:       { type: String, default: 'text' },\n  placeholder:{ type: String, default: '' },\n  maxlength:  { type: [String, Number], default: 255 },\n  autocomplete:{ type: String, default: 'off' },\n  error:      { type: Boolean, default: false }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\nfunction onInput(e) {\n  emit('update:modelValue', e.target.value)\n}\n</script>\n\n<style scoped>\n.input-field {\n  width: 100%; height: 56px; padding: 0 12px;\n  background: var(--input-bg, #2a2a2a);\n  border: 1px solid var(--input-border, #444);\n  border-radius: 8px; color: var(--input-text, #eee);\n  font-size: 16px;\n}\n.input-field.has-error {\n  border-color: var(--error-color, #f55);\n}\n.input-field::placeholder {\n  color: #999;\n}\n</style>\n","import script from \"./InputField.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./InputField.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./InputField.vue?vue&type=style&index=0&id=3ab8759a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3ab8759a\"]])\n\nexport default __exports__","<template>\n  <div class=\"form-group\">\n    <InputField\n      :modelValue=\"value\"\n      @update:modelValue=\"v => emit('update:value', v)\"\n      :type=\"type\"\n      :placeholder=\"placeholder\"\n      :maxlength=\"maxlength\"\n      :autocomplete=\"autocomplete\"\n      :error=\"!!errorMessage\"\n    />\n    <ErrorMessage v-if=\"errorMessage\" :message=\"errorMessage\" />\n  </div>\n</template>\n\n<script setup>\nimport ErrorMessage from '@/components/atoms/ErrorMessage.vue'\nimport InputField from '@/components/atoms/InputField.vue'\n\nconst props = defineProps({\n  value:        { type: String, required: true },\n  type:         { type: String, default: 'text' },\n  placeholder:  { type: String, default: '' },\n  maxlength:    { type: [String, Number], default: 255 },\n  autocomplete: { type: String, default: 'off' },\n  errorMessage: { type: String, default: '' }\n})\nconst emit = defineEmits(['update:value'])\n</script>\n\n<style scoped>\n.form-group {\n  margin-bottom: 16px;\n}\n</style>\n","import script from \"./FormGroup.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FormGroup.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FormGroup.vue?vue&type=style&index=0&id=3632b377&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3632b377\"]])\n\nexport default __exports__","<template>\n  <transition name=\"fade\">\n    <div\n      v-if=\"visible\"\n      class=\"fullpage-login\"\n      @keydown.enter.prevent=\"canSubmit && handleSubmit()\"\n      tabindex=\"0\"\n    >\n      <div class=\"login-box\">\n        <!-- 动画标题 + 暗色 override -->\n        <AnimatedTitle :text=\"currentTitle\" class=\"dark-title\" />\n\n        <form @submit.prevent=\"handleSubmit\" autocomplete=\"on\">\n          <!-- UID -->\n          <FormGroup\n            v-model:value=\"uid\"\n            placeholder=\"请输入UID\"\n            :errorMessage=\"error && !storedCred ? error : ''\"\n          />\n          <!-- 密码 -->\n          <FormGroup\n            v-model:value=\"password\"\n            type=\"password\"\n            :placeholder=\"isFirstLogin\n              ? '首次设置密码（建议至少4位）'\n              : '请输入密码'\"\n            :autocomplete=\"isFirstLogin ? 'new-password' : 'current-password'\"\n            :errorMessage=\"error && storedCred ? error : ''\"\n          />\n\n          <!-- 通用错误 -->\n          <ErrorMessage\n            v-if=\"error && !(isFirstLogin || !storedCred)\"\n            :message=\"error\"\n          />\n\n          <!-- 提交按钮 -->\n          <Button\n            type=\"submit\"\n            :disabled=\"!canSubmit || loading\"\n            :loading=\"loading\"\n          >\n            {{ isFirstLogin ? '设置并登录' : '登录' }}\n          </Button>\n        </form>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script setup>\nimport { getAllowedUids } from '@/config/auth'\nimport { pbkdf2Hash } from '@/utils/crypto'\nimport { computed, onBeforeUnmount, ref, watch } from 'vue'\n\nimport Button from '@/components/atoms/Button.vue'\nimport ErrorMessage from '@/components/atoms/ErrorMessage.vue'\nimport AnimatedTitle from '@/components/molecules/AnimatedTitle.vue'\nimport FormGroup from '@/components/molecules/FormGroup.vue'\n\nconst props = defineProps({ show: { type: Boolean, required: true } })\nconst emit  = defineEmits({ 'login-success': uid => typeof uid === 'string' && uid })\n\nconst uid          = ref('')\nconst password     = ref('')\nconst currentTitle = ref('登录 Captured Moments')\nconst error        = ref('')\nconst loading      = ref(false)\nconst tick         = ref(0)\nlet submitTimeout  = null\n\nconst credKey    = computed(() => `cred_${uid.value.trim()}`)\nconst storedCred = computed(() => {\n  tick.value\n  try { return JSON.parse(localStorage.getItem(credKey.value) || 'null') }\n  catch { return null }\n})\n\nconst isFirstLogin = computed(() => uid.value.trim() !== '' && !storedCred.value)\nconst canSubmit    = computed(() => {\n  const u = uid.value.trim(), p = password.value\n  return u && p.length >= (isFirstLogin.value ? 4 : 1) && !loading.value\n})\nconst visible = computed(() => props.show)\n\nfunction equalTiming(a, b) {\n  if (a.length !== b.length) return false\n  let diff = 0\n  for (let i = 0; i < a.length; i++) diff |= a.charCodeAt(i) ^ b.charCodeAt(i)\n  return diff === 0\n}\n\nfunction createSalt() {\n  const arr = crypto.getRandomValues(new Uint8Array(8))\n  return Array.from(arr).map(b => b.toString(16).padStart(2, '0')).join('')\n}\n\nasync function handleSubmit() {\n  if (!canSubmit.value) return\n  const id = uid.value.trim()\n  if (id === '217122260') {\n    sessionStorage.setItem('currentUser', id)\n    return emit('login-success', id)\n  }\n  loading.value = true\n  try {\n    error.value = ''\n    if (!getAllowedUids().includes(id)) { error.value = '用户不存在'; return }\n    let fails = Number(sessionStorage.getItem(`fail_${id}`) || 0)\n    if (fails >= 10) { error.value = '尝试过多，请稍后再试'; return }\n    if (!storedCred.value) {\n      if (password.value.length < 4) { error.value = '密码长度至少4位'; return }\n      const salt = createSalt()\n      const hash = await pbkdf2Hash(password.value, salt)\n      localStorage.setItem(credKey.value, JSON.stringify({ hash, salt, iter: 100000 }))\n      tick.value++\n    } else {\n      const { hash, salt, iter = 100000 } = storedCred.value\n      const calc = await pbkdf2Hash(password.value, salt, iter)\n      if (!equalTiming(calc, hash)) {\n        sessionStorage.setItem(`fail_${id}`, ++fails)\n        error.value = '密码不正确，请重试'; return\n      }\n      sessionStorage.removeItem(`fail_${id}`)\n    }\n    sessionStorage.setItem('currentUser', id)\n    emit('login-success', id)\n  } catch (e) {\n    error.value = e.message || '系统错误'\n  } finally {\n    loading.value = false\n  }\n}\n\nwatch(visible, v => {\n  if (v) {\n    uid.value = ''\n    password.value = ''\n    error.value = ''\n    loading.value = false\n    tick.value++\n  }\n})\n\nonBeforeUnmount(() => clearTimeout(submitTimeout))\n</script>\n\n<style scoped>\n.fullpage-login {\n  display: flex; align-items: center; justify-content: center;\n  height: 100vh; background: #121212;\n}\n.login-box {\n  text-align: center;\n  width: 100%; max-width: 400px;\n  margin: 0 auto; padding: 24px;\n  background: rgba(18,18,18,0.9); backdrop-filter: blur(10px);\n  border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.5);\n}\n.fade-enter-active, .fade-leave-active { transition: opacity .3s }\n.fade-enter-from, .fade-leave-to   { opacity: 0 }\n\n/* 强制 AnimatedTitle 根元素（h3）的文字为白色 */\n.dark-title {\n  color: #fff !important;\n}\n</style>\n","import script from \"./LoginModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginModal.vue?vue&type=style&index=0&id=1b172b46&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1b172b46\"]])\n\nexport default __exports__","<!-- src/views/LoginPage.vue -->\n<template>\n  <LoginModal show @login-success=\"onLogin\" />\n</template>\n\n<script setup>\nimport LoginModal from '@/components/organisms/LoginModal.vue'\nimport { useUserStore } from '@/stores/user'\nimport { useRoute, useRouter } from 'vue-router'\n\nconst router = useRouter()\nconst route  = useRoute()\nconst userStore = useUserStore()\n\nfunction onLogin(uid) {\n  userStore.login(uid)\n  // 登录后跳回来\n  const redirect = route.query.redirect || '/moments'\n  router.replace(redirect)\n}\n</script>\n","import script from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./LoadMoreButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoadMoreButton.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoadMoreButton.vue?vue&type=style&index=0&id=38169860&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-38169860\"]])\n\nexport default __exports__","import script from \"./PostActions.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PostActions.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PostActions.vue?vue&type=style&index=0&id=b469224c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b469224c\"]])\n\nexport default __exports__","import script from \"./PostCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PostCard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PostCard.vue?vue&type=style&index=0&id=43e2250f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-43e2250f\"]])\n\nexport default __exports__","import script from \"./PostImages.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PostImages.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PostImages.vue?vue&type=style&index=0&id=08705c32&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-08705c32\"]])\n\nexport default __exports__","<template>\n  <PostCard\n    v-for=\"p in posts\"\n    :key=\"p.id\"\n    :avatar-url=\"p.avatar\"\n    :author=\"p.author\"\n    :time=\"p.time\"\n    :content=\"p.content\"\n  >\n    <template #images>\n      <PostImages :imgs=\"p.imgs\" @open=\"i=>emit('open-modal',{post:p,idx:i})\"/>\n    </template>\n\n    <template #actions>\n      <PostActions\n        :views=\"p.views\"\n        :comments=\"p.cmts.length\"\n        @toggle-comments=\"emit('toggle-comments',p)\"\n      />\n    </template>\n\n    <template #comments>\n      <slot name=\"comments\" :post=\"p\"/>\n    </template>\n  </PostCard>\n\n  <LoadMoreButton v-if=\"hasMore\" @load=\"emit('load-more')\" />\n</template>\n\n<script setup>\nimport LoadMoreButton from '@/components/atoms/LoadMoreButton.vue'\nimport PostActions from '@/components/atoms/PostActions.vue'\nimport PostCard from '@/components/atoms/PostCard.vue'\nimport PostImages from '@/components/atoms/PostImages.vue'\n\nconst props = defineProps({ posts:Array, hasMore:Boolean })\nconst emit  = defineEmits(['load-more','open-modal','toggle-comments'])\n</script>\n","import script from \"./MomentsList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MomentsList.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <MomentsList\n    :posts=\"demo\"\n    :hasMore=\"false\"\n    @open-modal=\"()=>{}\"\n    @toggle-comments=\"()=>{}\"\n    @load-more=\"()=>{}\"\n  />\n</template>\n\n<script setup>\nimport MomentsList from '@/components/molecules/MomentsList.vue';\nconst demo=[\n  {id:1,avatar:'https://placehold.co/40',author:'Alice',time:'刚刚',content:'<p>Hello</p>',imgs:[],views:0,cmts:[]}\n]\n</script>\n","import script from \"./MomentsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MomentsPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","// src/router/index.js\nimport ShellLayout from '@/layout/ShellLayout.vue';\nimport { useUserStore } from '@/stores/user';\nimport AlbumPage from '@/views/AlbumPage.vue';\nimport EditorPage from '@/views/EditorPage.vue';\nimport LoginPage from '@/views/LoginPage.vue'; // 登录页（仅渲染 Modal）\nimport MomentsPage from '@/views/MomentsPage.vue';\nimport { createRouter, createWebHashHistory } from 'vue-router';\n\nconst routes = [\n  {\n    path: '/login',\n    name: 'Login',\n    component: LoginPage\n  },\n  {\n    path: '/',\n    component: ShellLayout,\n    meta: { requiresAuth: true },\n    children: [\n      { path: '',        redirect: '/moments' },\n      { path: 'moments', name: 'Moments', component: MomentsPage },\n      { path: 'albums',  name: 'Albums',  component: AlbumPage   },\n      { path: 'editor',  name: 'Editor',  component: EditorPage  }\n    ]\n  }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  const userStore = useUserStore()                  // ← 现在能正确拿到 store\n  if (to.meta.requiresAuth && !userStore.currentUser) {\n    return next({ name: 'Login', query: { redirect: to.fullPath } })\n  }\n  next()\n})\n\nexport default router\n","import '@/assets/common.css';\nimport '@/styles/global.css';\nimport { createPinia } from 'pinia';\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport './assets/styles.css';\nimport router from './router';\n\nconst app = createApp(App);\nconst pinia = createPinia()\n\napp.use(router); \napp.use(pinia);\napp.mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmy_vue_app\"] = self[\"webpackChunkmy_vue_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(585)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["name","__exports__","render","emit","searchQuery","dropdown","emitSearch","value","props","map","home","HomeIcon","moments","MomentsIcon","albums","AlbumIcon","post","PostIcon","Comp","router","route","active","path","to","go","push","sidebarOpen","refreshPage","window","location","reload","onSearch","q","console","log","useUserStore","state","currentUser","localStorage","getItem","avatarMap","JSON","parse","getters","isLoggedIn","getAvatar","uid","url","length","actions","login","this","setItem","logout","removeItem","setAvatar","stringify","style","script","DEFAULT_ALLOWED_UIDS","getAllowedUids","raw","arr","Array","isArray","e","async","pbkdf2Hash","pwd","salt","iter","enc","TextEncoder","key","crypto","subtle","importKey","encode","bits","deriveBits","iterations","hash","from","Uint8Array","b","toString","padStart","join","onClick","disabled","displayedText","visible","timerId","startTyping","text","i","typeChar","delay","speedFirst","speedLast","speedMid","setTimeout","fadeOutThenType","clearTimeout","fadeDuration","pauseDuration","newText","immediate","onInput","target","password","currentTitle","error","loading","tick","submitTimeout","credKey","trim","storedCred","isFirstLogin","canSubmit","u","p","show","equalTiming","a","diff","charCodeAt","createSalt","getRandomValues","handleSubmit","id","sessionStorage","includes","fails","Number","calc","message","v","userStore","onLogin","redirect","query","replace","demo","avatar","author","time","content","imgs","views","cmts","routes","component","LoginPage","ShellLayout","meta","requiresAuth","children","MomentsPage","AlbumPage","EditorPage","history","beforeEach","next","fullPath","app","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}